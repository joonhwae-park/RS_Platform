(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var Be=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function qh(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var Ku={exports:{}},ci={},Gu={exports:{}},F={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gr=Symbol.for("react.element"),Kh=Symbol.for("react.portal"),Gh=Symbol.for("react.fragment"),Qh=Symbol.for("react.strict_mode"),Jh=Symbol.for("react.profiler"),Yh=Symbol.for("react.provider"),Xh=Symbol.for("react.context"),Zh=Symbol.for("react.forward_ref"),ef=Symbol.for("react.suspense"),tf=Symbol.for("react.memo"),nf=Symbol.for("react.lazy"),_a=Symbol.iterator;function rf(t){return t===null||typeof t!="object"?null:(t=_a&&t[_a]||t["@@iterator"],typeof t=="function"?t:null)}var Qu={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ju=Object.assign,Yu={};function Qn(t,e,n){this.props=t,this.context=e,this.refs=Yu,this.updater=n||Qu}Qn.prototype.isReactComponent={};Qn.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Qn.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Xu(){}Xu.prototype=Qn.prototype;function yl(t,e,n){this.props=t,this.context=e,this.refs=Yu,this.updater=n||Qu}var wl=yl.prototype=new Xu;wl.constructor=yl;Ju(wl,Qn.prototype);wl.isPureReactComponent=!0;var xa=Array.isArray,Zu=Object.prototype.hasOwnProperty,_l={current:null},ec={key:!0,ref:!0,__self:!0,__source:!0};function tc(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)Zu.call(e,r)&&!ec.hasOwnProperty(r)&&(s[r]=e[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var a=Array(l),u=0;u<l;u++)a[u]=arguments[u+2];s.children=a}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:Gr,type:t,key:i,ref:o,props:s,_owner:_l.current}}function sf(t,e){return{$$typeof:Gr,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function xl(t){return typeof t=="object"&&t!==null&&t.$$typeof===Gr}function of(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var ka=/\/+/g;function Li(t,e){return typeof t=="object"&&t!==null&&t.key!=null?of(""+t.key):e.toString(36)}function bs(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Gr:case Kh:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Li(o,0):r,xa(s)?(n="",t!=null&&(n=t.replace(ka,"$&/")+"/"),bs(s,e,n,"",function(u){return u})):s!=null&&(xl(s)&&(s=sf(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(ka,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",xa(t))for(var l=0;l<t.length;l++){i=t[l];var a=r+Li(i,l);o+=bs(i,e,n,a,s)}else if(a=rf(t),typeof a=="function")for(t=a.call(t),l=0;!(i=t.next()).done;)i=i.value,a=r+Li(i,l++),o+=bs(i,e,n,a,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function ns(t,e,n){if(t==null)return t;var r=[],s=0;return bs(t,r,"","",function(i){return e.call(n,i,s++)}),r}function lf(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Se={current:null},Cs={transition:null},af={ReactCurrentDispatcher:Se,ReactCurrentBatchConfig:Cs,ReactCurrentOwner:_l};function nc(){throw Error("act(...) is not supported in production builds of React.")}F.Children={map:ns,forEach:function(t,e,n){ns(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return ns(t,function(){e++}),e},toArray:function(t){return ns(t,function(e){return e})||[]},only:function(t){if(!xl(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};F.Component=Qn;F.Fragment=Gh;F.Profiler=Jh;F.PureComponent=yl;F.StrictMode=Qh;F.Suspense=ef;F.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=af;F.act=nc;F.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Ju({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=_l.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(a in e)Zu.call(e,a)&&!ec.hasOwnProperty(a)&&(r[a]=e[a]===void 0&&l!==void 0?l[a]:e[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){l=Array(a);for(var u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:Gr,type:t.type,key:s,ref:i,props:r,_owner:o}};F.createContext=function(t){return t={$$typeof:Xh,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Yh,_context:t},t.Consumer=t};F.createElement=tc;F.createFactory=function(t){var e=tc.bind(null,t);return e.type=t,e};F.createRef=function(){return{current:null}};F.forwardRef=function(t){return{$$typeof:Zh,render:t}};F.isValidElement=xl;F.lazy=function(t){return{$$typeof:nf,_payload:{_status:-1,_result:t},_init:lf}};F.memo=function(t,e){return{$$typeof:tf,type:t,compare:e===void 0?null:e}};F.startTransition=function(t){var e=Cs.transition;Cs.transition={};try{t()}finally{Cs.transition=e}};F.unstable_act=nc;F.useCallback=function(t,e){return Se.current.useCallback(t,e)};F.useContext=function(t){return Se.current.useContext(t)};F.useDebugValue=function(){};F.useDeferredValue=function(t){return Se.current.useDeferredValue(t)};F.useEffect=function(t,e){return Se.current.useEffect(t,e)};F.useId=function(){return Se.current.useId()};F.useImperativeHandle=function(t,e,n){return Se.current.useImperativeHandle(t,e,n)};F.useInsertionEffect=function(t,e){return Se.current.useInsertionEffect(t,e)};F.useLayoutEffect=function(t,e){return Se.current.useLayoutEffect(t,e)};F.useMemo=function(t,e){return Se.current.useMemo(t,e)};F.useReducer=function(t,e,n){return Se.current.useReducer(t,e,n)};F.useRef=function(t){return Se.current.useRef(t)};F.useState=function(t){return Se.current.useState(t)};F.useSyncExternalStore=function(t,e,n){return Se.current.useSyncExternalStore(t,e,n)};F.useTransition=function(){return Se.current.useTransition()};F.version="18.3.1";Gu.exports=F;var U=Gu.exports;/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uf=U,cf=Symbol.for("react.element"),df=Symbol.for("react.fragment"),hf=Object.prototype.hasOwnProperty,ff=uf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,pf={key:!0,ref:!0,__self:!0,__source:!0};function rc(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)hf.call(e,r)&&!pf.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:cf,type:t,key:i,ref:o,props:s,_owner:ff.current}}ci.Fragment=df;ci.jsx=rc;ci.jsxs=rc;Ku.exports=ci;var c=Ku.exports,sc={exports:{}},Le={},ic={exports:{}},oc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(N,A){var M=N.length;N.push(A);e:for(;0<M;){var X=M-1>>>1,se=N[X];if(0<s(se,A))N[X]=A,N[M]=se,M=X;else break e}}function n(N){return N.length===0?null:N[0]}function r(N){if(N.length===0)return null;var A=N[0],M=N.pop();if(M!==A){N[0]=M;e:for(var X=0,se=N.length,Ve=se>>>1;X<Ve;){var tt=2*(X+1)-1,tr=N[tt],at=tt+1,pn=N[at];if(0>s(tr,M))at<se&&0>s(pn,tr)?(N[X]=pn,N[at]=M,X=at):(N[X]=tr,N[tt]=M,X=tt);else if(at<se&&0>s(pn,M))N[X]=pn,N[at]=M,X=at;else break e}}return A}function s(N,A){var M=N.sortIndex-A.sortIndex;return M!==0?M:N.id-A.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var a=[],u=[],d=1,h=null,m=3,y=!1,_=!1,v=!1,k=typeof setTimeout=="function"?setTimeout:null,f=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(N){for(var A=n(u);A!==null;){if(A.callback===null)r(u);else if(A.startTime<=N)r(u),A.sortIndex=A.expirationTime,e(a,A);else break;A=n(u)}}function w(N){if(v=!1,g(N),!_)if(n(a)!==null)_=!0,er(E);else{var A=n(u);A!==null&&fn(w,A.startTime-N)}}function E(N,A){_=!1,v&&(v=!1,f(P),P=-1),y=!0;var M=m;try{for(g(A),h=n(a);h!==null&&(!(h.expirationTime>A)||N&&!we());){var X=h.callback;if(typeof X=="function"){h.callback=null,m=h.priorityLevel;var se=X(h.expirationTime<=A);A=t.unstable_now(),typeof se=="function"?h.callback=se:h===n(a)&&r(a),g(A)}else r(a);h=n(a)}if(h!==null)var Ve=!0;else{var tt=n(u);tt!==null&&fn(w,tt.startTime-A),Ve=!1}return Ve}finally{h=null,m=M,y=!1}}var b=!1,C=null,P=-1,G=5,z=-1;function we(){return!(t.unstable_now()-z<G)}function kt(){if(C!==null){var N=t.unstable_now();z=N;var A=!0;try{A=C(!0,N)}finally{A?lt():(b=!1,C=null)}}else b=!1}var lt;if(typeof p=="function")lt=function(){p(kt)};else if(typeof MessageChannel<"u"){var hn=new MessageChannel,Ii=hn.port2;hn.port1.onmessage=kt,lt=function(){Ii.postMessage(null)}}else lt=function(){k(kt,0)};function er(N){C=N,b||(b=!0,lt())}function fn(N,A){P=k(function(){N(t.unstable_now())},A)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(N){N.callback=null},t.unstable_continueExecution=function(){_||y||(_=!0,er(E))},t.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):G=0<N?Math.floor(1e3/N):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(a)},t.unstable_next=function(N){switch(m){case 1:case 2:case 3:var A=3;break;default:A=m}var M=m;m=A;try{return N()}finally{m=M}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(N,A){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var M=m;m=N;try{return A()}finally{m=M}},t.unstable_scheduleCallback=function(N,A,M){var X=t.unstable_now();switch(typeof M=="object"&&M!==null?(M=M.delay,M=typeof M=="number"&&0<M?X+M:X):M=X,N){case 1:var se=-1;break;case 2:se=250;break;case 5:se=1073741823;break;case 4:se=1e4;break;default:se=5e3}return se=M+se,N={id:d++,callback:A,priorityLevel:N,startTime:M,expirationTime:se,sortIndex:-1},M>X?(N.sortIndex=M,e(u,N),n(a)===null&&N===n(u)&&(v?(f(P),P=-1):v=!0,fn(w,M-X))):(N.sortIndex=se,e(a,N),_||y||(_=!0,er(E))),N},t.unstable_shouldYield=we,t.unstable_wrapCallback=function(N){var A=m;return function(){var M=m;m=A;try{return N.apply(this,arguments)}finally{m=M}}}})(oc);ic.exports=oc;var mf=ic.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gf=U,$e=mf;function S(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var lc=new Set,Pr={};function un(t,e){Fn(t,e),Fn(t+"Capture",e)}function Fn(t,e){for(Pr[t]=e,t=0;t<e.length;t++)lc.add(e[t])}var vt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),vo=Object.prototype.hasOwnProperty,vf=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Sa={},ja={};function yf(t){return vo.call(ja,t)?!0:vo.call(Sa,t)?!1:vf.test(t)?ja[t]=!0:(Sa[t]=!0,!1)}function wf(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function _f(t,e,n,r){if(e===null||typeof e>"u"||wf(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function je(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var fe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){fe[t]=new je(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];fe[e]=new je(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){fe[t]=new je(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){fe[t]=new je(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){fe[t]=new je(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){fe[t]=new je(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){fe[t]=new je(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){fe[t]=new je(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){fe[t]=new je(t,5,!1,t.toLowerCase(),null,!1,!1)});var kl=/[\-:]([a-z])/g;function Sl(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(kl,Sl);fe[e]=new je(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(kl,Sl);fe[e]=new je(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(kl,Sl);fe[e]=new je(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){fe[t]=new je(t,1,!1,t.toLowerCase(),null,!1,!1)});fe.xlinkHref=new je("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){fe[t]=new je(t,1,!1,t.toLowerCase(),null,!0,!0)});function jl(t,e,n,r){var s=fe.hasOwnProperty(e)?fe[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(_f(e,n,s,r)&&(n=null),r||s===null?yf(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var xt=gf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,rs=Symbol.for("react.element"),xn=Symbol.for("react.portal"),kn=Symbol.for("react.fragment"),El=Symbol.for("react.strict_mode"),yo=Symbol.for("react.profiler"),ac=Symbol.for("react.provider"),uc=Symbol.for("react.context"),bl=Symbol.for("react.forward_ref"),wo=Symbol.for("react.suspense"),_o=Symbol.for("react.suspense_list"),Cl=Symbol.for("react.memo"),Et=Symbol.for("react.lazy"),cc=Symbol.for("react.offscreen"),Ea=Symbol.iterator;function rr(t){return t===null||typeof t!="object"?null:(t=Ea&&t[Ea]||t["@@iterator"],typeof t=="function"?t:null)}var te=Object.assign,Mi;function fr(t){if(Mi===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Mi=e&&e[1]||""}return`
`+Mi+t}var zi=!1;function Di(t,e){if(!t||zi)return"";zi=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var a=`
`+s[o].replace(" at new "," at ");return t.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",t.displayName)),a}while(1<=o&&0<=l);break}}}finally{zi=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?fr(t):""}function xf(t){switch(t.tag){case 5:return fr(t.type);case 16:return fr("Lazy");case 13:return fr("Suspense");case 19:return fr("SuspenseList");case 0:case 2:case 15:return t=Di(t.type,!1),t;case 11:return t=Di(t.type.render,!1),t;case 1:return t=Di(t.type,!0),t;default:return""}}function xo(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case kn:return"Fragment";case xn:return"Portal";case yo:return"Profiler";case El:return"StrictMode";case wo:return"Suspense";case _o:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case uc:return(t.displayName||"Context")+".Consumer";case ac:return(t._context.displayName||"Context")+".Provider";case bl:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Cl:return e=t.displayName||null,e!==null?e:xo(t.type)||"Memo";case Et:e=t._payload,t=t._init;try{return xo(t(e))}catch{}}return null}function kf(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return xo(e);case 8:return e===El?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ft(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function dc(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Sf(t){var e=dc(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ss(t){t._valueTracker||(t._valueTracker=Sf(t))}function hc(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=dc(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function zs(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function ko(t,e){var n=e.checked;return te({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function ba(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ft(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function fc(t,e){e=e.checked,e!=null&&jl(t,"checked",e,!1)}function So(t,e){fc(t,e);var n=Ft(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?jo(t,e.type,n):e.hasOwnProperty("defaultValue")&&jo(t,e.type,Ft(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Ca(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function jo(t,e,n){(e!=="number"||zs(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var pr=Array.isArray;function An(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ft(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Eo(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(S(91));return te({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Na(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(S(92));if(pr(n)){if(1<n.length)throw Error(S(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ft(n)}}function pc(t,e){var n=Ft(e.value),r=Ft(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Ta(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function mc(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function bo(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?mc(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var is,gc=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(is=is||document.createElement("div"),is.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=is.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Rr(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var yr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},jf=["Webkit","ms","Moz","O"];Object.keys(yr).forEach(function(t){jf.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),yr[e]=yr[t]})});function vc(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||yr.hasOwnProperty(t)&&yr[t]?(""+e).trim():e+"px"}function yc(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=vc(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var Ef=te({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Co(t,e){if(e){if(Ef[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(S(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(S(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(S(61))}if(e.style!=null&&typeof e.style!="object")throw Error(S(62))}}function No(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var To=null;function Nl(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Po=null,$n=null,Ln=null;function Pa(t){if(t=Yr(t)){if(typeof Po!="function")throw Error(S(280));var e=t.stateNode;e&&(e=mi(e),Po(t.stateNode,t.type,e))}}function wc(t){$n?Ln?Ln.push(t):Ln=[t]:$n=t}function _c(){if($n){var t=$n,e=Ln;if(Ln=$n=null,Pa(t),e)for(t=0;t<e.length;t++)Pa(e[t])}}function xc(t,e){return t(e)}function kc(){}var Ui=!1;function Sc(t,e,n){if(Ui)return t(e,n);Ui=!0;try{return xc(t,e,n)}finally{Ui=!1,($n!==null||Ln!==null)&&(kc(),_c())}}function Or(t,e){var n=t.stateNode;if(n===null)return null;var r=mi(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(S(231,e,typeof n));return n}var Ro=!1;if(vt)try{var sr={};Object.defineProperty(sr,"passive",{get:function(){Ro=!0}}),window.addEventListener("test",sr,sr),window.removeEventListener("test",sr,sr)}catch{Ro=!1}function bf(t,e,n,r,s,i,o,l,a){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var wr=!1,Ds=null,Us=!1,Oo=null,Cf={onError:function(t){wr=!0,Ds=t}};function Nf(t,e,n,r,s,i,o,l,a){wr=!1,Ds=null,bf.apply(Cf,arguments)}function Tf(t,e,n,r,s,i,o,l,a){if(Nf.apply(this,arguments),wr){if(wr){var u=Ds;wr=!1,Ds=null}else throw Error(S(198));Us||(Us=!0,Oo=u)}}function cn(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function jc(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Ra(t){if(cn(t)!==t)throw Error(S(188))}function Pf(t){var e=t.alternate;if(!e){if(e=cn(t),e===null)throw Error(S(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Ra(s),t;if(i===r)return Ra(s),e;i=i.sibling}throw Error(S(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o)throw Error(S(189))}}if(n.alternate!==r)throw Error(S(190))}if(n.tag!==3)throw Error(S(188));return n.stateNode.current===n?t:e}function Ec(t){return t=Pf(t),t!==null?bc(t):null}function bc(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=bc(t);if(e!==null)return e;t=t.sibling}return null}var Cc=$e.unstable_scheduleCallback,Oa=$e.unstable_cancelCallback,Rf=$e.unstable_shouldYield,Of=$e.unstable_requestPaint,re=$e.unstable_now,If=$e.unstable_getCurrentPriorityLevel,Tl=$e.unstable_ImmediatePriority,Nc=$e.unstable_UserBlockingPriority,Fs=$e.unstable_NormalPriority,Af=$e.unstable_LowPriority,Tc=$e.unstable_IdlePriority,di=null,it=null;function $f(t){if(it&&typeof it.onCommitFiberRoot=="function")try{it.onCommitFiberRoot(di,t,void 0,(t.current.flags&128)===128)}catch{}}var Xe=Math.clz32?Math.clz32:zf,Lf=Math.log,Mf=Math.LN2;function zf(t){return t>>>=0,t===0?32:31-(Lf(t)/Mf|0)|0}var os=64,ls=4194304;function mr(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Bs(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~s;l!==0?r=mr(l):(i&=o,i!==0&&(r=mr(i)))}else o=n&~s,o!==0?r=mr(o):i!==0&&(r=mr(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Xe(e),s=1<<n,r|=t[n],e&=~s;return r}function Df(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Uf(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Xe(i),l=1<<o,a=s[o];a===-1?(!(l&n)||l&r)&&(s[o]=Df(l,e)):a<=e&&(t.expiredLanes|=l),i&=~l}}function Io(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Pc(){var t=os;return os<<=1,!(os&4194240)&&(os=64),t}function Fi(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Qr(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Xe(e),t[e]=n}function Ff(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Xe(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Pl(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Xe(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var H=0;function Rc(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Oc,Rl,Ic,Ac,$c,Ao=!1,as=[],It=null,At=null,$t=null,Ir=new Map,Ar=new Map,Nt=[],Bf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ia(t,e){switch(t){case"focusin":case"focusout":It=null;break;case"dragenter":case"dragleave":At=null;break;case"mouseover":case"mouseout":$t=null;break;case"pointerover":case"pointerout":Ir.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ar.delete(e.pointerId)}}function ir(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Yr(e),e!==null&&Rl(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function Hf(t,e,n,r,s){switch(e){case"focusin":return It=ir(It,t,e,n,r,s),!0;case"dragenter":return At=ir(At,t,e,n,r,s),!0;case"mouseover":return $t=ir($t,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Ir.set(i,ir(Ir.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Ar.set(i,ir(Ar.get(i)||null,t,e,n,r,s)),!0}return!1}function Lc(t){var e=Xt(t.target);if(e!==null){var n=cn(e);if(n!==null){if(e=n.tag,e===13){if(e=jc(n),e!==null){t.blockedOn=e,$c(t.priority,function(){Ic(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ns(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=$o(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);To=r,n.target.dispatchEvent(r),To=null}else return e=Yr(n),e!==null&&Rl(e),t.blockedOn=n,!1;e.shift()}return!0}function Aa(t,e,n){Ns(t)&&n.delete(e)}function Wf(){Ao=!1,It!==null&&Ns(It)&&(It=null),At!==null&&Ns(At)&&(At=null),$t!==null&&Ns($t)&&($t=null),Ir.forEach(Aa),Ar.forEach(Aa)}function or(t,e){t.blockedOn===e&&(t.blockedOn=null,Ao||(Ao=!0,$e.unstable_scheduleCallback($e.unstable_NormalPriority,Wf)))}function $r(t){function e(s){return or(s,t)}if(0<as.length){or(as[0],t);for(var n=1;n<as.length;n++){var r=as[n];r.blockedOn===t&&(r.blockedOn=null)}}for(It!==null&&or(It,t),At!==null&&or(At,t),$t!==null&&or($t,t),Ir.forEach(e),Ar.forEach(e),n=0;n<Nt.length;n++)r=Nt[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Nt.length&&(n=Nt[0],n.blockedOn===null);)Lc(n),n.blockedOn===null&&Nt.shift()}var Mn=xt.ReactCurrentBatchConfig,Hs=!0;function Vf(t,e,n,r){var s=H,i=Mn.transition;Mn.transition=null;try{H=1,Ol(t,e,n,r)}finally{H=s,Mn.transition=i}}function qf(t,e,n,r){var s=H,i=Mn.transition;Mn.transition=null;try{H=4,Ol(t,e,n,r)}finally{H=s,Mn.transition=i}}function Ol(t,e,n,r){if(Hs){var s=$o(t,e,n,r);if(s===null)Yi(t,e,r,Ws,n),Ia(t,r);else if(Hf(s,t,e,n,r))r.stopPropagation();else if(Ia(t,r),e&4&&-1<Bf.indexOf(t)){for(;s!==null;){var i=Yr(s);if(i!==null&&Oc(i),i=$o(t,e,n,r),i===null&&Yi(t,e,r,Ws,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Yi(t,e,r,null,n)}}var Ws=null;function $o(t,e,n,r){if(Ws=null,t=Nl(r),t=Xt(t),t!==null)if(e=cn(t),e===null)t=null;else if(n=e.tag,n===13){if(t=jc(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ws=t,null}function Mc(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(If()){case Tl:return 1;case Nc:return 4;case Fs:case Af:return 16;case Tc:return 536870912;default:return 16}default:return 16}}var Rt=null,Il=null,Ts=null;function zc(){if(Ts)return Ts;var t,e=Il,n=e.length,r,s="value"in Rt?Rt.value:Rt.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return Ts=s.slice(t,1<r?1-r:void 0)}function Ps(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function us(){return!0}function $a(){return!1}function Me(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?us:$a,this.isPropagationStopped=$a,this}return te(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=us)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=us)},persist:function(){},isPersistent:us}),e}var Jn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Al=Me(Jn),Jr=te({},Jn,{view:0,detail:0}),Kf=Me(Jr),Bi,Hi,lr,hi=te({},Jr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$l,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==lr&&(lr&&t.type==="mousemove"?(Bi=t.screenX-lr.screenX,Hi=t.screenY-lr.screenY):Hi=Bi=0,lr=t),Bi)},movementY:function(t){return"movementY"in t?t.movementY:Hi}}),La=Me(hi),Gf=te({},hi,{dataTransfer:0}),Qf=Me(Gf),Jf=te({},Jr,{relatedTarget:0}),Wi=Me(Jf),Yf=te({},Jn,{animationName:0,elapsedTime:0,pseudoElement:0}),Xf=Me(Yf),Zf=te({},Jn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ep=Me(Zf),tp=te({},Jn,{data:0}),Ma=Me(tp),np={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},rp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},sp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ip(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=sp[t])?!!e[t]:!1}function $l(){return ip}var op=te({},Jr,{key:function(t){if(t.key){var e=np[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ps(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?rp[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$l,charCode:function(t){return t.type==="keypress"?Ps(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ps(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),lp=Me(op),ap=te({},hi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),za=Me(ap),up=te({},Jr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$l}),cp=Me(up),dp=te({},Jn,{propertyName:0,elapsedTime:0,pseudoElement:0}),hp=Me(dp),fp=te({},hi,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),pp=Me(fp),mp=[9,13,27,32],Ll=vt&&"CompositionEvent"in window,_r=null;vt&&"documentMode"in document&&(_r=document.documentMode);var gp=vt&&"TextEvent"in window&&!_r,Dc=vt&&(!Ll||_r&&8<_r&&11>=_r),Da=" ",Ua=!1;function Uc(t,e){switch(t){case"keyup":return mp.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Fc(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Sn=!1;function vp(t,e){switch(t){case"compositionend":return Fc(e);case"keypress":return e.which!==32?null:(Ua=!0,Da);case"textInput":return t=e.data,t===Da&&Ua?null:t;default:return null}}function yp(t,e){if(Sn)return t==="compositionend"||!Ll&&Uc(t,e)?(t=zc(),Ts=Il=Rt=null,Sn=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Dc&&e.locale!=="ko"?null:e.data;default:return null}}var wp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Fa(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!wp[t.type]:e==="textarea"}function Bc(t,e,n,r){wc(r),e=Vs(e,"onChange"),0<e.length&&(n=new Al("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var xr=null,Lr=null;function _p(t){Zc(t,0)}function fi(t){var e=bn(t);if(hc(e))return t}function xp(t,e){if(t==="change")return e}var Hc=!1;if(vt){var Vi;if(vt){var qi="oninput"in document;if(!qi){var Ba=document.createElement("div");Ba.setAttribute("oninput","return;"),qi=typeof Ba.oninput=="function"}Vi=qi}else Vi=!1;Hc=Vi&&(!document.documentMode||9<document.documentMode)}function Ha(){xr&&(xr.detachEvent("onpropertychange",Wc),Lr=xr=null)}function Wc(t){if(t.propertyName==="value"&&fi(Lr)){var e=[];Bc(e,Lr,t,Nl(t)),Sc(_p,e)}}function kp(t,e,n){t==="focusin"?(Ha(),xr=e,Lr=n,xr.attachEvent("onpropertychange",Wc)):t==="focusout"&&Ha()}function Sp(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return fi(Lr)}function jp(t,e){if(t==="click")return fi(e)}function Ep(t,e){if(t==="input"||t==="change")return fi(e)}function bp(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var et=typeof Object.is=="function"?Object.is:bp;function Mr(t,e){if(et(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!vo.call(e,s)||!et(t[s],e[s]))return!1}return!0}function Wa(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Va(t,e){var n=Wa(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Wa(n)}}function Vc(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Vc(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function qc(){for(var t=window,e=zs();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=zs(t.document)}return e}function Ml(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Cp(t){var e=qc(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Vc(n.ownerDocument.documentElement,n)){if(r!==null&&Ml(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=Va(n,i);var o=Va(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Np=vt&&"documentMode"in document&&11>=document.documentMode,jn=null,Lo=null,kr=null,Mo=!1;function qa(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Mo||jn==null||jn!==zs(r)||(r=jn,"selectionStart"in r&&Ml(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),kr&&Mr(kr,r)||(kr=r,r=Vs(Lo,"onSelect"),0<r.length&&(e=new Al("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=jn)))}function cs(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var En={animationend:cs("Animation","AnimationEnd"),animationiteration:cs("Animation","AnimationIteration"),animationstart:cs("Animation","AnimationStart"),transitionend:cs("Transition","TransitionEnd")},Ki={},Kc={};vt&&(Kc=document.createElement("div").style,"AnimationEvent"in window||(delete En.animationend.animation,delete En.animationiteration.animation,delete En.animationstart.animation),"TransitionEvent"in window||delete En.transitionend.transition);function pi(t){if(Ki[t])return Ki[t];if(!En[t])return t;var e=En[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Kc)return Ki[t]=e[n];return t}var Gc=pi("animationend"),Qc=pi("animationiteration"),Jc=pi("animationstart"),Yc=pi("transitionend"),Xc=new Map,Ka="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ht(t,e){Xc.set(t,e),un(e,[t])}for(var Gi=0;Gi<Ka.length;Gi++){var Qi=Ka[Gi],Tp=Qi.toLowerCase(),Pp=Qi[0].toUpperCase()+Qi.slice(1);Ht(Tp,"on"+Pp)}Ht(Gc,"onAnimationEnd");Ht(Qc,"onAnimationIteration");Ht(Jc,"onAnimationStart");Ht("dblclick","onDoubleClick");Ht("focusin","onFocus");Ht("focusout","onBlur");Ht(Yc,"onTransitionEnd");Fn("onMouseEnter",["mouseout","mouseover"]);Fn("onMouseLeave",["mouseout","mouseover"]);Fn("onPointerEnter",["pointerout","pointerover"]);Fn("onPointerLeave",["pointerout","pointerover"]);un("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));un("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));un("onBeforeInput",["compositionend","keypress","textInput","paste"]);un("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));un("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));un("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Rp=new Set("cancel close invalid load scroll toggle".split(" ").concat(gr));function Ga(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Tf(r,e,void 0,t),t.currentTarget=null}function Zc(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],a=l.instance,u=l.currentTarget;if(l=l.listener,a!==i&&s.isPropagationStopped())break e;Ga(s,l,u),i=a}else for(o=0;o<r.length;o++){if(l=r[o],a=l.instance,u=l.currentTarget,l=l.listener,a!==i&&s.isPropagationStopped())break e;Ga(s,l,u),i=a}}}if(Us)throw t=Oo,Us=!1,Oo=null,t}function q(t,e){var n=e[Bo];n===void 0&&(n=e[Bo]=new Set);var r=t+"__bubble";n.has(r)||(ed(e,t,2,!1),n.add(r))}function Ji(t,e,n){var r=0;e&&(r|=4),ed(n,t,r,e)}var ds="_reactListening"+Math.random().toString(36).slice(2);function zr(t){if(!t[ds]){t[ds]=!0,lc.forEach(function(n){n!=="selectionchange"&&(Rp.has(n)||Ji(n,!1,t),Ji(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[ds]||(e[ds]=!0,Ji("selectionchange",!1,e))}}function ed(t,e,n,r){switch(Mc(e)){case 1:var s=Vf;break;case 4:s=qf;break;default:s=Ol}n=s.bind(null,e,n,t),s=void 0,!Ro||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Yi(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var a=o.tag;if((a===3||a===4)&&(a=o.stateNode.containerInfo,a===s||a.nodeType===8&&a.parentNode===s))return;o=o.return}for(;l!==null;){if(o=Xt(l),o===null)return;if(a=o.tag,a===5||a===6){r=i=o;continue e}l=l.parentNode}}r=r.return}Sc(function(){var u=i,d=Nl(n),h=[];e:{var m=Xc.get(t);if(m!==void 0){var y=Al,_=t;switch(t){case"keypress":if(Ps(n)===0)break e;case"keydown":case"keyup":y=lp;break;case"focusin":_="focus",y=Wi;break;case"focusout":_="blur",y=Wi;break;case"beforeblur":case"afterblur":y=Wi;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=La;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=Qf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=cp;break;case Gc:case Qc:case Jc:y=Xf;break;case Yc:y=hp;break;case"scroll":y=Kf;break;case"wheel":y=pp;break;case"copy":case"cut":case"paste":y=ep;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=za}var v=(e&4)!==0,k=!v&&t==="scroll",f=v?m!==null?m+"Capture":null:m;v=[];for(var p=u,g;p!==null;){g=p;var w=g.stateNode;if(g.tag===5&&w!==null&&(g=w,f!==null&&(w=Or(p,f),w!=null&&v.push(Dr(p,w,g)))),k)break;p=p.return}0<v.length&&(m=new y(m,_,null,n,d),h.push({event:m,listeners:v}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",m&&n!==To&&(_=n.relatedTarget||n.fromElement)&&(Xt(_)||_[yt]))break e;if((y||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,y?(_=n.relatedTarget||n.toElement,y=u,_=_?Xt(_):null,_!==null&&(k=cn(_),_!==k||_.tag!==5&&_.tag!==6)&&(_=null)):(y=null,_=u),y!==_)){if(v=La,w="onMouseLeave",f="onMouseEnter",p="mouse",(t==="pointerout"||t==="pointerover")&&(v=za,w="onPointerLeave",f="onPointerEnter",p="pointer"),k=y==null?m:bn(y),g=_==null?m:bn(_),m=new v(w,p+"leave",y,n,d),m.target=k,m.relatedTarget=g,w=null,Xt(d)===u&&(v=new v(f,p+"enter",_,n,d),v.target=g,v.relatedTarget=k,w=v),k=w,y&&_)t:{for(v=y,f=_,p=0,g=v;g;g=mn(g))p++;for(g=0,w=f;w;w=mn(w))g++;for(;0<p-g;)v=mn(v),p--;for(;0<g-p;)f=mn(f),g--;for(;p--;){if(v===f||f!==null&&v===f.alternate)break t;v=mn(v),f=mn(f)}v=null}else v=null;y!==null&&Qa(h,m,y,v,!1),_!==null&&k!==null&&Qa(h,k,_,v,!0)}}e:{if(m=u?bn(u):window,y=m.nodeName&&m.nodeName.toLowerCase(),y==="select"||y==="input"&&m.type==="file")var E=xp;else if(Fa(m))if(Hc)E=Ep;else{E=Sp;var b=kp}else(y=m.nodeName)&&y.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(E=jp);if(E&&(E=E(t,u))){Bc(h,E,n,d);break e}b&&b(t,m,u),t==="focusout"&&(b=m._wrapperState)&&b.controlled&&m.type==="number"&&jo(m,"number",m.value)}switch(b=u?bn(u):window,t){case"focusin":(Fa(b)||b.contentEditable==="true")&&(jn=b,Lo=u,kr=null);break;case"focusout":kr=Lo=jn=null;break;case"mousedown":Mo=!0;break;case"contextmenu":case"mouseup":case"dragend":Mo=!1,qa(h,n,d);break;case"selectionchange":if(Np)break;case"keydown":case"keyup":qa(h,n,d)}var C;if(Ll)e:{switch(t){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else Sn?Uc(t,n)&&(P="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(P="onCompositionStart");P&&(Dc&&n.locale!=="ko"&&(Sn||P!=="onCompositionStart"?P==="onCompositionEnd"&&Sn&&(C=zc()):(Rt=d,Il="value"in Rt?Rt.value:Rt.textContent,Sn=!0)),b=Vs(u,P),0<b.length&&(P=new Ma(P,t,null,n,d),h.push({event:P,listeners:b}),C?P.data=C:(C=Fc(n),C!==null&&(P.data=C)))),(C=gp?vp(t,n):yp(t,n))&&(u=Vs(u,"onBeforeInput"),0<u.length&&(d=new Ma("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:u}),d.data=C))}Zc(h,e)})}function Dr(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Vs(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Or(t,n),i!=null&&r.unshift(Dr(t,i,s)),i=Or(t,e),i!=null&&r.push(Dr(t,i,s))),t=t.return}return r}function mn(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Qa(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var l=n,a=l.alternate,u=l.stateNode;if(a!==null&&a===r)break;l.tag===5&&u!==null&&(l=u,s?(a=Or(n,i),a!=null&&o.unshift(Dr(n,a,l))):s||(a=Or(n,i),a!=null&&o.push(Dr(n,a,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var Op=/\r\n?/g,Ip=/\u0000|\uFFFD/g;function Ja(t){return(typeof t=="string"?t:""+t).replace(Op,`
`).replace(Ip,"")}function hs(t,e,n){if(e=Ja(e),Ja(t)!==e&&n)throw Error(S(425))}function qs(){}var zo=null,Do=null;function Uo(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Fo=typeof setTimeout=="function"?setTimeout:void 0,Ap=typeof clearTimeout=="function"?clearTimeout:void 0,Ya=typeof Promise=="function"?Promise:void 0,$p=typeof queueMicrotask=="function"?queueMicrotask:typeof Ya<"u"?function(t){return Ya.resolve(null).then(t).catch(Lp)}:Fo;function Lp(t){setTimeout(function(){throw t})}function Xi(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),$r(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);$r(e)}function Lt(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Xa(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Yn=Math.random().toString(36).slice(2),st="__reactFiber$"+Yn,Ur="__reactProps$"+Yn,yt="__reactContainer$"+Yn,Bo="__reactEvents$"+Yn,Mp="__reactListeners$"+Yn,zp="__reactHandles$"+Yn;function Xt(t){var e=t[st];if(e)return e;for(var n=t.parentNode;n;){if(e=n[yt]||n[st]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Xa(t);t!==null;){if(n=t[st])return n;t=Xa(t)}return e}t=n,n=t.parentNode}return null}function Yr(t){return t=t[st]||t[yt],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function bn(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(S(33))}function mi(t){return t[Ur]||null}var Ho=[],Cn=-1;function Wt(t){return{current:t}}function K(t){0>Cn||(t.current=Ho[Cn],Ho[Cn]=null,Cn--)}function V(t,e){Cn++,Ho[Cn]=t.current,t.current=e}var Bt={},ye=Wt(Bt),Te=Wt(!1),rn=Bt;function Bn(t,e){var n=t.type.contextTypes;if(!n)return Bt;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Pe(t){return t=t.childContextTypes,t!=null}function Ks(){K(Te),K(ye)}function Za(t,e,n){if(ye.current!==Bt)throw Error(S(168));V(ye,e),V(Te,n)}function td(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(S(108,kf(t)||"Unknown",s));return te({},n,r)}function Gs(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Bt,rn=ye.current,V(ye,t),V(Te,Te.current),!0}function eu(t,e,n){var r=t.stateNode;if(!r)throw Error(S(169));n?(t=td(t,e,rn),r.__reactInternalMemoizedMergedChildContext=t,K(Te),K(ye),V(ye,t)):K(Te),V(Te,n)}var ft=null,gi=!1,Zi=!1;function nd(t){ft===null?ft=[t]:ft.push(t)}function Dp(t){gi=!0,nd(t)}function Vt(){if(!Zi&&ft!==null){Zi=!0;var t=0,e=H;try{var n=ft;for(H=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}ft=null,gi=!1}catch(s){throw ft!==null&&(ft=ft.slice(t+1)),Cc(Tl,Vt),s}finally{H=e,Zi=!1}}return null}var Nn=[],Tn=0,Qs=null,Js=0,ze=[],De=0,sn=null,pt=1,mt="";function Gt(t,e){Nn[Tn++]=Js,Nn[Tn++]=Qs,Qs=t,Js=e}function rd(t,e,n){ze[De++]=pt,ze[De++]=mt,ze[De++]=sn,sn=t;var r=pt;t=mt;var s=32-Xe(r)-1;r&=~(1<<s),n+=1;var i=32-Xe(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,pt=1<<32-Xe(e)+s|n<<s|r,mt=i+t}else pt=1<<i|n<<s|r,mt=t}function zl(t){t.return!==null&&(Gt(t,1),rd(t,1,0))}function Dl(t){for(;t===Qs;)Qs=Nn[--Tn],Nn[Tn]=null,Js=Nn[--Tn],Nn[Tn]=null;for(;t===sn;)sn=ze[--De],ze[De]=null,mt=ze[--De],ze[De]=null,pt=ze[--De],ze[De]=null}var Ae=null,Ie=null,J=!1,Ye=null;function sd(t,e){var n=Ue(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function tu(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ae=t,Ie=Lt(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ae=t,Ie=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=sn!==null?{id:pt,overflow:mt}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Ue(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Ae=t,Ie=null,!0):!1;default:return!1}}function Wo(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Vo(t){if(J){var e=Ie;if(e){var n=e;if(!tu(t,e)){if(Wo(t))throw Error(S(418));e=Lt(n.nextSibling);var r=Ae;e&&tu(t,e)?sd(r,n):(t.flags=t.flags&-4097|2,J=!1,Ae=t)}}else{if(Wo(t))throw Error(S(418));t.flags=t.flags&-4097|2,J=!1,Ae=t}}}function nu(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ae=t}function fs(t){if(t!==Ae)return!1;if(!J)return nu(t),J=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Uo(t.type,t.memoizedProps)),e&&(e=Ie)){if(Wo(t))throw id(),Error(S(418));for(;e;)sd(t,e),e=Lt(e.nextSibling)}if(nu(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(S(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Ie=Lt(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Ie=null}}else Ie=Ae?Lt(t.stateNode.nextSibling):null;return!0}function id(){for(var t=Ie;t;)t=Lt(t.nextSibling)}function Hn(){Ie=Ae=null,J=!1}function Ul(t){Ye===null?Ye=[t]:Ye.push(t)}var Up=xt.ReactCurrentBatchConfig;function ar(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(S(309));var r=n.stateNode}if(!r)throw Error(S(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(S(284));if(!n._owner)throw Error(S(290,t))}return t}function ps(t,e){throw t=Object.prototype.toString.call(e),Error(S(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function ru(t){var e=t._init;return e(t._payload)}function od(t){function e(f,p){if(t){var g=f.deletions;g===null?(f.deletions=[p],f.flags|=16):g.push(p)}}function n(f,p){if(!t)return null;for(;p!==null;)e(f,p),p=p.sibling;return null}function r(f,p){for(f=new Map;p!==null;)p.key!==null?f.set(p.key,p):f.set(p.index,p),p=p.sibling;return f}function s(f,p){return f=Ut(f,p),f.index=0,f.sibling=null,f}function i(f,p,g){return f.index=g,t?(g=f.alternate,g!==null?(g=g.index,g<p?(f.flags|=2,p):g):(f.flags|=2,p)):(f.flags|=1048576,p)}function o(f){return t&&f.alternate===null&&(f.flags|=2),f}function l(f,p,g,w){return p===null||p.tag!==6?(p=oo(g,f.mode,w),p.return=f,p):(p=s(p,g),p.return=f,p)}function a(f,p,g,w){var E=g.type;return E===kn?d(f,p,g.props.children,w,g.key):p!==null&&(p.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Et&&ru(E)===p.type)?(w=s(p,g.props),w.ref=ar(f,p,g),w.return=f,w):(w=Ms(g.type,g.key,g.props,null,f.mode,w),w.ref=ar(f,p,g),w.return=f,w)}function u(f,p,g,w){return p===null||p.tag!==4||p.stateNode.containerInfo!==g.containerInfo||p.stateNode.implementation!==g.implementation?(p=lo(g,f.mode,w),p.return=f,p):(p=s(p,g.children||[]),p.return=f,p)}function d(f,p,g,w,E){return p===null||p.tag!==7?(p=nn(g,f.mode,w,E),p.return=f,p):(p=s(p,g),p.return=f,p)}function h(f,p,g){if(typeof p=="string"&&p!==""||typeof p=="number")return p=oo(""+p,f.mode,g),p.return=f,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case rs:return g=Ms(p.type,p.key,p.props,null,f.mode,g),g.ref=ar(f,null,p),g.return=f,g;case xn:return p=lo(p,f.mode,g),p.return=f,p;case Et:var w=p._init;return h(f,w(p._payload),g)}if(pr(p)||rr(p))return p=nn(p,f.mode,g,null),p.return=f,p;ps(f,p)}return null}function m(f,p,g,w){var E=p!==null?p.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return E!==null?null:l(f,p,""+g,w);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case rs:return g.key===E?a(f,p,g,w):null;case xn:return g.key===E?u(f,p,g,w):null;case Et:return E=g._init,m(f,p,E(g._payload),w)}if(pr(g)||rr(g))return E!==null?null:d(f,p,g,w,null);ps(f,g)}return null}function y(f,p,g,w,E){if(typeof w=="string"&&w!==""||typeof w=="number")return f=f.get(g)||null,l(p,f,""+w,E);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case rs:return f=f.get(w.key===null?g:w.key)||null,a(p,f,w,E);case xn:return f=f.get(w.key===null?g:w.key)||null,u(p,f,w,E);case Et:var b=w._init;return y(f,p,g,b(w._payload),E)}if(pr(w)||rr(w))return f=f.get(g)||null,d(p,f,w,E,null);ps(p,w)}return null}function _(f,p,g,w){for(var E=null,b=null,C=p,P=p=0,G=null;C!==null&&P<g.length;P++){C.index>P?(G=C,C=null):G=C.sibling;var z=m(f,C,g[P],w);if(z===null){C===null&&(C=G);break}t&&C&&z.alternate===null&&e(f,C),p=i(z,p,P),b===null?E=z:b.sibling=z,b=z,C=G}if(P===g.length)return n(f,C),J&&Gt(f,P),E;if(C===null){for(;P<g.length;P++)C=h(f,g[P],w),C!==null&&(p=i(C,p,P),b===null?E=C:b.sibling=C,b=C);return J&&Gt(f,P),E}for(C=r(f,C);P<g.length;P++)G=y(C,f,P,g[P],w),G!==null&&(t&&G.alternate!==null&&C.delete(G.key===null?P:G.key),p=i(G,p,P),b===null?E=G:b.sibling=G,b=G);return t&&C.forEach(function(we){return e(f,we)}),J&&Gt(f,P),E}function v(f,p,g,w){var E=rr(g);if(typeof E!="function")throw Error(S(150));if(g=E.call(g),g==null)throw Error(S(151));for(var b=E=null,C=p,P=p=0,G=null,z=g.next();C!==null&&!z.done;P++,z=g.next()){C.index>P?(G=C,C=null):G=C.sibling;var we=m(f,C,z.value,w);if(we===null){C===null&&(C=G);break}t&&C&&we.alternate===null&&e(f,C),p=i(we,p,P),b===null?E=we:b.sibling=we,b=we,C=G}if(z.done)return n(f,C),J&&Gt(f,P),E;if(C===null){for(;!z.done;P++,z=g.next())z=h(f,z.value,w),z!==null&&(p=i(z,p,P),b===null?E=z:b.sibling=z,b=z);return J&&Gt(f,P),E}for(C=r(f,C);!z.done;P++,z=g.next())z=y(C,f,P,z.value,w),z!==null&&(t&&z.alternate!==null&&C.delete(z.key===null?P:z.key),p=i(z,p,P),b===null?E=z:b.sibling=z,b=z);return t&&C.forEach(function(kt){return e(f,kt)}),J&&Gt(f,P),E}function k(f,p,g,w){if(typeof g=="object"&&g!==null&&g.type===kn&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case rs:e:{for(var E=g.key,b=p;b!==null;){if(b.key===E){if(E=g.type,E===kn){if(b.tag===7){n(f,b.sibling),p=s(b,g.props.children),p.return=f,f=p;break e}}else if(b.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Et&&ru(E)===b.type){n(f,b.sibling),p=s(b,g.props),p.ref=ar(f,b,g),p.return=f,f=p;break e}n(f,b);break}else e(f,b);b=b.sibling}g.type===kn?(p=nn(g.props.children,f.mode,w,g.key),p.return=f,f=p):(w=Ms(g.type,g.key,g.props,null,f.mode,w),w.ref=ar(f,p,g),w.return=f,f=w)}return o(f);case xn:e:{for(b=g.key;p!==null;){if(p.key===b)if(p.tag===4&&p.stateNode.containerInfo===g.containerInfo&&p.stateNode.implementation===g.implementation){n(f,p.sibling),p=s(p,g.children||[]),p.return=f,f=p;break e}else{n(f,p);break}else e(f,p);p=p.sibling}p=lo(g,f.mode,w),p.return=f,f=p}return o(f);case Et:return b=g._init,k(f,p,b(g._payload),w)}if(pr(g))return _(f,p,g,w);if(rr(g))return v(f,p,g,w);ps(f,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,p!==null&&p.tag===6?(n(f,p.sibling),p=s(p,g),p.return=f,f=p):(n(f,p),p=oo(g,f.mode,w),p.return=f,f=p),o(f)):n(f,p)}return k}var Wn=od(!0),ld=od(!1),Ys=Wt(null),Xs=null,Pn=null,Fl=null;function Bl(){Fl=Pn=Xs=null}function Hl(t){var e=Ys.current;K(Ys),t._currentValue=e}function qo(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function zn(t,e){Xs=t,Fl=Pn=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ne=!0),t.firstContext=null)}function He(t){var e=t._currentValue;if(Fl!==t)if(t={context:t,memoizedValue:e,next:null},Pn===null){if(Xs===null)throw Error(S(308));Pn=t,Xs.dependencies={lanes:0,firstContext:t}}else Pn=Pn.next=t;return e}var Zt=null;function Wl(t){Zt===null?Zt=[t]:Zt.push(t)}function ad(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Wl(e)):(n.next=s.next,s.next=n),e.interleaved=n,wt(t,r)}function wt(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var bt=!1;function Vl(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ud(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function gt(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Mt(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,B&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,wt(t,n)}return s=r.interleaved,s===null?(e.next=e,Wl(r)):(e.next=s.next,s.next=e),r.interleaved=e,wt(t,n)}function Rs(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Pl(t,n)}}function su(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Zs(t,e,n,r){var s=t.updateQueue;bt=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var a=l,u=a.next;a.next=null,o===null?i=u:o.next=u,o=a;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=a))}if(i!==null){var h=s.baseState;o=0,d=u=a=null,l=i;do{var m=l.lane,y=l.eventTime;if((r&m)===m){d!==null&&(d=d.next={eventTime:y,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var _=t,v=l;switch(m=e,y=n,v.tag){case 1:if(_=v.payload,typeof _=="function"){h=_.call(y,h,m);break e}h=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=v.payload,m=typeof _=="function"?_.call(y,h,m):_,m==null)break e;h=te({},h,m);break e;case 2:bt=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,m=s.effects,m===null?s.effects=[l]:m.push(l))}else y={eventTime:y,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=y,a=h):d=d.next=y,o|=m;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;m=l,l=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(d===null&&(a=h),s.baseState=a,s.firstBaseUpdate=u,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);ln|=o,t.lanes=o,t.memoizedState=h}}function iu(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(S(191,s));s.call(r)}}}var Xr={},ot=Wt(Xr),Fr=Wt(Xr),Br=Wt(Xr);function en(t){if(t===Xr)throw Error(S(174));return t}function ql(t,e){switch(V(Br,e),V(Fr,t),V(ot,Xr),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:bo(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=bo(e,t)}K(ot),V(ot,e)}function Vn(){K(ot),K(Fr),K(Br)}function cd(t){en(Br.current);var e=en(ot.current),n=bo(e,t.type);e!==n&&(V(Fr,t),V(ot,n))}function Kl(t){Fr.current===t&&(K(ot),K(Fr))}var Z=Wt(0);function ei(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var eo=[];function Gl(){for(var t=0;t<eo.length;t++)eo[t]._workInProgressVersionPrimary=null;eo.length=0}var Os=xt.ReactCurrentDispatcher,to=xt.ReactCurrentBatchConfig,on=0,ee=null,oe=null,ue=null,ti=!1,Sr=!1,Hr=0,Fp=0;function pe(){throw Error(S(321))}function Ql(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!et(t[n],e[n]))return!1;return!0}function Jl(t,e,n,r,s,i){if(on=i,ee=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Os.current=t===null||t.memoizedState===null?Vp:qp,t=n(r,s),Sr){i=0;do{if(Sr=!1,Hr=0,25<=i)throw Error(S(301));i+=1,ue=oe=null,e.updateQueue=null,Os.current=Kp,t=n(r,s)}while(Sr)}if(Os.current=ni,e=oe!==null&&oe.next!==null,on=0,ue=oe=ee=null,ti=!1,e)throw Error(S(300));return t}function Yl(){var t=Hr!==0;return Hr=0,t}function rt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ue===null?ee.memoizedState=ue=t:ue=ue.next=t,ue}function We(){if(oe===null){var t=ee.alternate;t=t!==null?t.memoizedState:null}else t=oe.next;var e=ue===null?ee.memoizedState:ue.next;if(e!==null)ue=e,oe=t;else{if(t===null)throw Error(S(310));oe=t,t={memoizedState:oe.memoizedState,baseState:oe.baseState,baseQueue:oe.baseQueue,queue:oe.queue,next:null},ue===null?ee.memoizedState=ue=t:ue=ue.next=t}return ue}function Wr(t,e){return typeof e=="function"?e(t):e}function no(t){var e=We(),n=e.queue;if(n===null)throw Error(S(311));n.lastRenderedReducer=t;var r=oe,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=o=null,a=null,u=i;do{var d=u.lane;if((on&d)===d)a!==null&&(a=a.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};a===null?(l=a=h,o=r):a=a.next=h,ee.lanes|=d,ln|=d}u=u.next}while(u!==null&&u!==i);a===null?o=r:a.next=l,et(r,e.memoizedState)||(Ne=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=a,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,ee.lanes|=i,ln|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function ro(t){var e=We(),n=e.queue;if(n===null)throw Error(S(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);et(i,e.memoizedState)||(Ne=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function dd(){}function hd(t,e){var n=ee,r=We(),s=e(),i=!et(r.memoizedState,s);if(i&&(r.memoizedState=s,Ne=!0),r=r.queue,Xl(md.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||ue!==null&&ue.memoizedState.tag&1){if(n.flags|=2048,Vr(9,pd.bind(null,n,r,s,e),void 0,null),ce===null)throw Error(S(349));on&30||fd(n,e,s)}return s}function fd(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ee.updateQueue,e===null?(e={lastEffect:null,stores:null},ee.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function pd(t,e,n,r){e.value=n,e.getSnapshot=r,gd(e)&&vd(t)}function md(t,e,n){return n(function(){gd(e)&&vd(t)})}function gd(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!et(t,n)}catch{return!0}}function vd(t){var e=wt(t,1);e!==null&&Ze(e,t,1,-1)}function ou(t){var e=rt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Wr,lastRenderedState:t},e.queue=t,t=t.dispatch=Wp.bind(null,ee,t),[e.memoizedState,t]}function Vr(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ee.updateQueue,e===null?(e={lastEffect:null,stores:null},ee.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function yd(){return We().memoizedState}function Is(t,e,n,r){var s=rt();ee.flags|=t,s.memoizedState=Vr(1|e,n,void 0,r===void 0?null:r)}function vi(t,e,n,r){var s=We();r=r===void 0?null:r;var i=void 0;if(oe!==null){var o=oe.memoizedState;if(i=o.destroy,r!==null&&Ql(r,o.deps)){s.memoizedState=Vr(e,n,i,r);return}}ee.flags|=t,s.memoizedState=Vr(1|e,n,i,r)}function lu(t,e){return Is(8390656,8,t,e)}function Xl(t,e){return vi(2048,8,t,e)}function wd(t,e){return vi(4,2,t,e)}function _d(t,e){return vi(4,4,t,e)}function xd(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function kd(t,e,n){return n=n!=null?n.concat([t]):null,vi(4,4,xd.bind(null,e,t),n)}function Zl(){}function Sd(t,e){var n=We();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Ql(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function jd(t,e){var n=We();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Ql(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Ed(t,e,n){return on&21?(et(n,e)||(n=Pc(),ee.lanes|=n,ln|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ne=!0),t.memoizedState=n)}function Bp(t,e){var n=H;H=n!==0&&4>n?n:4,t(!0);var r=to.transition;to.transition={};try{t(!1),e()}finally{H=n,to.transition=r}}function bd(){return We().memoizedState}function Hp(t,e,n){var r=Dt(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Cd(t))Nd(e,n);else if(n=ad(t,e,n,r),n!==null){var s=ke();Ze(n,t,r,s),Td(n,e,r)}}function Wp(t,e,n){var r=Dt(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Cd(t))Nd(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,l=i(o,n);if(s.hasEagerState=!0,s.eagerState=l,et(l,o)){var a=e.interleaved;a===null?(s.next=s,Wl(e)):(s.next=a.next,a.next=s),e.interleaved=s;return}}catch{}finally{}n=ad(t,e,s,r),n!==null&&(s=ke(),Ze(n,t,r,s),Td(n,e,r))}}function Cd(t){var e=t.alternate;return t===ee||e!==null&&e===ee}function Nd(t,e){Sr=ti=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Td(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Pl(t,n)}}var ni={readContext:He,useCallback:pe,useContext:pe,useEffect:pe,useImperativeHandle:pe,useInsertionEffect:pe,useLayoutEffect:pe,useMemo:pe,useReducer:pe,useRef:pe,useState:pe,useDebugValue:pe,useDeferredValue:pe,useTransition:pe,useMutableSource:pe,useSyncExternalStore:pe,useId:pe,unstable_isNewReconciler:!1},Vp={readContext:He,useCallback:function(t,e){return rt().memoizedState=[t,e===void 0?null:e],t},useContext:He,useEffect:lu,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Is(4194308,4,xd.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Is(4194308,4,t,e)},useInsertionEffect:function(t,e){return Is(4,2,t,e)},useMemo:function(t,e){var n=rt();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=rt();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Hp.bind(null,ee,t),[r.memoizedState,t]},useRef:function(t){var e=rt();return t={current:t},e.memoizedState=t},useState:ou,useDebugValue:Zl,useDeferredValue:function(t){return rt().memoizedState=t},useTransition:function(){var t=ou(!1),e=t[0];return t=Bp.bind(null,t[1]),rt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ee,s=rt();if(J){if(n===void 0)throw Error(S(407));n=n()}else{if(n=e(),ce===null)throw Error(S(349));on&30||fd(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,lu(md.bind(null,r,i,t),[t]),r.flags|=2048,Vr(9,pd.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=rt(),e=ce.identifierPrefix;if(J){var n=mt,r=pt;n=(r&~(1<<32-Xe(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Hr++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Fp++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},qp={readContext:He,useCallback:Sd,useContext:He,useEffect:Xl,useImperativeHandle:kd,useInsertionEffect:wd,useLayoutEffect:_d,useMemo:jd,useReducer:no,useRef:yd,useState:function(){return no(Wr)},useDebugValue:Zl,useDeferredValue:function(t){var e=We();return Ed(e,oe.memoizedState,t)},useTransition:function(){var t=no(Wr)[0],e=We().memoizedState;return[t,e]},useMutableSource:dd,useSyncExternalStore:hd,useId:bd,unstable_isNewReconciler:!1},Kp={readContext:He,useCallback:Sd,useContext:He,useEffect:Xl,useImperativeHandle:kd,useInsertionEffect:wd,useLayoutEffect:_d,useMemo:jd,useReducer:ro,useRef:yd,useState:function(){return ro(Wr)},useDebugValue:Zl,useDeferredValue:function(t){var e=We();return oe===null?e.memoizedState=t:Ed(e,oe.memoizedState,t)},useTransition:function(){var t=ro(Wr)[0],e=We().memoizedState;return[t,e]},useMutableSource:dd,useSyncExternalStore:hd,useId:bd,unstable_isNewReconciler:!1};function Ge(t,e){if(t&&t.defaultProps){e=te({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Ko(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:te({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var yi={isMounted:function(t){return(t=t._reactInternals)?cn(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=ke(),s=Dt(t),i=gt(r,s);i.payload=e,n!=null&&(i.callback=n),e=Mt(t,i,s),e!==null&&(Ze(e,t,s,r),Rs(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=ke(),s=Dt(t),i=gt(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Mt(t,i,s),e!==null&&(Ze(e,t,s,r),Rs(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=ke(),r=Dt(t),s=gt(n,r);s.tag=2,e!=null&&(s.callback=e),e=Mt(t,s,r),e!==null&&(Ze(e,t,r,n),Rs(e,t,r))}};function au(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Mr(n,r)||!Mr(s,i):!0}function Pd(t,e,n){var r=!1,s=Bt,i=e.contextType;return typeof i=="object"&&i!==null?i=He(i):(s=Pe(e)?rn:ye.current,r=e.contextTypes,i=(r=r!=null)?Bn(t,s):Bt),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=yi,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function uu(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&yi.enqueueReplaceState(e,e.state,null)}function Go(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Vl(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=He(i):(i=Pe(e)?rn:ye.current,s.context=Bn(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Ko(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&yi.enqueueReplaceState(s,s.state,null),Zs(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function qn(t,e){try{var n="",r=e;do n+=xf(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function so(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Qo(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Gp=typeof WeakMap=="function"?WeakMap:Map;function Rd(t,e,n){n=gt(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){si||(si=!0,il=r),Qo(t,e)},n}function Od(t,e,n){n=gt(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Qo(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Qo(t,e),typeof r!="function"&&(zt===null?zt=new Set([this]):zt.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function cu(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Gp;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=am.bind(null,t,e,n),e.then(t,t))}function du(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function hu(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=gt(-1,1),e.tag=2,Mt(n,e,1))),n.lanes|=1),t)}var Qp=xt.ReactCurrentOwner,Ne=!1;function xe(t,e,n,r){e.child=t===null?ld(e,null,n,r):Wn(e,t.child,n,r)}function fu(t,e,n,r,s){n=n.render;var i=e.ref;return zn(e,s),r=Jl(t,e,n,r,i,s),n=Yl(),t!==null&&!Ne?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,_t(t,e,s)):(J&&n&&zl(e),e.flags|=1,xe(t,e,r,s),e.child)}function pu(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!la(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,Id(t,e,i,r,s)):(t=Ms(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Mr,n(o,r)&&t.ref===e.ref)return _t(t,e,s)}return e.flags|=1,t=Ut(i,r),t.ref=e.ref,t.return=e,e.child=t}function Id(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Mr(i,r)&&t.ref===e.ref)if(Ne=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Ne=!0);else return e.lanes=t.lanes,_t(t,e,s)}return Jo(t,e,n,r,s)}function Ad(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},V(On,Oe),Oe|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,V(On,Oe),Oe|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,V(On,Oe),Oe|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,V(On,Oe),Oe|=r;return xe(t,e,s,n),e.child}function $d(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Jo(t,e,n,r,s){var i=Pe(n)?rn:ye.current;return i=Bn(e,i),zn(e,s),n=Jl(t,e,n,r,i,s),r=Yl(),t!==null&&!Ne?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,_t(t,e,s)):(J&&r&&zl(e),e.flags|=1,xe(t,e,n,s),e.child)}function mu(t,e,n,r,s){if(Pe(n)){var i=!0;Gs(e)}else i=!1;if(zn(e,s),e.stateNode===null)As(t,e),Pd(e,n,r),Go(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var a=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=He(u):(u=Pe(n)?rn:ye.current,u=Bn(e,u));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||a!==u)&&uu(e,o,r,u),bt=!1;var m=e.memoizedState;o.state=m,Zs(e,r,o,s),a=e.memoizedState,l!==r||m!==a||Te.current||bt?(typeof d=="function"&&(Ko(e,n,d,r),a=e.memoizedState),(l=bt||au(e,n,l,r,m,a,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=a),o.props=r,o.state=a,o.context=u,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,ud(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:Ge(e.type,l),o.props=u,h=e.pendingProps,m=o.context,a=n.contextType,typeof a=="object"&&a!==null?a=He(a):(a=Pe(n)?rn:ye.current,a=Bn(e,a));var y=n.getDerivedStateFromProps;(d=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||m!==a)&&uu(e,o,r,a),bt=!1,m=e.memoizedState,o.state=m,Zs(e,r,o,s);var _=e.memoizedState;l!==h||m!==_||Te.current||bt?(typeof y=="function"&&(Ko(e,n,y,r),_=e.memoizedState),(u=bt||au(e,n,u,r,m,_,a)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,_,a),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,_,a)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=_),o.props=r,o.state=_,o.context=a,r=u):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return Yo(t,e,n,r,i,s)}function Yo(t,e,n,r,s,i){$d(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&eu(e,n,!1),_t(t,e,i);r=e.stateNode,Qp.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Wn(e,t.child,null,i),e.child=Wn(e,null,l,i)):xe(t,e,l,i),e.memoizedState=r.state,s&&eu(e,n,!0),e.child}function Ld(t){var e=t.stateNode;e.pendingContext?Za(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Za(t,e.context,!1),ql(t,e.containerInfo)}function gu(t,e,n,r,s){return Hn(),Ul(s),e.flags|=256,xe(t,e,n,r),e.child}var Xo={dehydrated:null,treeContext:null,retryLane:0};function Zo(t){return{baseLanes:t,cachePool:null,transitions:null}}function Md(t,e,n){var r=e.pendingProps,s=Z.current,i=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(s&2)!==0),l?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),V(Z,s&1),t===null)return Vo(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=xi(o,r,0,null),t=nn(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Zo(n),e.memoizedState=Xo,t):ea(e,o));if(s=t.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return Jp(t,e,o,r,l,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,l=s.sibling;var a={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=a,e.deletions=null):(r=Ut(s,a),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=Ut(l,i):(i=nn(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?Zo(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=Xo,r}return i=t.child,t=i.sibling,r=Ut(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function ea(t,e){return e=xi({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function ms(t,e,n,r){return r!==null&&Ul(r),Wn(e,t.child,null,n),t=ea(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Jp(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=so(Error(S(422))),ms(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=xi({mode:"visible",children:r.children},s,0,null),i=nn(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Wn(e,t.child,null,o),e.child.memoizedState=Zo(o),e.memoizedState=Xo,i);if(!(e.mode&1))return ms(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(S(419)),r=so(i,r,void 0),ms(t,e,o,r)}if(l=(o&t.childLanes)!==0,Ne||l){if(r=ce,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,wt(t,s),Ze(r,t,s,-1))}return oa(),r=so(Error(S(421))),ms(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=um.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Ie=Lt(s.nextSibling),Ae=e,J=!0,Ye=null,t!==null&&(ze[De++]=pt,ze[De++]=mt,ze[De++]=sn,pt=t.id,mt=t.overflow,sn=e),e=ea(e,r.children),e.flags|=4096,e)}function vu(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),qo(t.return,e,n)}function io(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function zd(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(xe(t,e,r.children,n),r=Z.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&vu(t,n,e);else if(t.tag===19)vu(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(V(Z,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&ei(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),io(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&ei(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}io(e,!0,n,null,i);break;case"together":io(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function As(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function _t(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ln|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(S(153));if(e.child!==null){for(t=e.child,n=Ut(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ut(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Yp(t,e,n){switch(e.tag){case 3:Ld(e),Hn();break;case 5:cd(e);break;case 1:Pe(e.type)&&Gs(e);break;case 4:ql(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;V(Ys,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(V(Z,Z.current&1),e.flags|=128,null):n&e.child.childLanes?Md(t,e,n):(V(Z,Z.current&1),t=_t(t,e,n),t!==null?t.sibling:null);V(Z,Z.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return zd(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),V(Z,Z.current),r)break;return null;case 22:case 23:return e.lanes=0,Ad(t,e,n)}return _t(t,e,n)}var Dd,el,Ud,Fd;Dd=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};el=function(){};Ud=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,en(ot.current);var i=null;switch(n){case"input":s=ko(t,s),r=ko(t,r),i=[];break;case"select":s=te({},s,{value:void 0}),r=te({},r,{value:void 0}),i=[];break;case"textarea":s=Eo(t,s),r=Eo(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=qs)}Co(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Pr.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var a=r[u];if(l=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&a!==l&&(a!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||a&&a.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in a)a.hasOwnProperty(o)&&l[o]!==a[o]&&(n||(n={}),n[o]=a[o])}else n||(i||(i=[]),i.push(u,n)),n=a;else u==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(i=i||[]).push(u,a)):u==="children"?typeof a!="string"&&typeof a!="number"||(i=i||[]).push(u,""+a):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Pr.hasOwnProperty(u)?(a!=null&&u==="onScroll"&&q("scroll",t),i||l===a||(i=[])):(i=i||[]).push(u,a))}n&&(i=i||[]).push("style",n);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};Fd=function(t,e,n,r){n!==r&&(e.flags|=4)};function ur(t,e){if(!J)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function me(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Xp(t,e,n){var r=e.pendingProps;switch(Dl(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return me(e),null;case 1:return Pe(e.type)&&Ks(),me(e),null;case 3:return r=e.stateNode,Vn(),K(Te),K(ye),Gl(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(fs(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ye!==null&&(al(Ye),Ye=null))),el(t,e),me(e),null;case 5:Kl(e);var s=en(Br.current);if(n=e.type,t!==null&&e.stateNode!=null)Ud(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(S(166));return me(e),null}if(t=en(ot.current),fs(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[st]=e,r[Ur]=i,t=(e.mode&1)!==0,n){case"dialog":q("cancel",r),q("close",r);break;case"iframe":case"object":case"embed":q("load",r);break;case"video":case"audio":for(s=0;s<gr.length;s++)q(gr[s],r);break;case"source":q("error",r);break;case"img":case"image":case"link":q("error",r),q("load",r);break;case"details":q("toggle",r);break;case"input":ba(r,i),q("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},q("invalid",r);break;case"textarea":Na(r,i),q("invalid",r)}Co(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&hs(r.textContent,l,t),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&hs(r.textContent,l,t),s=["children",""+l]):Pr.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&q("scroll",r)}switch(n){case"input":ss(r),Ca(r,i,!0);break;case"textarea":ss(r),Ta(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=qs)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=mc(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[st]=e,t[Ur]=r,Dd(t,e,!1,!1),e.stateNode=t;e:{switch(o=No(n,r),n){case"dialog":q("cancel",t),q("close",t),s=r;break;case"iframe":case"object":case"embed":q("load",t),s=r;break;case"video":case"audio":for(s=0;s<gr.length;s++)q(gr[s],t);s=r;break;case"source":q("error",t),s=r;break;case"img":case"image":case"link":q("error",t),q("load",t),s=r;break;case"details":q("toggle",t),s=r;break;case"input":ba(t,r),s=ko(t,r),q("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=te({},r,{value:void 0}),q("invalid",t);break;case"textarea":Na(t,r),s=Eo(t,r),q("invalid",t);break;default:s=r}Co(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var a=l[i];i==="style"?yc(t,a):i==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&gc(t,a)):i==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&Rr(t,a):typeof a=="number"&&Rr(t,""+a):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Pr.hasOwnProperty(i)?a!=null&&i==="onScroll"&&q("scroll",t):a!=null&&jl(t,i,a,o))}switch(n){case"input":ss(t),Ca(t,r,!1);break;case"textarea":ss(t),Ta(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ft(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?An(t,!!r.multiple,i,!1):r.defaultValue!=null&&An(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=qs)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return me(e),null;case 6:if(t&&e.stateNode!=null)Fd(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(S(166));if(n=en(Br.current),en(ot.current),fs(e)){if(r=e.stateNode,n=e.memoizedProps,r[st]=e,(i=r.nodeValue!==n)&&(t=Ae,t!==null))switch(t.tag){case 3:hs(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&hs(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[st]=e,e.stateNode=r}return me(e),null;case 13:if(K(Z),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(J&&Ie!==null&&e.mode&1&&!(e.flags&128))id(),Hn(),e.flags|=98560,i=!1;else if(i=fs(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(S(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(S(317));i[st]=e}else Hn(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;me(e),i=!1}else Ye!==null&&(al(Ye),Ye=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Z.current&1?le===0&&(le=3):oa())),e.updateQueue!==null&&(e.flags|=4),me(e),null);case 4:return Vn(),el(t,e),t===null&&zr(e.stateNode.containerInfo),me(e),null;case 10:return Hl(e.type._context),me(e),null;case 17:return Pe(e.type)&&Ks(),me(e),null;case 19:if(K(Z),i=e.memoizedState,i===null)return me(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)ur(i,!1);else{if(le!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=ei(t),o!==null){for(e.flags|=128,ur(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return V(Z,Z.current&1|2),e.child}t=t.sibling}i.tail!==null&&re()>Kn&&(e.flags|=128,r=!0,ur(i,!1),e.lanes=4194304)}else{if(!r)if(t=ei(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ur(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!J)return me(e),null}else 2*re()-i.renderingStartTime>Kn&&n!==1073741824&&(e.flags|=128,r=!0,ur(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=re(),e.sibling=null,n=Z.current,V(Z,r?n&1|2:n&1),e):(me(e),null);case 22:case 23:return ia(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Oe&1073741824&&(me(e),e.subtreeFlags&6&&(e.flags|=8192)):me(e),null;case 24:return null;case 25:return null}throw Error(S(156,e.tag))}function Zp(t,e){switch(Dl(e),e.tag){case 1:return Pe(e.type)&&Ks(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Vn(),K(Te),K(ye),Gl(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Kl(e),null;case 13:if(K(Z),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(S(340));Hn()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return K(Z),null;case 4:return Vn(),null;case 10:return Hl(e.type._context),null;case 22:case 23:return ia(),null;case 24:return null;default:return null}}var gs=!1,ve=!1,em=typeof WeakSet=="function"?WeakSet:Set,T=null;function Rn(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ne(t,e,r)}else n.current=null}function tl(t,e,n){try{n()}catch(r){ne(t,e,r)}}var yu=!1;function tm(t,e){if(zo=Hs,t=qc(),Ml(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,l=-1,a=-1,u=0,d=0,h=t,m=null;t:for(;;){for(var y;h!==n||s!==0&&h.nodeType!==3||(l=o+s),h!==i||r!==0&&h.nodeType!==3||(a=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(y=h.firstChild)!==null;)m=h,h=y;for(;;){if(h===t)break t;if(m===n&&++u===s&&(l=o),m===i&&++d===r&&(a=o),(y=h.nextSibling)!==null)break;h=m,m=h.parentNode}h=y}n=l===-1||a===-1?null:{start:l,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(Do={focusedElem:t,selectionRange:n},Hs=!1,T=e;T!==null;)if(e=T,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,T=t;else for(;T!==null;){e=T;try{var _=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var v=_.memoizedProps,k=_.memoizedState,f=e.stateNode,p=f.getSnapshotBeforeUpdate(e.elementType===e.type?v:Ge(e.type,v),k);f.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var g=e.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(S(163))}}catch(w){ne(e,e.return,w)}if(t=e.sibling,t!==null){t.return=e.return,T=t;break}T=e.return}return _=yu,yu=!1,_}function jr(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&tl(e,n,i)}s=s.next}while(s!==r)}}function wi(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function nl(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Bd(t){var e=t.alternate;e!==null&&(t.alternate=null,Bd(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[st],delete e[Ur],delete e[Bo],delete e[Mp],delete e[zp])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Hd(t){return t.tag===5||t.tag===3||t.tag===4}function wu(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Hd(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function rl(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=qs));else if(r!==4&&(t=t.child,t!==null))for(rl(t,e,n),t=t.sibling;t!==null;)rl(t,e,n),t=t.sibling}function sl(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(sl(t,e,n),t=t.sibling;t!==null;)sl(t,e,n),t=t.sibling}var de=null,Qe=!1;function St(t,e,n){for(n=n.child;n!==null;)Wd(t,e,n),n=n.sibling}function Wd(t,e,n){if(it&&typeof it.onCommitFiberUnmount=="function")try{it.onCommitFiberUnmount(di,n)}catch{}switch(n.tag){case 5:ve||Rn(n,e);case 6:var r=de,s=Qe;de=null,St(t,e,n),de=r,Qe=s,de!==null&&(Qe?(t=de,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):de.removeChild(n.stateNode));break;case 18:de!==null&&(Qe?(t=de,n=n.stateNode,t.nodeType===8?Xi(t.parentNode,n):t.nodeType===1&&Xi(t,n),$r(t)):Xi(de,n.stateNode));break;case 4:r=de,s=Qe,de=n.stateNode.containerInfo,Qe=!0,St(t,e,n),de=r,Qe=s;break;case 0:case 11:case 14:case 15:if(!ve&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&tl(n,e,o),s=s.next}while(s!==r)}St(t,e,n);break;case 1:if(!ve&&(Rn(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){ne(n,e,l)}St(t,e,n);break;case 21:St(t,e,n);break;case 22:n.mode&1?(ve=(r=ve)||n.memoizedState!==null,St(t,e,n),ve=r):St(t,e,n);break;default:St(t,e,n)}}function _u(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new em),e.forEach(function(r){var s=cm.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function qe(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:de=l.stateNode,Qe=!1;break e;case 3:de=l.stateNode.containerInfo,Qe=!0;break e;case 4:de=l.stateNode.containerInfo,Qe=!0;break e}l=l.return}if(de===null)throw Error(S(160));Wd(i,o,s),de=null,Qe=!1;var a=s.alternate;a!==null&&(a.return=null),s.return=null}catch(u){ne(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Vd(e,t),e=e.sibling}function Vd(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(qe(e,t),nt(t),r&4){try{jr(3,t,t.return),wi(3,t)}catch(v){ne(t,t.return,v)}try{jr(5,t,t.return)}catch(v){ne(t,t.return,v)}}break;case 1:qe(e,t),nt(t),r&512&&n!==null&&Rn(n,n.return);break;case 5:if(qe(e,t),nt(t),r&512&&n!==null&&Rn(n,n.return),t.flags&32){var s=t.stateNode;try{Rr(s,"")}catch(v){ne(t,t.return,v)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,l=t.type,a=t.updateQueue;if(t.updateQueue=null,a!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&fc(s,i),No(l,o);var u=No(l,i);for(o=0;o<a.length;o+=2){var d=a[o],h=a[o+1];d==="style"?yc(s,h):d==="dangerouslySetInnerHTML"?gc(s,h):d==="children"?Rr(s,h):jl(s,d,h,u)}switch(l){case"input":So(s,i);break;case"textarea":pc(s,i);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var y=i.value;y!=null?An(s,!!i.multiple,y,!1):m!==!!i.multiple&&(i.defaultValue!=null?An(s,!!i.multiple,i.defaultValue,!0):An(s,!!i.multiple,i.multiple?[]:"",!1))}s[Ur]=i}catch(v){ne(t,t.return,v)}}break;case 6:if(qe(e,t),nt(t),r&4){if(t.stateNode===null)throw Error(S(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(v){ne(t,t.return,v)}}break;case 3:if(qe(e,t),nt(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{$r(e.containerInfo)}catch(v){ne(t,t.return,v)}break;case 4:qe(e,t),nt(t);break;case 13:qe(e,t),nt(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(ra=re())),r&4&&_u(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(ve=(u=ve)||d,qe(e,t),ve=u):qe(e,t),nt(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(T=t,d=t.child;d!==null;){for(h=T=d;T!==null;){switch(m=T,y=m.child,m.tag){case 0:case 11:case 14:case 15:jr(4,m,m.return);break;case 1:Rn(m,m.return);var _=m.stateNode;if(typeof _.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,_.props=e.memoizedProps,_.state=e.memoizedState,_.componentWillUnmount()}catch(v){ne(r,n,v)}}break;case 5:Rn(m,m.return);break;case 22:if(m.memoizedState!==null){ku(h);continue}}y!==null?(y.return=m,T=y):ku(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=h.stateNode,a=h.memoizedProps.style,o=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=vc("display",o))}catch(v){ne(t,t.return,v)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(v){ne(t,t.return,v)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:qe(e,t),nt(t),r&4&&_u(t);break;case 21:break;default:qe(e,t),nt(t)}}function nt(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Hd(n)){var r=n;break e}n=n.return}throw Error(S(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Rr(s,""),r.flags&=-33);var i=wu(t);sl(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,l=wu(t);rl(t,l,o);break;default:throw Error(S(161))}}catch(a){ne(t,t.return,a)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function nm(t,e,n){T=t,qd(t)}function qd(t,e,n){for(var r=(t.mode&1)!==0;T!==null;){var s=T,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||gs;if(!o){var l=s.alternate,a=l!==null&&l.memoizedState!==null||ve;l=gs;var u=ve;if(gs=o,(ve=a)&&!u)for(T=s;T!==null;)o=T,a=o.child,o.tag===22&&o.memoizedState!==null?Su(s):a!==null?(a.return=o,T=a):Su(s);for(;i!==null;)T=i,qd(i),i=i.sibling;T=s,gs=l,ve=u}xu(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,T=i):xu(t)}}function xu(t){for(;T!==null;){var e=T;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ve||wi(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!ve)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Ge(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&iu(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}iu(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var a=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&$r(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(S(163))}ve||e.flags&512&&nl(e)}catch(m){ne(e,e.return,m)}}if(e===t){T=null;break}if(n=e.sibling,n!==null){n.return=e.return,T=n;break}T=e.return}}function ku(t){for(;T!==null;){var e=T;if(e===t){T=null;break}var n=e.sibling;if(n!==null){n.return=e.return,T=n;break}T=e.return}}function Su(t){for(;T!==null;){var e=T;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{wi(4,e)}catch(a){ne(e,n,a)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(a){ne(e,s,a)}}var i=e.return;try{nl(e)}catch(a){ne(e,i,a)}break;case 5:var o=e.return;try{nl(e)}catch(a){ne(e,o,a)}}}catch(a){ne(e,e.return,a)}if(e===t){T=null;break}var l=e.sibling;if(l!==null){l.return=e.return,T=l;break}T=e.return}}var rm=Math.ceil,ri=xt.ReactCurrentDispatcher,ta=xt.ReactCurrentOwner,Fe=xt.ReactCurrentBatchConfig,B=0,ce=null,ie=null,he=0,Oe=0,On=Wt(0),le=0,qr=null,ln=0,_i=0,na=0,Er=null,be=null,ra=0,Kn=1/0,dt=null,si=!1,il=null,zt=null,vs=!1,Ot=null,ii=0,br=0,ol=null,$s=-1,Ls=0;function ke(){return B&6?re():$s!==-1?$s:$s=re()}function Dt(t){return t.mode&1?B&2&&he!==0?he&-he:Up.transition!==null?(Ls===0&&(Ls=Pc()),Ls):(t=H,t!==0||(t=window.event,t=t===void 0?16:Mc(t.type)),t):1}function Ze(t,e,n,r){if(50<br)throw br=0,ol=null,Error(S(185));Qr(t,n,r),(!(B&2)||t!==ce)&&(t===ce&&(!(B&2)&&(_i|=n),le===4&&Tt(t,he)),Re(t,r),n===1&&B===0&&!(e.mode&1)&&(Kn=re()+500,gi&&Vt()))}function Re(t,e){var n=t.callbackNode;Uf(t,e);var r=Bs(t,t===ce?he:0);if(r===0)n!==null&&Oa(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Oa(n),e===1)t.tag===0?Dp(ju.bind(null,t)):nd(ju.bind(null,t)),$p(function(){!(B&6)&&Vt()}),n=null;else{switch(Rc(r)){case 1:n=Tl;break;case 4:n=Nc;break;case 16:n=Fs;break;case 536870912:n=Tc;break;default:n=Fs}n=eh(n,Kd.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Kd(t,e){if($s=-1,Ls=0,B&6)throw Error(S(327));var n=t.callbackNode;if(Dn()&&t.callbackNode!==n)return null;var r=Bs(t,t===ce?he:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=oi(t,r);else{e=r;var s=B;B|=2;var i=Qd();(ce!==t||he!==e)&&(dt=null,Kn=re()+500,tn(t,e));do try{om();break}catch(l){Gd(t,l)}while(!0);Bl(),ri.current=i,B=s,ie!==null?e=0:(ce=null,he=0,e=le)}if(e!==0){if(e===2&&(s=Io(t),s!==0&&(r=s,e=ll(t,s))),e===1)throw n=qr,tn(t,0),Tt(t,r),Re(t,re()),n;if(e===6)Tt(t,r);else{if(s=t.current.alternate,!(r&30)&&!sm(s)&&(e=oi(t,r),e===2&&(i=Io(t),i!==0&&(r=i,e=ll(t,i))),e===1))throw n=qr,tn(t,0),Tt(t,r),Re(t,re()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(S(345));case 2:Qt(t,be,dt);break;case 3:if(Tt(t,r),(r&130023424)===r&&(e=ra+500-re(),10<e)){if(Bs(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){ke(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Fo(Qt.bind(null,t,be,dt),e);break}Qt(t,be,dt);break;case 4:if(Tt(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-Xe(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=re()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*rm(r/1960))-r,10<r){t.timeoutHandle=Fo(Qt.bind(null,t,be,dt),r);break}Qt(t,be,dt);break;case 5:Qt(t,be,dt);break;default:throw Error(S(329))}}}return Re(t,re()),t.callbackNode===n?Kd.bind(null,t):null}function ll(t,e){var n=Er;return t.current.memoizedState.isDehydrated&&(tn(t,e).flags|=256),t=oi(t,e),t!==2&&(e=be,be=n,e!==null&&al(e)),t}function al(t){be===null?be=t:be.push.apply(be,t)}function sm(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!et(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Tt(t,e){for(e&=~na,e&=~_i,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Xe(e),r=1<<n;t[n]=-1,e&=~r}}function ju(t){if(B&6)throw Error(S(327));Dn();var e=Bs(t,0);if(!(e&1))return Re(t,re()),null;var n=oi(t,e);if(t.tag!==0&&n===2){var r=Io(t);r!==0&&(e=r,n=ll(t,r))}if(n===1)throw n=qr,tn(t,0),Tt(t,e),Re(t,re()),n;if(n===6)throw Error(S(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Qt(t,be,dt),Re(t,re()),null}function sa(t,e){var n=B;B|=1;try{return t(e)}finally{B=n,B===0&&(Kn=re()+500,gi&&Vt())}}function an(t){Ot!==null&&Ot.tag===0&&!(B&6)&&Dn();var e=B;B|=1;var n=Fe.transition,r=H;try{if(Fe.transition=null,H=1,t)return t()}finally{H=r,Fe.transition=n,B=e,!(B&6)&&Vt()}}function ia(){Oe=On.current,K(On)}function tn(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Ap(n)),ie!==null)for(n=ie.return;n!==null;){var r=n;switch(Dl(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ks();break;case 3:Vn(),K(Te),K(ye),Gl();break;case 5:Kl(r);break;case 4:Vn();break;case 13:K(Z);break;case 19:K(Z);break;case 10:Hl(r.type._context);break;case 22:case 23:ia()}n=n.return}if(ce=t,ie=t=Ut(t.current,null),he=Oe=e,le=0,qr=null,na=_i=ln=0,be=Er=null,Zt!==null){for(e=0;e<Zt.length;e++)if(n=Zt[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Zt=null}return t}function Gd(t,e){do{var n=ie;try{if(Bl(),Os.current=ni,ti){for(var r=ee.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}ti=!1}if(on=0,ue=oe=ee=null,Sr=!1,Hr=0,ta.current=null,n===null||n.return===null){le=1,qr=e,ie=null;break}e:{var i=t,o=n.return,l=n,a=e;if(e=he,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=a,d=l,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var y=du(o);if(y!==null){y.flags&=-257,hu(y,o,l,i,e),y.mode&1&&cu(i,u,e),e=y,a=u;var _=e.updateQueue;if(_===null){var v=new Set;v.add(a),e.updateQueue=v}else _.add(a);break e}else{if(!(e&1)){cu(i,u,e),oa();break e}a=Error(S(426))}}else if(J&&l.mode&1){var k=du(o);if(k!==null){!(k.flags&65536)&&(k.flags|=256),hu(k,o,l,i,e),Ul(qn(a,l));break e}}i=a=qn(a,l),le!==4&&(le=2),Er===null?Er=[i]:Er.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var f=Rd(i,a,e);su(i,f);break e;case 1:l=a;var p=i.type,g=i.stateNode;if(!(i.flags&128)&&(typeof p.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(zt===null||!zt.has(g)))){i.flags|=65536,e&=-e,i.lanes|=e;var w=Od(i,l,e);su(i,w);break e}}i=i.return}while(i!==null)}Yd(n)}catch(E){e=E,ie===n&&n!==null&&(ie=n=n.return);continue}break}while(!0)}function Qd(){var t=ri.current;return ri.current=ni,t===null?ni:t}function oa(){(le===0||le===3||le===2)&&(le=4),ce===null||!(ln&268435455)&&!(_i&268435455)||Tt(ce,he)}function oi(t,e){var n=B;B|=2;var r=Qd();(ce!==t||he!==e)&&(dt=null,tn(t,e));do try{im();break}catch(s){Gd(t,s)}while(!0);if(Bl(),B=n,ri.current=r,ie!==null)throw Error(S(261));return ce=null,he=0,le}function im(){for(;ie!==null;)Jd(ie)}function om(){for(;ie!==null&&!Rf();)Jd(ie)}function Jd(t){var e=Zd(t.alternate,t,Oe);t.memoizedProps=t.pendingProps,e===null?Yd(t):ie=e,ta.current=null}function Yd(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Zp(n,e),n!==null){n.flags&=32767,ie=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{le=6,ie=null;return}}else if(n=Xp(n,e,Oe),n!==null){ie=n;return}if(e=e.sibling,e!==null){ie=e;return}ie=e=t}while(e!==null);le===0&&(le=5)}function Qt(t,e,n){var r=H,s=Fe.transition;try{Fe.transition=null,H=1,lm(t,e,n,r)}finally{Fe.transition=s,H=r}return null}function lm(t,e,n,r){do Dn();while(Ot!==null);if(B&6)throw Error(S(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(S(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(Ff(t,i),t===ce&&(ie=ce=null,he=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||vs||(vs=!0,eh(Fs,function(){return Dn(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Fe.transition,Fe.transition=null;var o=H;H=1;var l=B;B|=4,ta.current=null,tm(t,n),Vd(n,t),Cp(Do),Hs=!!zo,Do=zo=null,t.current=n,nm(n),Of(),B=l,H=o,Fe.transition=i}else t.current=n;if(vs&&(vs=!1,Ot=t,ii=s),i=t.pendingLanes,i===0&&(zt=null),$f(n.stateNode),Re(t,re()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(si)throw si=!1,t=il,il=null,t;return ii&1&&t.tag!==0&&Dn(),i=t.pendingLanes,i&1?t===ol?br++:(br=0,ol=t):br=0,Vt(),null}function Dn(){if(Ot!==null){var t=Rc(ii),e=Fe.transition,n=H;try{if(Fe.transition=null,H=16>t?16:t,Ot===null)var r=!1;else{if(t=Ot,Ot=null,ii=0,B&6)throw Error(S(331));var s=B;for(B|=4,T=t.current;T!==null;){var i=T,o=i.child;if(T.flags&16){var l=i.deletions;if(l!==null){for(var a=0;a<l.length;a++){var u=l[a];for(T=u;T!==null;){var d=T;switch(d.tag){case 0:case 11:case 15:jr(8,d,i)}var h=d.child;if(h!==null)h.return=d,T=h;else for(;T!==null;){d=T;var m=d.sibling,y=d.return;if(Bd(d),d===u){T=null;break}if(m!==null){m.return=y,T=m;break}T=y}}}var _=i.alternate;if(_!==null){var v=_.child;if(v!==null){_.child=null;do{var k=v.sibling;v.sibling=null,v=k}while(v!==null)}}T=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,T=o;else e:for(;T!==null;){if(i=T,i.flags&2048)switch(i.tag){case 0:case 11:case 15:jr(9,i,i.return)}var f=i.sibling;if(f!==null){f.return=i.return,T=f;break e}T=i.return}}var p=t.current;for(T=p;T!==null;){o=T;var g=o.child;if(o.subtreeFlags&2064&&g!==null)g.return=o,T=g;else e:for(o=p;T!==null;){if(l=T,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:wi(9,l)}}catch(E){ne(l,l.return,E)}if(l===o){T=null;break e}var w=l.sibling;if(w!==null){w.return=l.return,T=w;break e}T=l.return}}if(B=s,Vt(),it&&typeof it.onPostCommitFiberRoot=="function")try{it.onPostCommitFiberRoot(di,t)}catch{}r=!0}return r}finally{H=n,Fe.transition=e}}return!1}function Eu(t,e,n){e=qn(n,e),e=Rd(t,e,1),t=Mt(t,e,1),e=ke(),t!==null&&(Qr(t,1,e),Re(t,e))}function ne(t,e,n){if(t.tag===3)Eu(t,t,n);else for(;e!==null;){if(e.tag===3){Eu(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(zt===null||!zt.has(r))){t=qn(n,t),t=Od(e,t,1),e=Mt(e,t,1),t=ke(),e!==null&&(Qr(e,1,t),Re(e,t));break}}e=e.return}}function am(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=ke(),t.pingedLanes|=t.suspendedLanes&n,ce===t&&(he&n)===n&&(le===4||le===3&&(he&130023424)===he&&500>re()-ra?tn(t,0):na|=n),Re(t,e)}function Xd(t,e){e===0&&(t.mode&1?(e=ls,ls<<=1,!(ls&130023424)&&(ls=4194304)):e=1);var n=ke();t=wt(t,e),t!==null&&(Qr(t,e,n),Re(t,n))}function um(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Xd(t,n)}function cm(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(S(314))}r!==null&&r.delete(e),Xd(t,n)}var Zd;Zd=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Te.current)Ne=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Ne=!1,Yp(t,e,n);Ne=!!(t.flags&131072)}else Ne=!1,J&&e.flags&1048576&&rd(e,Js,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;As(t,e),t=e.pendingProps;var s=Bn(e,ye.current);zn(e,n),s=Jl(null,e,r,t,s,n);var i=Yl();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Pe(r)?(i=!0,Gs(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Vl(e),s.updater=yi,e.stateNode=s,s._reactInternals=e,Go(e,r,t,n),e=Yo(null,e,r,!0,i,n)):(e.tag=0,J&&i&&zl(e),xe(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(As(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=hm(r),t=Ge(r,t),s){case 0:e=Jo(null,e,r,t,n);break e;case 1:e=mu(null,e,r,t,n);break e;case 11:e=fu(null,e,r,t,n);break e;case 14:e=pu(null,e,r,Ge(r.type,t),n);break e}throw Error(S(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Ge(r,s),Jo(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Ge(r,s),mu(t,e,r,s,n);case 3:e:{if(Ld(e),t===null)throw Error(S(387));r=e.pendingProps,i=e.memoizedState,s=i.element,ud(t,e),Zs(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=qn(Error(S(423)),e),e=gu(t,e,r,n,s);break e}else if(r!==s){s=qn(Error(S(424)),e),e=gu(t,e,r,n,s);break e}else for(Ie=Lt(e.stateNode.containerInfo.firstChild),Ae=e,J=!0,Ye=null,n=ld(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Hn(),r===s){e=_t(t,e,n);break e}xe(t,e,r,n)}e=e.child}return e;case 5:return cd(e),t===null&&Vo(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Uo(r,s)?o=null:i!==null&&Uo(r,i)&&(e.flags|=32),$d(t,e),xe(t,e,o,n),e.child;case 6:return t===null&&Vo(e),null;case 13:return Md(t,e,n);case 4:return ql(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Wn(e,null,r,n):xe(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Ge(r,s),fu(t,e,r,s,n);case 7:return xe(t,e,e.pendingProps,n),e.child;case 8:return xe(t,e,e.pendingProps.children,n),e.child;case 12:return xe(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,V(Ys,r._currentValue),r._currentValue=o,i!==null)if(et(i.value,o)){if(i.children===s.children&&!Te.current){e=_t(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var a=l.firstContext;a!==null;){if(a.context===r){if(i.tag===1){a=gt(-1,n&-n),a.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?a.next=a:(a.next=d.next,d.next=a),u.pending=a}}i.lanes|=n,a=i.alternate,a!==null&&(a.lanes|=n),qo(i.return,n,e),l.lanes|=n;break}a=a.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(S(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),qo(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}xe(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,zn(e,n),s=He(s),r=r(s),e.flags|=1,xe(t,e,r,n),e.child;case 14:return r=e.type,s=Ge(r,e.pendingProps),s=Ge(r.type,s),pu(t,e,r,s,n);case 15:return Id(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Ge(r,s),As(t,e),e.tag=1,Pe(r)?(t=!0,Gs(e)):t=!1,zn(e,n),Pd(e,r,s),Go(e,r,s,n),Yo(null,e,r,!0,t,n);case 19:return zd(t,e,n);case 22:return Ad(t,e,n)}throw Error(S(156,e.tag))};function eh(t,e){return Cc(t,e)}function dm(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ue(t,e,n,r){return new dm(t,e,n,r)}function la(t){return t=t.prototype,!(!t||!t.isReactComponent)}function hm(t){if(typeof t=="function")return la(t)?1:0;if(t!=null){if(t=t.$$typeof,t===bl)return 11;if(t===Cl)return 14}return 2}function Ut(t,e){var n=t.alternate;return n===null?(n=Ue(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Ms(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")la(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case kn:return nn(n.children,s,i,e);case El:o=8,s|=8;break;case yo:return t=Ue(12,n,e,s|2),t.elementType=yo,t.lanes=i,t;case wo:return t=Ue(13,n,e,s),t.elementType=wo,t.lanes=i,t;case _o:return t=Ue(19,n,e,s),t.elementType=_o,t.lanes=i,t;case cc:return xi(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ac:o=10;break e;case uc:o=9;break e;case bl:o=11;break e;case Cl:o=14;break e;case Et:o=16,r=null;break e}throw Error(S(130,t==null?t:typeof t,""))}return e=Ue(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function nn(t,e,n,r){return t=Ue(7,t,r,e),t.lanes=n,t}function xi(t,e,n,r){return t=Ue(22,t,r,e),t.elementType=cc,t.lanes=n,t.stateNode={isHidden:!1},t}function oo(t,e,n){return t=Ue(6,t,null,e),t.lanes=n,t}function lo(t,e,n){return e=Ue(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function fm(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Fi(0),this.expirationTimes=Fi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fi(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function aa(t,e,n,r,s,i,o,l,a){return t=new fm(t,e,n,l,a),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Ue(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Vl(i),t}function pm(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:xn,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function th(t){if(!t)return Bt;t=t._reactInternals;e:{if(cn(t)!==t||t.tag!==1)throw Error(S(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Pe(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(S(171))}if(t.tag===1){var n=t.type;if(Pe(n))return td(t,n,e)}return e}function nh(t,e,n,r,s,i,o,l,a){return t=aa(n,r,!0,t,s,i,o,l,a),t.context=th(null),n=t.current,r=ke(),s=Dt(n),i=gt(r,s),i.callback=e??null,Mt(n,i,s),t.current.lanes=s,Qr(t,s,r),Re(t,r),t}function ki(t,e,n,r){var s=e.current,i=ke(),o=Dt(s);return n=th(n),e.context===null?e.context=n:e.pendingContext=n,e=gt(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Mt(s,e,o),t!==null&&(Ze(t,s,o,i),Rs(t,s,o)),o}function li(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function bu(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function ua(t,e){bu(t,e),(t=t.alternate)&&bu(t,e)}function mm(){return null}var rh=typeof reportError=="function"?reportError:function(t){console.error(t)};function ca(t){this._internalRoot=t}Si.prototype.render=ca.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(S(409));ki(t,e,null,null)};Si.prototype.unmount=ca.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;an(function(){ki(null,t,null,null)}),e[yt]=null}};function Si(t){this._internalRoot=t}Si.prototype.unstable_scheduleHydration=function(t){if(t){var e=Ac();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Nt.length&&e!==0&&e<Nt[n].priority;n++);Nt.splice(n,0,t),n===0&&Lc(t)}};function da(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ji(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Cu(){}function gm(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=li(o);i.call(u)}}var o=nh(e,r,t,0,null,!1,!1,"",Cu);return t._reactRootContainer=o,t[yt]=o.current,zr(t.nodeType===8?t.parentNode:t),an(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var u=li(a);l.call(u)}}var a=aa(t,0,!1,null,null,!1,!1,"",Cu);return t._reactRootContainer=a,t[yt]=a.current,zr(t.nodeType===8?t.parentNode:t),an(function(){ki(e,a,n,r)}),a}function Ei(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var a=li(o);l.call(a)}}ki(e,o,t,s)}else o=gm(n,e,t,s,r);return li(o)}Oc=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=mr(e.pendingLanes);n!==0&&(Pl(e,n|1),Re(e,re()),!(B&6)&&(Kn=re()+500,Vt()))}break;case 13:an(function(){var r=wt(t,1);if(r!==null){var s=ke();Ze(r,t,1,s)}}),ua(t,1)}};Rl=function(t){if(t.tag===13){var e=wt(t,134217728);if(e!==null){var n=ke();Ze(e,t,134217728,n)}ua(t,134217728)}};Ic=function(t){if(t.tag===13){var e=Dt(t),n=wt(t,e);if(n!==null){var r=ke();Ze(n,t,e,r)}ua(t,e)}};Ac=function(){return H};$c=function(t,e){var n=H;try{return H=t,e()}finally{H=n}};Po=function(t,e,n){switch(e){case"input":if(So(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=mi(r);if(!s)throw Error(S(90));hc(r),So(r,s)}}}break;case"textarea":pc(t,n);break;case"select":e=n.value,e!=null&&An(t,!!n.multiple,e,!1)}};xc=sa;kc=an;var vm={usingClientEntryPoint:!1,Events:[Yr,bn,mi,wc,_c,sa]},cr={findFiberByHostInstance:Xt,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ym={bundleType:cr.bundleType,version:cr.version,rendererPackageName:cr.rendererPackageName,rendererConfig:cr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:xt.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Ec(t),t===null?null:t.stateNode},findFiberByHostInstance:cr.findFiberByHostInstance||mm,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ys=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ys.isDisabled&&ys.supportsFiber)try{di=ys.inject(ym),it=ys}catch{}}Le.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vm;Le.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!da(e))throw Error(S(200));return pm(t,e,null,n)};Le.createRoot=function(t,e){if(!da(t))throw Error(S(299));var n=!1,r="",s=rh;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=aa(t,1,!1,null,null,n,!1,r,s),t[yt]=e.current,zr(t.nodeType===8?t.parentNode:t),new ca(e)};Le.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(S(188)):(t=Object.keys(t).join(","),Error(S(268,t)));return t=Ec(e),t=t===null?null:t.stateNode,t};Le.flushSync=function(t){return an(t)};Le.hydrate=function(t,e,n){if(!ji(e))throw Error(S(200));return Ei(null,t,e,!0,n)};Le.hydrateRoot=function(t,e,n){if(!da(t))throw Error(S(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=rh;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=nh(e,null,t,1,n??null,s,!1,i,o),t[yt]=e.current,zr(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Si(e)};Le.render=function(t,e,n){if(!ji(e))throw Error(S(200));return Ei(null,t,e,!1,n)};Le.unmountComponentAtNode=function(t){if(!ji(t))throw Error(S(40));return t._reactRootContainer?(an(function(){Ei(null,null,t,!1,function(){t._reactRootContainer=null,t[yt]=null})}),!0):!1};Le.unstable_batchedUpdates=sa;Le.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!ji(n))throw Error(S(200));if(t==null||t._reactInternals===void 0)throw Error(S(38));return Ei(t,e,n,!1,r)};Le.version="18.3.1-next-f1338f8080-20240426";function sh(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(sh)}catch(t){console.error(t)}}sh(),sc.exports=Le;var wm=sc.exports,ih,Nu=wm;ih=Nu.createRoot,Nu.hydrateRoot;const ws=({rating:t,onRatingChange:e,label:n="Rating",readonly:r=!1})=>{const s=Array.from({length:11},(i,o)=>o);return c.jsxs("div",{className:"flex flex-col gap-2",children:[n&&c.jsx("label",{className:"text-amber-400 font-medium text-sm",children:n}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsxs("select",{value:t===-1?"":t,onChange:i=>!r&&e(i.target.value===""?-1:Number(i.target.value)),disabled:r,className:"bg-gray-800 border border-gray-600 text-white rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-amber-500 focus:border-transparent transition-all duration-200 min-w-[80px]",children:[c.jsx("option",{value:"",children:"Select"}),s.map(i=>c.jsx("option",{value:i,children:i},i))]}),c.jsx("span",{className:"text-gray-400 text-sm",children:t>=0?`${t}/10`:"Not rated"})]})]})};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var _m={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xm=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Y=(t,e)=>{const n=U.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:l="",children:a,...u},d)=>U.createElement("svg",{ref:d,..._m,width:s,height:s,stroke:r,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${xm(t)}`,l].join(" "),...u},[...e.map(([h,m])=>U.createElement(h,m)),...Array.isArray(a)?a:[a]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tu=Y("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oh=Y("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const km=Y("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sm=Y("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jm=Y("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lh=Y("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Em=Y("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bm=Y("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cm=Y("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ah=Y("Film",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M7 3v18",key:"bbkbws"}],["path",{d:"M3 7.5h4",key:"zfgn84"}],["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 16.5h4",key:"1230mu"}],["path",{d:"M17 3v18",key:"in4fa5"}],["path",{d:"M17 7.5h4",key:"myr1c1"}],["path",{d:"M17 16.5h4",key:"go4c1d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nm=Y("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ao=Y("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tm=Y("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pu=Y("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pm=Y("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rm=Y("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Om=Y("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Im=Y("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ha=Y("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Am=Y("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $m=Y("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uh=Y("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lm=Y("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mm=Y("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),zm=({isOpen:t,onClose:e,trailerUrl:n,movieTitle:r})=>{if(!t)return null;const s=l=>{var a,u,d,h,m;if(l.includes("player.vimeo.com/video/")){const y=l.match(/player\.vimeo\.com\/video\/(\d+)/);if(y)return`https://player.vimeo.com/video/${y[1]}?title=0&byline=0&portrait=0&badge=0&autopause=0&player_id=0&app_id=58479&texttrack=en`}if(l.includes("vimeo.com/")&&!l.includes("player.vimeo.com")){const y=(a=l.split("vimeo.com/")[1])==null?void 0:a.split("?")[0];if(y)return`https://player.vimeo.com/video/${y}?title=0&byline=0&portrait=0&badge=0&autopause=0&player_id=0&app_id=58479&texttrack=en`}if(l.includes("drive.google.com/file/d/")){const y=(u=l.match(/\/file\/d\/([a-zA-Z0-9_-]+)/))==null?void 0:u[1];if(y)return`https://drive.google.com/file/d/${y}/preview?usp=sharing&cc_load_policy=1&hl=en&cc_lang_pref=en&autoplay=0`}if(l.includes("drive.google.com")&&l.includes("/preview")){let y=l.includes("usp=sharing")?l:`${l}${l.includes("?")?"&":"?"}usp=sharing`;return y.includes("cc_load_policy=1")||(y+="&cc_load_policy=1"),y.includes("hl=en")||(y+="&hl=en"),y.includes("cc_lang_pref=en")||(y+="&cc_lang_pref=en"),y.includes("autoplay=0")||(y+="&autoplay=0"),y}if(l.includes("drive.google.com/open?id=")){const y=(d=l.match(/id=([a-zA-Z0-9_-]+)/))==null?void 0:d[1];if(y)return`https://drive.google.com/file/d/${y}/preview?usp=sharing&cc_load_policy=1&hl=en&cc_lang_pref=en&autoplay=0`}return l.includes("youtube.com/embed/")?l.includes("cc_load_policy=1")?l:`${l}${l.includes("?")?"&":"?"}cc_load_policy=1&cc_lang_pref=en`:l.includes("youtube.com/watch?v=")?`https://www.youtube.com/embed/${(h=l.split("v=")[1])==null?void 0:h.split("&")[0]}?cc_load_policy=1&cc_lang_pref=en`:l.includes("youtu.be/")?`https://www.youtube.com/embed/${(m=l.split("youtu.be/")[1])==null?void 0:m.split("?")[0]}?cc_load_policy=1&cc_lang_pref=en`:l},i=l=>l.includes("vimeo.com")||l.includes("player.vimeo.com"),o=l=>l.includes("drive.google.com");return c.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4",children:[c.jsxs("div",{className:"bg-gray-900 rounded-xl max-w-4xl w-full max-h-[90vh] overflow-hidden",children:[c.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-800",children:[c.jsxs("h3",{className:"text-xl font-semibold text-white",children:[r," - Trailer"]}),c.jsx("button",{onClick:e,className:"text-gray-400 hover:text-white transition-colors p-2 hover:bg-gray-800 rounded-lg",children:c.jsx(Mm,{size:24})})]}),c.jsx("div",{className:"aspect-video relative",children:c.jsx("iframe",{src:s(n),title:`${r} Trailer`,className:"absolute top-0 left-0 w-full h-full",frameBorder:"0",allow:i(n)?"autoplay; fullscreen; picture-in-picture; clipboard-write; encrypted-media; web-share":o(n)?"autoplay; fullscreen; picture-in-picture":"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,sandbox:"allow-same-origin allow-scripts allow-popups allow-forms"})})]}),i(n)&&c.jsx("script",{src:"https://player.vimeo.com/api/player.js",async:!0})]})},Dm=({movie:t,rating:e,onRatingChange:n,showAdditionalQuestions:r=!1,diversityRating:s=-1,noveltyRating:i=-1,serendipityRating:o=-1,onDiversityChange:l,onNoveltyChange:a,onSerendipityChange:u,onTrailerStart:d,onTrailerEnd:h})=>{const[m,y]=U.useState(!1),[_,v]=U.useState(!1),k=()=>{d&&d(t.id),v(!0)},f=()=>{h&&h(t.id),v(!1)},p=()=>{y(!m)},g=t.description.length>160,w=g?t.description.substring(0,160)+"...":t.description;return c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"bg-gray-900 rounded-xl overflow-hidden shadow-2xl hover:shadow-3xl transition-all duration-300 hover:scale-105 border border-gray-800 flex flex-col h-full",children:[c.jsxs("div",{className:"relative group",children:[c.jsx("img",{src:t.poster,alt:t.title,className:"w-full h-80 object-contain bg-gray-800"}),c.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-50 transition-all duration-300 flex items-center justify-center",children:c.jsx("button",{onClick:k,className:"opacity-0 group-hover:opacity-100 bg-amber-500 hover:bg-amber-600 text-black p-4 rounded-full transition-all duration-300 transform scale-0 group-hover:scale-100",children:c.jsx(Om,{size:24})})})]}),c.jsxs("div",{className:"p-6 flex flex-col flex-grow",children:[c.jsxs("div",{className:"flex items-center gap-4 mb-3 text-sm text-gray-400",children:[c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx(jm,{size:16}),c.jsx("span",{children:t.year})]}),c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx(uh,{size:16}),c.jsx("span",{children:t.director})]}),c.jsx("span",{className:"bg-amber-500 text-black px-3 py-1 rounded text-xs font-medium",children:t.genre})]}),c.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:t.title}),c.jsxs("div",{className:"mb-4 flex-shrink-0",children:[c.jsxs("div",{className:"flex items-center gap-1 mb-2",children:[c.jsx(Lm,{size:16,className:"text-amber-400"}),c.jsx("span",{className:"text-amber-400 font-medium text-sm",children:"Cast"})]}),c.jsx("p",{className:"text-gray-300 text-sm",children:t.actors})]}),c.jsxs("div",{className:"mb-6 flex-grow",children:[c.jsxs("div",{className:"flex items-center gap-1 mb-2",children:[c.jsx(Cm,{size:14,className:"text-white"}),c.jsx("span",{className:"text-white font-medium text-sm",children:"Description"})]}),c.jsx("p",{className:"text-gray-300 text-sm leading-relaxed",children:m?t.description:w}),g&&c.jsx("button",{onClick:p,className:"flex items-center gap-1 mt-2 text-amber-400 hover:text-amber-300 text-sm font-medium transition-colors duration-200",children:m?c.jsxs(c.Fragment,{children:[c.jsx("span",{children:"See Less"}),c.jsx(bm,{size:16})]}):c.jsxs(c.Fragment,{children:[c.jsx("span",{children:"See More"}),c.jsx(Em,{size:16})]})})]}),c.jsxs("div",{className:"space-y-4 flex-shrink-0",children:[c.jsx(ws,{rating:e,onRatingChange:n,label:r?"* Your Rating":"Your Rating"}),r&&c.jsx(c.Fragment,{children:c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"relative",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[c.jsx("span",{className:"text-amber-400 font-medium text-sm",children:"* How diverse is this movie? (0 = not diverse, 10 = very diverse)"}),c.jsxs("div",{className:"relative group",children:[c.jsx(ao,{size:16,className:"text-gray-400 hover:text-amber-400 cursor-help"}),c.jsx("div",{className:"absolute bottom-full right-0 mb-2 px-3 py-2 bg-gray-800 border border-gray-600 text-white text-xs rounded-lg opacity-0 group-hover:opacity-100 transition-opacity duration-200 pointer-events-none w-64 z-50 shadow-xl",children:"How different is this recommended movie from other movies in this list?"})]})]}),c.jsx(ws,{rating:s,onRatingChange:l,label:""})]}),c.jsxs("div",{className:"relative",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[c.jsx("span",{className:"text-amber-400 font-medium text-sm",children:"* How novel is this movie? (0 = not novel, 10 = very novel)"}),c.jsxs("div",{className:"relative group",children:[c.jsx(ao,{size:16,className:"text-gray-400 hover:text-amber-400 cursor-help"}),c.jsx("div",{className:"absolute bottom-full right-0 mb-2 px-3 py-2 bg-gray-800 border border-gray-600 text-white text-xs rounded-lg opacity-0 group-hover:opacity-100 transition-opacity duration-200 pointer-events-none w-64 z-50 shadow-xl",children:"How new, fresh, or unfamiliar is this movie to you?"})]})]}),c.jsx(ws,{rating:i,onRatingChange:a,label:""})]}),c.jsxs("div",{className:"relative",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[c.jsx("span",{className:"text-amber-400 font-medium text-sm",children:"* How serendipitous is this movie? (0 = not serendipitous, 10 = very serendipitous)"}),c.jsxs("div",{className:"relative group",children:[c.jsx(ao,{size:16,className:"text-gray-400 hover:text-amber-400 cursor-help"}),c.jsx("div",{className:"absolute bottom-full right-0 mb-2 px-3 py-2 bg-gray-800 border border-gray-600 text-white text-xs rounded-lg opacity-0 group-hover:opacity-100 transition-opacity duration-200 pointer-events-none w-64 z-50 shadow-xl",children:"How surprising or unexpected is this recommended movie for you?"})]})]}),c.jsx(ws,{rating:o,onRatingChange:u,label:""})]})]})})]})]})]}),c.jsx(zm,{isOpen:_,onClose:f,trailerUrl:t.trailer,movieTitle:t.title})]})},Um=({current:t,total:e,minimum:n,label:r})=>{const s=t/e*100,i=n?n/e*100:0;return c.jsxs("div",{className:"w-full mb-8",children:[c.jsxs("div",{className:"flex justify-between items-center mb-2",children:[c.jsxs("div",{className:"flex flex-col gap-1",children:[c.jsx("span",{className:"text-amber-400 font-medium",children:r}),r.includes("Initial")&&c.jsx("span",{className:"text-gray-400 text-sm italic",children:"💡 Rate more movies to get more accurate recommendations!"})]}),c.jsxs("span",{className:"text-white",children:[t,"/",e,n&&t<n&&c.jsxs("span",{className:"text-amber-500 ml-2",children:["(minimum ",n,")"]})]})]}),c.jsxs("div",{className:"w-full bg-gray-800 rounded-full h-3 overflow-hidden relative",children:[c.jsx("div",{className:"h-full bg-gradient-to-r from-amber-500 to-amber-600 transition-all duration-500 ease-out",style:{width:`${Math.min(s,100)}%`}}),n&&c.jsx("div",{className:"absolute top-0 w-0.5 h-full bg-red-500 z-10",style:{left:`${i}%`}})]})]})},Fm=({ratingsCount:t,onGetRecommendations:e,onRateMore:n})=>c.jsx("div",{className:"min-h-screen bg-gray-950 flex items-center justify-center p-8",children:c.jsxs("div",{className:"max-w-2xl mx-auto text-center",children:[c.jsxs("div",{className:"mb-8",children:[c.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-amber-500 rounded-full mb-6",children:c.jsx(ha,{size:40,className:"text-black"})}),c.jsx("h1",{className:"text-4xl font-bold text-white mb-4",children:"Great Progress!"}),c.jsxs("p",{className:"text-xl text-gray-300 mb-8",children:["You've rated ",t," movies. What would you like to do next?"]})]}),c.jsxs("div",{className:"bg-amber-500 bg-opacity-10 border border-amber-500 rounded-lg p-6 mb-8",children:[c.jsxs("div",{className:"flex items-center justify-center mb-4",children:[c.jsx(Tm,{className:"text-amber-400 mr-2",size:24}),c.jsx("span",{className:"text-amber-400 font-semibold",children:"Pro Tip"})]}),c.jsx("p",{className:"text-white text-lg",children:"The more movies you rate, the more accurate your recommendations will be!"})]}),c.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[c.jsxs("button",{onClick:e,className:"bg-amber-500 hover:bg-amber-600 text-black font-semibold py-4 px-8 rounded-lg transition-all duration-300 transform hover:scale-105 shadow-lg hover:shadow-xl",children:[c.jsx("div",{className:"text-xl mb-2",children:"Get Recommendations"}),c.jsx("div",{className:"text-sm opacity-90",children:"See movies picked just for you"})]}),c.jsxs("button",{onClick:n,className:"bg-gray-800 hover:bg-gray-700 text-white font-semibold py-4 px-8 rounded-lg transition-all duration-300 transform hover:scale-105 shadow-lg hover:shadow-xl border border-gray-600",children:[c.jsx("div",{className:"text-xl mb-2",children:"Rate More Movies"}),c.jsx("div",{className:"text-sm opacity-70",children:"Improve recommendation accuracy"})]})]})]})}),Bm=({totalRatings:t,averageRating:e})=>c.jsx("div",{className:"min-h-screen bg-gray-950 flex items-center justify-center p-8",children:c.jsxs("div",{className:"max-w-2xl mx-auto text-center",children:[c.jsxs("div",{className:"mb-8",children:[c.jsx("div",{className:"inline-flex items-center justify-center w-24 h-24 bg-amber-500 rounded-full mb-6",children:c.jsx($m,{size:48,className:"text-black"})}),c.jsx("h1",{className:"text-4xl font-bold text-white mb-4",children:"Congratulations!"}),c.jsx("p",{className:"text-xl text-gray-300 mb-8",children:"You've successfully completed the movie rating study!"})]}),c.jsxs("div",{className:"grid md:grid-cols-2 gap-6 mb-8",children:[c.jsxs("div",{className:"bg-gray-900 rounded-lg p-6 border border-gray-800",children:[c.jsxs("div",{className:"flex items-center justify-center mb-4",children:[c.jsx(ha,{className:"text-amber-400 mr-2",size:24}),c.jsx("span",{className:"text-amber-400 font-semibold",children:"Total Ratings"})]}),c.jsx("div",{className:"text-3xl font-bold text-white",children:t})]}),c.jsxs("div",{className:"bg-gray-900 rounded-lg p-6 border border-gray-800",children:[c.jsxs("div",{className:"flex items-center justify-center mb-4",children:[c.jsx(Sm,{className:"text-amber-400 mr-2",size:24}),c.jsx("span",{className:"text-amber-400 font-semibold",children:"Average Rating"})]}),c.jsxs("div",{className:"text-3xl font-bold text-white",children:[e.toFixed(1),"/10"]})]})]}),c.jsxs("div",{className:"bg-amber-500 bg-opacity-10 border border-amber-500 rounded-lg p-8",children:[c.jsxs("div",{className:"flex items-center justify-center mb-4",children:[c.jsx(Nm,{className:"text-amber-400 mr-2",size:24}),c.jsx("span",{className:"text-amber-400 font-semibold text-lg",children:"Thank You!"})]}),c.jsx("p",{className:"text-white text-lg text-center leading-relaxed",children:"Thank you for participating in our study! You can now close the window."})]})]})}),Hm=({onStart:t})=>c.jsx("div",{className:"min-h-screen bg-gray-950 flex items-center justify-center p-8",children:c.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[c.jsxs("div",{className:"mb-8",children:[c.jsx("div",{className:"inline-flex items-center justify-center w-24 h-24 bg-amber-500 rounded-full mb-6",children:c.jsx(ah,{size:48,className:"text-black"})}),c.jsx("h1",{className:"text-5xl font-bold text-white mb-4",children:"Welcome to CineRate"}),c.jsx("p",{className:"text-xl text-gray-300 mb-8 max-w-3xl mx-auto",children:"Please follow the steps below to help us understand your movie preferences."}),c.jsxs("div",{className:"bg-amber-500 bg-opacity-10 border border-amber-500 rounded-xl p-6 mb-8 max-w-3xl mx-auto",children:[c.jsx("h3",{className:"text-amber-400 font-semibold text-lg mb-3",children:"Important Notice"}),c.jsx("p",{className:"text-gray-300 leading-relaxed",children:"Providing more frequent and accurate ratings will lead to more precise recommendations. Upon completion of this study, we will conduct a lottery in which the winner will receive a video-on-demand (VOD) rental of their highest-rated recommended movie as a reward."})]})]}),c.jsxs("div",{className:"grid md:grid-cols-3 gap-8 mb-12",children:[c.jsxs("div",{className:"bg-gray-900 rounded-xl p-6 border border-gray-800",children:[c.jsx("div",{className:"flex items-center justify-center w-16 h-16 bg-amber-500 bg-opacity-20 rounded-full mb-4 mx-auto",children:c.jsx(ha,{className:"text-amber-400",size:32})}),c.jsxs("h3",{className:"text-xl font-semibold text-white mb-3",children:["Step 1.",c.jsx("br",{})," Rate Movies"]}),c.jsx("p",{className:"text-gray-400",children:"Start by rating movies to help us understand your taste preferences. You can watch the trailer by clicking on the poster."})]}),c.jsxs("div",{className:"bg-gray-900 rounded-xl p-6 border border-gray-800",children:[c.jsx("div",{className:"flex items-center justify-center w-16 h-16 bg-amber-500 bg-opacity-20 rounded-full mb-4 mx-auto",children:c.jsx(Am,{className:"text-amber-400",size:32})}),c.jsxs("h3",{className:"text-xl font-semibold text-white mb-3",children:["Step 2.",c.jsx("br",{})," Get Recommendations"]}),c.jsx("p",{className:"text-gray-400",children:"Receive personalized movie recommendations based on your ratings and preferences."})]}),c.jsxs("div",{className:"bg-gray-900 rounded-xl p-6 border border-gray-800",children:[c.jsx("div",{className:"flex items-center justify-center w-16 h-16 bg-amber-500 bg-opacity-20 rounded-full mb-4 mx-auto",children:c.jsx(km,{className:"text-amber-400",size:32})}),c.jsxs("h3",{className:"text-xl font-semibold text-white mb-3",children:["Step 3.",c.jsx("br",{})," Evaluate Quality"]}),c.jsx("p",{className:"text-gray-400",children:"Rate the recommended movies, as well as the diversity, novelty, and serendipity of our recommendations."})]})]}),c.jsxs("div",{className:"bg-amber-500 bg-opacity-10 border border-amber-500 rounded-xl p-8 mb-8",children:[c.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"How It Works"}),c.jsxs("div",{className:"grid md:grid-cols-2 gap-6 text-left",children:[c.jsxs("div",{children:[c.jsx("h4",{className:"text-amber-400 font-semibold mb-2",children:"Phase 1: Initial Ratings"}),c.jsx("p",{className:"text-gray-300 text-sm",children:"Rate movies from our curated collection. You'll need to rate a minimum number of movies to proceed, but rating more movies improves recommendation accuracy."})]}),c.jsxs("div",{children:[c.jsx("h4",{className:"text-amber-400 font-semibold mb-2",children:"Phase 2: Personalized Recommendations"}),c.jsx("p",{className:"text-gray-300 text-sm",children:"Based on your ratings, we'll show you personalized recommendations. Rate all of these movies and answer additional questions about diversity, novelty, and serendipity."})]})]})]}),c.jsxs("div",{className:"text-center",children:[c.jsxs("button",{onClick:t,className:"bg-amber-500 hover:bg-amber-600 text-black font-bold py-4 px-8 rounded-xl transition-all duration-300 transform hover:scale-105 shadow-lg hover:shadow-xl inline-flex items-center gap-3 text-lg",children:["Start Rating Movies",c.jsx(oh,{size:24})]}),c.jsx("p",{className:"text-gray-400 text-sm mt-4",children:"This study takes approximately 30 minutes to complete"})]})]})}),Wm=({isOpen:t,onModifyRatings:e,onFinish:n})=>t?c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4",children:c.jsx("div",{className:"bg-gray-900 rounded-xl max-w-md w-full p-8 border border-gray-800",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-green-500 rounded-full mb-6",children:c.jsx(lh,{size:32,className:"text-white"})}),c.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Phase 2 Complete!"}),c.jsx("p",{className:"text-gray-300 mb-8",children:"You have successfully rated all recommended movies and answered the additional questions. You can now finish the study or modify your ratings if needed."}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("button",{onClick:e,className:"w-full bg-gray-800 hover:bg-gray-700 text-white font-semibold py-3 px-6 rounded-lg transition-all duration-300 border border-gray-600 flex items-center justify-center gap-2",children:[c.jsx(Im,{size:20}),"Modify Ratings"]}),c.jsxs("button",{onClick:n,className:"w-full bg-amber-500 hover:bg-amber-600 text-black font-semibold py-3 px-6 rounded-lg transition-all duration-300 transform hover:scale-105 shadow-lg flex items-center justify-center gap-2",children:["Finish Study",c.jsx(oh,{size:20})]})]})]})})}):null,Vm=({onComplete:t})=>{const[e,n]=U.useState({movieWatchingFrequency:"",streamingServices:[],primaryStreamingService:"",movieGenrePreferences:[],opennessToExperience:"",riskAversion:"",movieExpertise:"",attentionCheck:"",serendipityAttitude:"",noveltyAttitude:"",diversityAttitude:"",gender:"",ageRange:"",nationality:"",occupation:"",additionalComments:"",email:""}),[r,s]=U.useState([]),i=["0-1","2-3","4-6","7-10","More than 10"],o=["Action","Adventure","Animation","Comedy","Drama","Horror","Romance","Science Fiction"],l=["18-24","25-34","35-44","45-54","55-64","65 or older"],a=["1","2","3","4","5","6","7"],u=["1","2","3","4","5","6","7"],d=["1","2","3","4","5","6","7"],h=["1","2","3","4","5","6","7"],m=(v,k)=>{n(f=>({...f,movieGenrePreferences:k?[v]:[]}))},y=()=>{const v=[];return e.movieWatchingFrequency||v.push("Movie watching frequency is required"),e.movieGenrePreferences.length===0&&v.push("At least one movie genre preference is required"),e.opennessToExperience||v.push("Openness to experience question is required"),e.riskAversion||v.push("Risk aversion question is required"),e.movieExpertise||v.push("Movie expertise question is required"),e.serendipityAttitude||v.push("Serendipity attitude question is required"),e.noveltyAttitude||v.push("Novelty attitude question is required"),e.diversityAttitude||v.push("Diversity attitude question is required"),e.attentionCheck||v.push("Please answer the attention check question"),s(v),v.length===0},_=v=>{v.preventDefault(),y()&&t(e)};return c.jsx("div",{className:"min-h-screen bg-gray-950 py-8 px-4",children:c.jsxs("div",{className:"max-w-4xl mx-auto",children:[c.jsxs("div",{className:"text-center mb-8",children:[c.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-amber-500 rounded-full mb-4",children:c.jsx(lh,{size:32,className:"text-black"})}),c.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Final Questionnaire"}),c.jsx("p",{className:"text-gray-300",children:"Please answer a few questions about your movie preferences and background"})]}),r.length>0&&c.jsxs("div",{className:"bg-red-900 border border-red-500 rounded-lg p-4 mb-6",children:[c.jsx("h3",{className:"text-red-400 font-semibold mb-2",children:"Please complete the following required fields:"}),c.jsx("ul",{className:"text-red-300 text-sm space-y-1",children:r.map((v,k)=>c.jsxs("li",{children:["• ",v]},k))})]}),c.jsxs("form",{onSubmit:_,className:"space-y-8",children:[c.jsxs("div",{className:"bg-gray-900 rounded-xl p-6 border border-gray-800",children:[c.jsx("h2",{className:"text-xl font-semibold text-white mb-6",children:"Required Information"}),c.jsxs("div",{className:"mb-6",children:[c.jsx("label",{className:"block text-amber-400 font-medium mb-3",children:"How many movies do you watch per month? *"}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:i.map(v=>c.jsxs("label",{className:"flex items-center",children:[c.jsx("input",{type:"radio",name:"movieFrequency",value:v,checked:e.movieWatchingFrequency===v,onChange:k=>n(f=>({...f,movieWatchingFrequency:k.target.value})),className:"mr-3 text-amber-500 focus:ring-amber-500"}),c.jsx("span",{className:"text-gray-300",children:v})]},v))})]}),c.jsxs("div",{className:"mb-6",children:[c.jsx("label",{className:"block text-amber-400 font-medium mb-3",children:"What is your most favorite movie genre? (Select one) *"}),c.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:o.map(v=>c.jsxs("label",{className:"flex items-center",children:[c.jsx("input",{type:"radio",name:"movieGenre",value:v,checked:e.movieGenrePreferences.includes(v),onChange:k=>m(v,k.target.checked),className:"mr-3 text-amber-500 focus:ring-amber-500"}),c.jsx("span",{className:"text-gray-300",children:v})]},v))})]}),c.jsxs("div",{className:"mb-6",children:[c.jsx("label",{className:"block text-amber-400 font-medium mb-3",children:"How knowledgeable are you about movies in general? (1-Not at all knowledgeable, 7-Extremely knowledgeable) *"}),c.jsx("div",{className:"grid grid-cols-7 gap-2",children:d.map(v=>c.jsxs("label",{className:"flex flex-col items-center",children:[c.jsx("input",{type:"radio",name:"movieExpertise",value:v,checked:e.movieExpertise===v,onChange:k=>n(f=>({...f,movieExpertise:k.target.value})),className:"mb-1 text-amber-500 focus:ring-amber-500"}),c.jsx("span",{className:"text-gray-300 text-sm",children:v})]},v))})]}),c.jsxs("div",{className:"mb-6",children:[c.jsx("label",{className:"block text-amber-400 font-medium mb-3",children:'To help us with the survey, please select "4" for this question. *'}),c.jsx("div",{className:"grid grid-cols-7 gap-2",children:["1","2","3","4","5","6","7"].map(v=>c.jsxs("label",{className:"flex flex-col items-center",children:[c.jsx("input",{type:"radio",name:"attentionCheck",value:v,checked:e.attentionCheck===v,onChange:k=>n(f=>({...f,attentionCheck:k.target.value})),className:"mb-1 text-amber-500 focus:ring-amber-500"}),c.jsx("span",{className:"text-gray-300 text-sm",children:v})]},v))})]}),c.jsxs("div",{className:"mb-6",children:[c.jsx("label",{className:"block text-amber-400 font-medium mb-3",children:"I often prefer watching similar movies. (1-Strongly disagree, 7-Strongly agree) *"}),c.jsx("div",{className:"grid grid-cols-7 gap-2",children:a.map(v=>c.jsxs("label",{className:"flex flex-col items-center",children:[c.jsx("input",{type:"radio",name:"opennessToExperience",value:v,checked:e.opennessToExperience===v,onChange:k=>n(f=>({...f,opennessToExperience:k.target.value})),className:"mb-1 text-amber-500 focus:ring-amber-500"}),c.jsx("span",{className:"text-gray-300 text-sm",children:v})]},v))})]}),c.jsxs("div",{className:"mb-6",children:[c.jsx("label",{className:"block text-amber-400 font-medium mb-3",children:"Compared to my peers, I watch more diverse movies. (1-Strongly disagree, 7-Strongly agree) *"}),c.jsx("div",{className:"grid grid-cols-7 gap-2",children:u.map(v=>c.jsxs("label",{className:"flex flex-col items-center",children:[c.jsx("input",{type:"radio",name:"riskAversion",value:v,checked:e.riskAversion===v,onChange:k=>n(f=>({...f,riskAversion:k.target.value})),className:"mb-1 text-amber-500 focus:ring-amber-500"}),c.jsx("span",{className:"text-gray-300 text-sm",children:v})]},v))})]}),c.jsxs("div",{className:"mb-6",children:[c.jsx("label",{className:"block text-amber-400 font-medium mb-3",children:"I often prefer watching novel movies. (1-Strongly disagree, 7-Strongly agree) *"}),c.jsx("div",{className:"grid grid-cols-7 gap-2",children:h.map(v=>c.jsxs("label",{className:"flex flex-col items-center",children:[c.jsx("input",{type:"radio",name:"serendipityAttitude",value:v,checked:e.serendipityAttitude===v,onChange:k=>n(f=>({...f,serendipityAttitude:k.target.value})),className:"mb-1 text-amber-500 focus:ring-amber-500"}),c.jsx("span",{className:"text-gray-300 text-sm",children:v})]},v))})]}),c.jsxs("div",{className:"mb-6",children:[c.jsx("label",{className:"block text-amber-400 font-medium mb-3",children:"Compared to my peers, I often watch conventional movies. (1-Strongly disagree, 7-Strongly agree) *"}),c.jsx("div",{className:"grid grid-cols-7 gap-2",children:h.map(v=>c.jsxs("label",{className:"flex flex-col items-center",children:[c.jsx("input",{type:"radio",name:"noveltyAttitude",value:v,checked:e.noveltyAttitude===v,onChange:k=>n(f=>({...f,noveltyAttitude:k.target.value})),className:"mb-1 text-amber-500 focus:ring-amber-500"}),c.jsx("span",{className:"text-gray-300 text-sm",children:v})]},v))})]}),c.jsxs("div",{className:"mb-6",children:[c.jsx("label",{className:"block text-amber-400 font-medium mb-3",children:"I often prefer watching unexpected movies. (1-Strongly disagree, 7-Strongly agree) *"}),c.jsx("div",{className:"grid grid-cols-7 gap-2",children:h.map(v=>c.jsxs("label",{className:"flex flex-col items-center",children:[c.jsx("input",{type:"radio",name:"diversityAttitude",value:v,checked:e.diversityAttitude===v,onChange:k=>n(f=>({...f,diversityAttitude:k.target.value})),className:"mb-1 text-amber-500 focus:ring-amber-500"}),c.jsx("span",{className:"text-gray-300 text-sm",children:v})]},v))})]}),c.jsxs("div",{className:"mb-6",children:[c.jsx("label",{className:"block text-amber-400 font-medium mb-3",children:"Compared to my peers, I often watch movies that are easier to discover. (1-Strongly disagree, 7-Strongly agree) *"}),c.jsx("div",{className:"grid grid-cols-7 gap-2",children:h.map(v=>c.jsxs("label",{className:"flex flex-col items-center",children:[c.jsx("input",{type:"radio",name:"diversityAttitude",value:v,checked:e.diversityAttitude===v,onChange:k=>n(f=>({...f,diversityAttitude:k.target.value})),className:"mb-1 text-amber-500 focus:ring-amber-500"}),c.jsx("span",{className:"text-gray-300 text-sm",children:v})]},v))})]})]}),c.jsxs("div",{className:"bg-gray-900 rounded-xl p-6 border border-gray-800",children:[c.jsxs("h2",{className:"text-xl font-semibold text-white mb-6 flex items-center",children:[c.jsx(uh,{className:"mr-2",size:24}),"Optional Information"]}),c.jsxs("div",{className:"mb-6",children:[c.jsx("label",{className:"block text-amber-400 font-medium mb-3",children:"Gender (Optional)"}),c.jsxs("select",{value:e.gender||"",onChange:v=>n(k=>({...k,gender:v.target.value})),className:"w-full bg-gray-800 border border-gray-600 text-white rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-amber-500",children:[c.jsx("option",{value:"",children:"Select"}),c.jsx("option",{value:"Male",children:"Male"}),c.jsx("option",{value:"Female",children:"Female"}),c.jsx("option",{value:"Non-binary",children:"Non-binary"}),c.jsx("option",{value:"Prefer not to say",children:"Prefer not to say"}),c.jsx("option",{value:"Other",children:"Other"})]})]}),c.jsxs("div",{className:"mb-6",children:[c.jsx("label",{className:"block text-amber-400 font-medium mb-3",children:"Age Range (Optional)"}),c.jsxs("select",{value:e.ageRange||"",onChange:v=>n(k=>({...k,ageRange:v.target.value})),className:"w-full bg-gray-800 border border-gray-600 text-white rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-amber-500",children:[c.jsx("option",{value:"",children:"Select age range"}),l.map(v=>c.jsx("option",{value:v,children:v},v))]})]}),c.jsxs("div",{className:"mb-6",children:[c.jsxs("label",{className:"block text-amber-400 font-medium mb-3 flex items-center",children:[c.jsx(Pm,{className:"mr-2",size:20}),"Email Address for Lottery Participation (Optional)"]}),c.jsx("input",{type:"email",value:e.email||"",onChange:v=>n(k=>({...k,email:v.target.value})),placeholder:"Enter your email address to participate in the lottery",className:"w-full bg-gray-800 border border-gray-600 text-white rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-amber-500"}),c.jsx("p",{className:"text-gray-400 text-sm mt-2",children:"If you provide your email, you'll be eligible for the lottery to win a video-on-demand (VOD) rental of your highest-rated recommended movie."})]}),c.jsxs("div",{className:"mb-6",children:[c.jsxs("label",{className:"block text-amber-400 font-medium mb-3 flex items-center",children:[c.jsx(Rm,{className:"mr-2",size:20}),"Additional Comments (Optional)"]}),c.jsx("textarea",{value:e.additionalComments||"",onChange:v=>n(k=>({...k,additionalComments:v.target.value})),placeholder:"Any additional thoughts about the study or your movie preferences...",rows:4,className:"w-full bg-gray-800 border border-gray-600 text-white rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-amber-500 resize-vertical"})]})]}),c.jsx("div",{className:"text-center",children:c.jsx("button",{type:"submit",className:"bg-amber-500 hover:bg-amber-600 text-black font-bold py-4 px-8 rounded-xl transition-all duration-300 transform hover:scale-105 shadow-lg text-lg",children:"Complete Study"})})]})]})})},dr=void 0;class In{static getInstance(){return In.instance||(In.instance=new In),In.instance}async generateRecommendations(e){try{if(!dr)return console.error("VITE_RECOMMENDATION_API_URL is not configured"),null;console.log("Calling recommendation API for session:",e),console.log("API URL:",dr);const n={session_id:e,topk_per_model:10,phase:2},r=await fetch(`${dr}/recommend`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n),signal:AbortSignal.timeout(3e4)});if(!r.ok){const i=await r.text();return console.error("Recommendation API error:",r.status,i),null}const s=await r.json();return console.log("Recommendation API response:",s),s}catch(n){return console.error("Error calling recommendation API:",n),null}}async checkHealth(){try{if(!dr)return console.error("VITE_RECOMMENDATION_API_URL is not configured"),!1;const n=(await fetch(`${dr}/health`)).ok;return console.log("Health check result:",n),n}catch(e){return console.error("Health check failed:",e),!1}}}const qm=In.getInstance(),Km="modulepreload",Gm=function(t){return"/"+t},Ru={},Zr=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(a=>{if(a=Gm(a),a in Ru)return;Ru[a]=!0;const u=a.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${a}"]${d}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":Km,u||(h.as="script"),h.crossOrigin="",h.href=a,l&&h.setAttribute("nonce",l),document.head.appendChild(h),u)return new Promise((m,y)=>{h.addEventListener("load",m),h.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${a}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return s.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return e().catch(i)})},Qm=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Zr(async()=>{const{default:r}=await Promise.resolve().then(()=>Xn);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};class fa extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class Jm extends fa{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Ym extends fa{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Xm extends fa{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var ul;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(ul||(ul={}));var Zm=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function a(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,a)}u((r=r.apply(t,e||[])).next())})};class eg{constructor(e,{headers:n={},customFetch:r,region:s=ul.Any}={}){this.url=e,this.headers=n,this.region=s,this.fetch=Qm(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var r;return Zm(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=n;let l={},{region:a}=n;a||(a=this.region),a&&a!=="any"&&(l["x-region"]=a);let u;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(l["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(l["Content-Type"]="application/json",u=JSON.stringify(o)));const d=yield this.fetch(`${this.url}/${e}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),s),body:u}).catch(_=>{throw new Jm(_)}),h=d.headers.get("x-relay-error");if(h&&h==="true")throw new Ym(d);if(!d.ok)throw new Xm(d);let m=((r=d.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),y;return m==="application/json"?y=yield d.json():m==="application/octet-stream"?y=yield d.blob():m==="text/event-stream"?y=d:m==="multipart/form-data"?y=yield d.formData():y=yield d.text(),{data:y,error:null}}catch(s){return{data:null,error:s}}})}}var Ce={},pa={},bi={},es={},Ci={},Ni={},tg=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Gn=tg();const ng=Gn.fetch,ch=Gn.fetch.bind(Gn),dh=Gn.Headers,rg=Gn.Request,sg=Gn.Response,Xn=Object.freeze(Object.defineProperty({__proto__:null,Headers:dh,Request:rg,Response:sg,default:ch,fetch:ng},Symbol.toStringTag,{value:"Module"})),ig=qh(Xn);var Ti={};Object.defineProperty(Ti,"__esModule",{value:!0});let og=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};Ti.default=og;var hh=Be&&Be.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ni,"__esModule",{value:!0});const lg=hh(ig),ag=hh(Ti);let ug=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=lg.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,n){return this.headers=Object.assign({},this.headers),this.headers[e]=n,this}then(e,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,l,a;let u=null,d=null,h=null,m=i.status,y=i.statusText;if(i.ok){if(this.method!=="HEAD"){const f=await i.text();f===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=f:d=JSON.parse(f))}const v=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),k=(l=i.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");v&&k&&k.length>1&&(h=parseInt(k[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,h=null,m=406,y="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const v=await i.text();try{u=JSON.parse(v),Array.isArray(u)&&i.status===404&&(d=[],u=null,m=200,y="OK")}catch{i.status===404&&v===""?(m=204,y="No Content"):u={message:v}}if(u&&this.isMaybeSingle&&(!((a=u==null?void 0:u.details)===null||a===void 0)&&a.includes("0 rows"))&&(u=null,m=200,y="OK"),u&&this.shouldThrowOnError)throw new ag.default(u)}return{error:u,data:d,count:h,status:m,statusText:y}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,l,a;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(l=i==null?void 0:i.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(a=i==null?void 0:i.code)!==null&&a!==void 0?a:""}`},data:null,count:null,status:0,statusText:""}})),s.then(e,n)}returns(){return this}overrideTypes(){return this}};Ni.default=ug;var cg=Be&&Be.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ci,"__esModule",{value:!0});const dg=cg(Ni);let hg=class extends dg.default{select(e){let n=!1;const r=(e??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${e}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,n,{foreignTable:r,referencedTable:s=r}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(o,`${n-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var l;const a=[e?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${u}"; options=${a};`,o==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Ci.default=hg;var fg=Be&&Be.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(es,"__esModule",{value:!0});const pg=fg(Ci);let mg=class extends pg.default{eq(e,n){return this.url.searchParams.append(e,`eq.${n}`),this}neq(e,n){return this.url.searchParams.append(e,`neq.${n}`),this}gt(e,n){return this.url.searchParams.append(e,`gt.${n}`),this}gte(e,n){return this.url.searchParams.append(e,`gte.${n}`),this}lt(e,n){return this.url.searchParams.append(e,`lt.${n}`),this}lte(e,n){return this.url.searchParams.append(e,`lte.${n}`),this}like(e,n){return this.url.searchParams.append(e,`like.${n}`),this}likeAllOf(e,n){return this.url.searchParams.append(e,`like(all).{${n.join(",")}}`),this}likeAnyOf(e,n){return this.url.searchParams.append(e,`like(any).{${n.join(",")}}`),this}ilike(e,n){return this.url.searchParams.append(e,`ilike.${n}`),this}ilikeAllOf(e,n){return this.url.searchParams.append(e,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(e,n){return this.url.searchParams.append(e,`ilike(any).{${n.join(",")}}`),this}is(e,n){return this.url.searchParams.append(e,`is.${n}`),this}in(e,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cs.{${n.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(n)}`),this}containedBy(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cd.{${n.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(n)}`),this}rangeGt(e,n){return this.url.searchParams.append(e,`sr.${n}`),this}rangeGte(e,n){return this.url.searchParams.append(e,`nxl.${n}`),this}rangeLt(e,n){return this.url.searchParams.append(e,`sl.${n}`),this}rangeLte(e,n){return this.url.searchParams.append(e,`nxr.${n}`),this}rangeAdjacent(e,n){return this.url.searchParams.append(e,`adj.${n}`),this}overlaps(e,n){return typeof n=="string"?this.url.searchParams.append(e,`ov.${n}`):this.url.searchParams.append(e,`ov.{${n.join(",")}}`),this}textSearch(e,n,{config:r,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${i}fts${o}.${n}`),this}match(e){return Object.entries(e).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(e,n,r){return this.url.searchParams.append(e,`not.${n}.${r}`),this}or(e,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,n,r){return this.url.searchParams.append(e,`${n}.${r}`),this}};es.default=mg;var gg=Be&&Be.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(bi,"__esModule",{value:!0});const hr=gg(es);let vg=class{constructor(e,{headers:n={},schema:r,fetch:s}){this.url=e,this.headers=n,this.schema=r,this.fetch=s}select(e,{head:n=!1,count:r}={}){const s=n?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),r&&(this.headers.Prefer=`count=${r}`),new hr.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:n,defaultToNull:r=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),r||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(e)){const o=e.reduce((l,a)=>l.concat(Object.keys(a)),[]);if(o.length>0){const l=[...new Set(o)].map(a=>`"${a}"`);this.url.searchParams.set("columns",l.join(","))}}return new hr.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:i=!0}={}){const o="POST",l=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&l.push(this.headers.Prefer),s&&l.push(`count=${s}`),i||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(e)){const a=e.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(a.length>0){const u=[...new Set(a)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new hr.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:n}={}){const r="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),this.headers.Prefer=s.join(","),new hr.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const n="DELETE",r=[];return e&&r.push(`count=${e}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new hr.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};bi.default=vg;var Pi={},Ri={};Object.defineProperty(Ri,"__esModule",{value:!0});Ri.version=void 0;Ri.version="0.0.0-automated";Object.defineProperty(Pi,"__esModule",{value:!0});Pi.DEFAULT_HEADERS=void 0;const yg=Ri;Pi.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${yg.version}`};var fh=Be&&Be.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(pa,"__esModule",{value:!0});const wg=fh(bi),_g=fh(es),xg=Pi;let kg=class ph{constructor(e,{headers:n={},schema:r,fetch:s}={}){this.url=e,this.headers=Object.assign(Object.assign({},xg.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=s}from(e){const n=new URL(`${this.url}/${e}`);return new wg.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new ph(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:s=!1,count:i}={}){let o;const l=new URL(`${this.url}/rpc/${e}`);let a;r||s?(o=r?"HEAD":"GET",Object.entries(n).filter(([d,h])=>h!==void 0).map(([d,h])=>[d,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([d,h])=>{l.searchParams.append(d,h)})):(o="POST",a=n);const u=Object.assign({},this.headers);return i&&(u.Prefer=`count=${i}`),new _g.default({method:o,url:l,headers:u,schema:this.schemaName,body:a,fetch:this.fetch,allowEmpty:!1})}};pa.default=kg;var Zn=Be&&Be.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ce,"__esModule",{value:!0});Ce.PostgrestError=Ce.PostgrestBuilder=Ce.PostgrestTransformBuilder=Ce.PostgrestFilterBuilder=Ce.PostgrestQueryBuilder=Ce.PostgrestClient=void 0;const mh=Zn(pa);Ce.PostgrestClient=mh.default;const gh=Zn(bi);Ce.PostgrestQueryBuilder=gh.default;const vh=Zn(es);Ce.PostgrestFilterBuilder=vh.default;const yh=Zn(Ci);Ce.PostgrestTransformBuilder=yh.default;const wh=Zn(Ni);Ce.PostgrestBuilder=wh.default;const _h=Zn(Ti);Ce.PostgrestError=_h.default;var Sg=Ce.default={PostgrestClient:mh.default,PostgrestQueryBuilder:gh.default,PostgrestFilterBuilder:vh.default,PostgrestTransformBuilder:yh.default,PostgrestBuilder:wh.default,PostgrestError:_h.default};const{PostgrestClient:jg,PostgrestQueryBuilder:k0,PostgrestFilterBuilder:S0,PostgrestTransformBuilder:j0,PostgrestBuilder:E0,PostgrestError:b0}=Sg;let cl;typeof window>"u"?cl=require("ws"):cl=window.WebSocket;const Eg=cl,bg="2.11.10",Cg={"X-Client-Info":`realtime-js/${bg}`},Ng="1.0.0",xh=1e4,Tg=1e3;var Un;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Un||(Un={}));var _e;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(_e||(_e={}));var Je;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Je||(Je={}));var dl;(function(t){t.websocket="websocket"})(dl||(dl={}));var Yt;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Yt||(Yt={}));class Pg{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const s=n.getUint8(1),i=n.getUint8(2);let o=this.HEADER_LENGTH+2;const l=r.decode(e.slice(o,o+s));o=o+s;const a=r.decode(e.slice(o,o+i));o=o+i;const u=JSON.parse(r.decode(e.slice(o,e.byteLength)));return{ref:null,topic:l,event:a,payload:u}}}class kh{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var W;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(W||(W={}));const Ou=(t,e,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((i,o)=>(i[o]=Rg(o,t,e,s),i),{})},Rg=(t,e,n,r)=>{const s=e.find(l=>l.name===t),i=s==null?void 0:s.type,o=n[t];return i&&!r.includes(i)?Sh(i,o):hl(o)},Sh=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return $g(e,n)}switch(t){case W.bool:return Og(e);case W.float4:case W.float8:case W.int2:case W.int4:case W.int8:case W.numeric:case W.oid:return Ig(e);case W.json:case W.jsonb:return Ag(e);case W.timestamp:return Lg(e);case W.abstime:case W.date:case W.daterange:case W.int4range:case W.int8range:case W.money:case W.reltime:case W.text:case W.time:case W.timestamptz:case W.timetz:case W.tsrange:case W.tstzrange:return hl(e);default:return hl(e)}},hl=t=>t,Og=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},Ig=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},Ag=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},$g=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let i;const o=t.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>Sh(e,l))}return t},Lg=t=>typeof t=="string"?t.replace(" ","T"):t,jh=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class uo{constructor(e,n,r={},s=xh){this.channel=e,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Iu;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Iu||(Iu={}));class Cr{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Cr.syncState(this.state,s,i,o),this.pendingDiffs.forEach(a=>{this.state=Cr.syncDiff(this.state,a,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Cr.syncDiff(this.state,s,i,o),l())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,s){const i=this.cloneDeep(e),o=this.transformState(n),l={},a={};return this.map(i,(u,d)=>{o[u]||(a[u]=d)}),this.map(o,(u,d)=>{const h=i[u];if(h){const m=d.map(k=>k.presence_ref),y=h.map(k=>k.presence_ref),_=d.filter(k=>y.indexOf(k.presence_ref)<0),v=h.filter(k=>m.indexOf(k.presence_ref)<0);_.length>0&&(l[u]=_),v.length>0&&(a[u]=v)}else l[u]=d}),this.syncDiff(i,{joins:l,leaves:a},r,s)}static syncDiff(e,n,r,s){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(l,a)=>{var u;const d=(u=e[l])!==null&&u!==void 0?u:[];if(e[l]=this.cloneDeep(a),d.length>0){const h=e[l].map(y=>y.presence_ref),m=d.filter(y=>h.indexOf(y.presence_ref)<0);e[l].unshift(...m)}r(l,d,a)}),this.map(o,(l,a)=>{let u=e[l];if(!u)return;const d=a.map(h=>h.presence_ref);u=u.filter(h=>d.indexOf(h.presence_ref)<0),e[l]=u,s(l,u,a),u.length===0&&delete e[l]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const s=e[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Au;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Au||(Au={}));var $u;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})($u||($u={}));var ht;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(ht||(ht={}));class ma{constructor(e,n={config:{}},r){this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=_e.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new uo(this,Je.join,this.params,this.timeout),this.rejoinTimer=new kh(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=_e.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=_e.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=_e.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=_e.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Je.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new Cr(this),this.broadcastEndpointURL=jh(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var r,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o,private:l}}=this.params;this._onError(d=>e==null?void 0:e(ht.CHANNEL_ERROR,d)),this._onClose(()=>e==null?void 0:e(ht.CLOSED));const a={},u={broadcast:i,presence:o,postgres_changes:(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(d=>d.filter))!==null&&s!==void 0?s:[],private:l};this.socket.accessTokenValue&&(a.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},a)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:d})=>{var h;if(this.socket.setAuth(),d===void 0){e==null||e(ht.SUBSCRIBED);return}else{const m=this.bindings.postgres_changes,y=(h=m==null?void 0:m.length)!==null&&h!==void 0?h:0,_=[];for(let v=0;v<y;v++){const k=m[v],{filter:{event:f,schema:p,table:g,filter:w}}=k,E=d&&d[v];if(E&&E.event===f&&E.schema===p&&E.table===g&&E.filter===w)_.push(Object.assign(Object.assign({},k),{id:E.id}));else{this.unsubscribe(),this.state=_e.errored,e==null||e(ht.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=_,e&&e(ht.SUBSCRIBED);return}}).receive("error",d=>{this.state=_e.errored,e==null||e(ht.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(ht.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this._on(e,n,r)}async send(e,n={}){var r,s;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,a={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,a;const u=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((a=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||a===void 0)&&a.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=_e.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Je.close,"leave",this._joinRef())};return this.joinPush.destroy(),new Promise(r=>{const s=new uo(this,Je.leave,{},e);s.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(e,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),o}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new uo(this,e,n,r);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var s,i;const o=e.toLocaleLowerCase(),{close:l,error:a,leave:u,join:d}=Je;if(r&&[l,a,u,d].indexOf(o)>=0&&r!==this._joinRef())return;let m=this._onMessage(o,n,r);if(n&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(y=>{var _,v,k;return((_=y.filter)===null||_===void 0?void 0:_.event)==="*"||((k=(v=y.filter)===null||v===void 0?void 0:v.event)===null||k===void 0?void 0:k.toLocaleLowerCase())===o}).map(y=>y.callback(m,r)):(i=this.bindings[o])===null||i===void 0||i.filter(y=>{var _,v,k,f,p,g;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in y){const w=y.id,E=(_=y.filter)===null||_===void 0?void 0:_.event;return w&&((v=n.ids)===null||v===void 0?void 0:v.includes(w))&&(E==="*"||(E==null?void 0:E.toLocaleLowerCase())===((k=n.data)===null||k===void 0?void 0:k.type.toLocaleLowerCase()))}else{const w=(p=(f=y==null?void 0:y.filter)===null||f===void 0?void 0:f.event)===null||p===void 0?void 0:p.toLocaleLowerCase();return w==="*"||w===((g=n==null?void 0:n.event)===null||g===void 0?void 0:g.toLocaleLowerCase())}else return y.type.toLocaleLowerCase()===o}).map(y=>{if(typeof m=="object"&&"ids"in m){const _=m.data,{schema:v,table:k,commit_timestamp:f,type:p,errors:g}=_;m=Object.assign(Object.assign({},{schema:v,table:k,commit_timestamp:f,eventType:p,new:{},old:{},errors:g}),this._getPayloadRecords(_))}y.callback(m,r)})}_isClosed(){return this.state===_e.closed}_isJoined(){return this.state===_e.joined}_isJoining(){return this.state===_e.joining}_isLeaving(){return this.state===_e.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const s=e.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&ma.isEqual(s.filter,n))}),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Je.close,{},e)}_onError(e){this._on(Je.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=_e.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=Ou(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=Ou(e.columns,e.old_record)),n}}const Lu=()=>{},Mg=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class zg{constructor(e,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers=Cg,this.params={},this.timeout=xh,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Lu,this.ref=0,this.logger=Lu,this.conn=null,this.sendBuffer=[],this.serializer=new Pg,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...l)=>Zr(async()=>{const{default:a}=await Promise.resolve().then(()=>Xn);return{default:a}},void 0).then(({default:a})=>a(...l)):o=fetch,(...l)=>o(...l)},this.endPoint=`${e}/${dl.websocket}`,this.httpEndpoint=jh(e),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),(n!=null&&n.logLevel||n!=null&&n.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const s=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(i,o)=>o(JSON.stringify(i)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new kh(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=Eg),this.transport){typeof window<"u"&&this.transport===window.WebSocket?this.conn=new this.transport(this.endpointURL()):this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection();return}this.conn=new Dg(this.endpointURL(),void 0,{close:()=>{this.conn=null}})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Ng}))}disconnect(e,n){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(r=>r.teardown()))}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels=this.channels.filter(r=>r._joinRef!==e._joinRef),this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Un.connecting:return Yt.Connecting;case Un.open:return Yt.Open;case Un.closing:return Yt.Closing;default:return Yt.Closed}}isConnected(){return this.connectionState()===Yt.Open}channel(e,n={config:{}}){const r=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===r);if(s)return s;{const i=new ma(`realtime:${e}`,n,this);return this.channels.push(i),i}}push(e){const{topic:n,event:r,payload:s,ref:i}=e,o=()=>{this.encode(e,l=>{var a;(a=this.conn)===null||a===void 0||a.send(l)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){let n=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{n&&r.updateJoinPayload({access_token:n,version:this.headers&&this.headers["X-Client-Info"]}),r.joinedOnce&&r._isJoined()&&r._push(Je.access_token,{access_token:n})}))}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(e=this.conn)===null||e===void 0||e.close(Tg,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,n=>{let{topic:r,event:s,payload:i,ref:o}=n;r==="phoenix"&&s==="phx_reply"&&this.heartbeatCallback(n.payload.status=="ok"?"ok":"error"),o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${r} ${s} ${o&&"("+o+")"||""}`,i),Array.from(this.channels).filter(l=>l._isMember(r)).forEach(l=>l._trigger(s,i,o)),this.stateChangeCallbacks.message.forEach(l=>l(n))})}_onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(Je.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${e}${r}${s}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([Mg],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class Dg{constructor(e,n,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Un.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=r.close}}class ga extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function ae(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class Ug extends ga{constructor(e,n){super(e),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class fl extends ga{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var Fg=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function a(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,a)}u((r=r.apply(t,e||[])).next())})};const Eh=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Zr(async()=>{const{default:r}=await Promise.resolve().then(()=>Xn);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},Bg=()=>Fg(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Zr(()=>Promise.resolve().then(()=>Xn),void 0)).Response:Response}),pl=t=>{if(Array.isArray(t))return t.map(n=>pl(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=pl(r)}),e};var dn=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function a(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,a)}u((r=r.apply(t,e||[])).next())})};const co=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Hg=(t,e,n)=>dn(void 0,void 0,void 0,function*(){const r=yield Bg();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(s=>{e(new Ug(co(s),t.status||500))}).catch(s=>{e(new fl(co(s),s))}):e(new fl(co(t),t))}),Wg=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),r&&(s.body=JSON.stringify(r)),Object.assign(Object.assign({},s),n))};function ts(t,e,n,r,s,i){return dn(this,void 0,void 0,function*(){return new Promise((o,l)=>{t(n,Wg(e,r,s,i)).then(a=>{if(!a.ok)throw a;return r!=null&&r.noResolveJson?a:a.json()}).then(a=>o(a)).catch(a=>Hg(a,l,r))})})}function ai(t,e,n,r){return dn(this,void 0,void 0,function*(){return ts(t,"GET",e,n,r)})}function Ct(t,e,n,r,s){return dn(this,void 0,void 0,function*(){return ts(t,"POST",e,r,s,n)})}function Vg(t,e,n,r,s){return dn(this,void 0,void 0,function*(){return ts(t,"PUT",e,r,s,n)})}function qg(t,e,n,r){return dn(this,void 0,void 0,function*(){return ts(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function bh(t,e,n,r,s){return dn(this,void 0,void 0,function*(){return ts(t,"DELETE",e,r,s,n)})}var Ee=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function a(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,a)}u((r=r.apply(t,e||[])).next())})};const Kg={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Mu={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Gg{constructor(e,n={},r,s){this.url=e,this.headers=n,this.bucketId=r,this.fetch=Eh(s)}uploadOrUpdate(e,n,r,s){return Ee(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},Mu),s);let l=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const a=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),a&&i.append("metadata",this.encodeMetadata(a)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl),a&&i.append("metadata",this.encodeMetadata(a))):(i=r,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,a&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(a)))),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const u=this._removeEmptyFolders(n),d=this._getFinalPath(u),h=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:e,body:i,headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{})),m=yield h.json();return h.ok?{data:{path:u,id:m.Id,fullPath:m.Key},error:null}:{data:null,error:m}}catch(i){if(ae(i))return{data:null,error:i};throw i}})}upload(e,n,r){return Ee(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,s){return Ee(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",n);try{let a;const u=Object.assign({upsert:Mu.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(a=new FormData,a.append("cacheControl",u.cacheControl),a.append("",r)):typeof FormData<"u"&&r instanceof FormData?(a=r,a.append("cacheControl",u.cacheControl)):(a=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const h=yield this.fetch(l.toString(),{method:"PUT",body:a,headers:d}),m=yield h.json();return h.ok?{data:{path:i,fullPath:m.Key},error:null}:{data:null,error:m}}catch(a){if(ae(a))return{data:null,error:a};throw a}})}createSignedUploadUrl(e,n){return Ee(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const i=yield Ct(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new ga("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:l},error:null}}catch(r){if(ae(r))return{data:null,error:r};throw r}})}update(e,n,r){return Ee(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return Ee(this,void 0,void 0,function*(){try{return{data:yield Ct(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(ae(s))return{data:null,error:s};throw s}})}copy(e,n,r){return Ee(this,void 0,void 0,function*(){try{return{data:{path:(yield Ct(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(ae(s))return{data:null,error:s};throw s}})}createSignedUrl(e,n,r){return Ee(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield Ct(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(ae(s))return{data:null,error:s};throw s}})}createSignedUrls(e,n,r){return Ee(this,void 0,void 0,function*(){try{const s=yield Ct(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(ae(s))return{data:null,error:s};throw s}})}download(e,n){return Ee(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=i?`?${i}`:"";try{const l=this._getFinalPath(e);return{data:yield(yield ai(this.fetch,`${this.url}/${s}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(ae(l))return{data:null,error:l};throw l}})}info(e){return Ee(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield ai(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:pl(r),error:null}}catch(r){if(ae(r))return{data:null,error:r};throw r}})}exists(e){return Ee(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield qg(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(ae(r)&&r instanceof fl){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),s=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&s.push(i);const l=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",a=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});a!==""&&s.push(a);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${r}${u}`)}}}remove(e){return Ee(this,void 0,void 0,function*(){try{return{data:yield bh(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(ae(n))return{data:null,error:n};throw n}})}list(e,n,r){return Ee(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},Kg),n),{prefix:e||""});return{data:yield Ct(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(ae(s))return{data:null,error:s};throw s}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const Qg="2.7.1",Jg={"X-Client-Info":`storage-js/${Qg}`};var gn=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function a(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,a)}u((r=r.apply(t,e||[])).next())})};class Yg{constructor(e,n={},r){this.url=e,this.headers=Object.assign(Object.assign({},Jg),n),this.fetch=Eh(r)}listBuckets(){return gn(this,void 0,void 0,function*(){try{return{data:yield ai(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(ae(e))return{data:null,error:e};throw e}})}getBucket(e){return gn(this,void 0,void 0,function*(){try{return{data:yield ai(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(ae(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return gn(this,void 0,void 0,function*(){try{return{data:yield Ct(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(ae(r))return{data:null,error:r};throw r}})}updateBucket(e,n){return gn(this,void 0,void 0,function*(){try{return{data:yield Vg(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(ae(r))return{data:null,error:r};throw r}})}emptyBucket(e){return gn(this,void 0,void 0,function*(){try{return{data:yield Ct(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(ae(n))return{data:null,error:n};throw n}})}deleteBucket(e){return gn(this,void 0,void 0,function*(){try{return{data:yield bh(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(ae(n))return{data:null,error:n};throw n}})}}class Xg extends Yg{constructor(e,n={},r){super(e,n,r)}from(e){return new Gg(this.url,this.headers,e,this.fetch)}}const Zg="2.50.0";let vr="";typeof Deno<"u"?vr="deno":typeof document<"u"?vr="web":typeof navigator<"u"&&navigator.product==="ReactNative"?vr="react-native":vr="node";const ev={"X-Client-Info":`supabase-js-${vr}/${Zg}`},tv={headers:ev},nv={schema:"public"},rv={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},sv={};var iv=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function a(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,a)}u((r=r.apply(t,e||[])).next())})};const ov=t=>{let e;return t?e=t:typeof fetch>"u"?e=ch:e=fetch,(...n)=>e(...n)},lv=()=>typeof Headers>"u"?dh:Headers,av=(t,e,n)=>{const r=ov(n),s=lv();return(i,o)=>iv(void 0,void 0,void 0,function*(){var l;const a=(l=yield e())!==null&&l!==void 0?l:t;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${a}`),r(i,Object.assign(Object.assign({},o),{headers:u}))})};var uv=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function a(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,a)}u((r=r.apply(t,e||[])).next())})};function cv(t){return t.endsWith("/")?t:t+"/"}function dv(t,e){var n,r;const{db:s,auth:i,realtime:o,global:l}=t,{db:a,auth:u,realtime:d,global:h}=e,m={db:Object.assign(Object.assign({},a),s),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},d),o),global:Object.assign(Object.assign(Object.assign({},h),l),{headers:Object.assign(Object.assign({},(n=h==null?void 0:h.headers)!==null&&n!==void 0?n:{}),(r=l==null?void 0:l.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>uv(this,void 0,void 0,function*(){return""})};return t.accessToken?m.accessToken=t.accessToken:delete m.accessToken,m}const Ch="2.70.0",_n=30*1e3,ml=3,ho=ml*_n,hv="http://localhost:9999",fv="supabase.auth.token",pv={"X-Client-Info":`gotrue-js/${Ch}`},gl="X-Supabase-Api-Version",Nh={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},mv=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,gv=6e5;class va extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function L(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class vv extends va{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function yv(t){return L(t)&&t.name==="AuthApiError"}class Th extends va{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class qt extends va{constructor(e,n,r,s){super(e,r,s),this.name=n,this.status=r}}class jt extends qt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function wv(t){return L(t)&&t.name==="AuthSessionMissingError"}class _s extends qt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class xs extends qt{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class ks extends qt{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function _v(t){return L(t)&&t.name==="AuthImplicitGrantRedirectError"}class zu extends qt{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class vl extends qt{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function fo(t){return L(t)&&t.name==="AuthRetryableFetchError"}class Du extends qt{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class Nr extends qt{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const ui="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Uu=` 	
\r=`.split(""),xv=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Uu.length;e+=1)t[Uu[e].charCodeAt(0)]=-2;for(let e=0;e<ui.length;e+=1)t[ui[e].charCodeAt(0)]=e;return t})();function Fu(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(ui[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(ui[r]),e.queuedBits-=6}}function Ph(t,e,n){const r=xv[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Bu(t){const e=[],n=o=>{e.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{jv(o,r,n)};for(let o=0;o<t.length;o+=1)Ph(t.charCodeAt(o),s,i);return e.join("")}function kv(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function Sv(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}kv(r,e)}}function jv(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function Ev(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)Ph(t.charCodeAt(s),n,r);return new Uint8Array(e)}function bv(t){const e=[];return Sv(t,n=>e.push(n)),new Uint8Array(e)}function Cv(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};return t.forEach(s=>Fu(s,n,r)),Fu(null,n,r),e.join("")}function Nv(t){return Math.round(Date.now()/1e3)+t}function Tv(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Ke=()=>typeof window<"u"&&typeof document<"u",Kt={tested:!1,writable:!1},Tr=()=>{if(!Ke())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Kt.tested)return Kt.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Kt.tested=!0,Kt.writable=!0}catch{Kt.tested=!0,Kt.writable=!1}return Kt.writable};function Pv(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{e[s]=r}),e}const Rh=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Zr(async()=>{const{default:r}=await Promise.resolve().then(()=>Xn);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},Rv=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Oh=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Ss=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},js=async(t,e)=>{await t.removeItem(e)};class Oi{constructor(){this.promise=new Oi.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}Oi.promiseConstructor=Promise;function po(t){const e=t.split(".");if(e.length!==3)throw new Nr("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!mv.test(e[r]))throw new Nr("JWT not in base64url format");return{header:JSON.parse(Bu(e[0])),payload:JSON.parse(Bu(e[1])),signature:Ev(e[2]),raw:{header:e[0],payload:e[1]}}}async function Ov(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function Iv(t,e){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){r(o);return}}catch(o){if(!e(i,o)){s(o);return}}})()})}function Av(t){return("0"+t.toString(16)).substr(-2)}function $v(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(e),Array.from(e,Av).join("")}async function Lv(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function Mv(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await Lv(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function vn(t,e,n=!1){const r=$v();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await Oh(t,`${e}-code-verifier`,s);const i=await Mv(r);return[i,r===i?"plain":"s256"]}const zv=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Dv(t){const e=t.headers.get(gl);if(!e||!e.match(zv))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function Uv(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function Fv(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Bv=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function yn(t){if(!Bv.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var Hv=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};const Jt=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Wv=[502,503,504];async function Hu(t){var e;if(!Rv(t))throw new vl(Jt(t),0);if(Wv.includes(t.status))throw new vl(Jt(t),t.status);let n;try{n=await t.json()}catch(i){throw new Th(Jt(i),i)}let r;const s=Dv(t);if(s&&s.getTime()>=Nh["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Du(Jt(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new jt}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new Du(Jt(n),t.status,n.weak_password.reasons);throw new vv(Jt(n),t.status||500,r)}const Vv=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function D(t,e,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[gl]||(i[gl]=Nh["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",a=await qv(t,e,n+l,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(a):{data:Object.assign({},a),error:null}}async function qv(t,e,n,r,s,i){const o=Vv(e,r,s,i);let l;try{l=await t(n,Object.assign({},o))}catch(a){throw console.error(a),new vl(Jt(a),0)}if(l.ok||await Hu(l),r!=null&&r.noResolveJson)return l;try{return await l.json()}catch(a){await Hu(a)}}function ct(t){var e;let n=null;Jv(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=Nv(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function Wu(t){const e=ct(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Pt(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function Kv(t){return{data:t,error:null}}function Gv(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=t,o=Hv(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},a=Object.assign({},o);return{data:{properties:l,user:a},error:null}}function Qv(t){return t}function Jv(t){return t.access_token&&t.refresh_token&&t.expires_in}const mo=["global","local","others"];var Yv=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};class Xv{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=Rh(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n=mo[0]){if(mo.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${mo.join(", ")}`);try{return await D(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(L(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await D(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Pt})}catch(r){if(L(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=Yv(e,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await D(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:Gv,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(L(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await D(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Pt})}catch(n){if(L(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,s,i,o,l,a;try{const u={nextPage:null,lastPage:0,total:0},d=await D(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Qv});if(d.error)throw d.error;const h=await d.json(),m=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,y=(a=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&a!==void 0?a:[];return y.length>0&&(y.forEach(_=>{const v=parseInt(_.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(_.split(";")[1].split("=")[1]);u[`${k}Page`]=v}),u.total=parseInt(m)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(L(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){yn(e);try{return await D(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Pt})}catch(n){if(L(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){yn(e);try{return await D(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:Pt})}catch(r){if(L(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){yn(e);try{return await D(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:Pt})}catch(r){if(L(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){yn(e.userId);try{const{data:n,error:r}=await D(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(L(n))return{data:null,error:n};throw n}}async _deleteFactor(e){yn(e.userId),yn(e.id);try{return{data:await D(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(L(n))return{data:null,error:n};throw n}}}const Zv={getItem:t=>Tr()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{Tr()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{Tr()&&globalThis.localStorage.removeItem(t)}};function Vu(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function e0(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const wn={debug:!!(globalThis&&Tr()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Ih extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class t0 extends Ih{}async function n0(t,e,n){wn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),wn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){wn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await n()}finally{wn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw wn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new t0(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(wn.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}e0();const r0={url:hv,storageKey:fv,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:pv,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function qu(t,e,n){return await n()}class Kr{constructor(e){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Kr.nextInstanceID,Kr.nextInstanceID+=1,this.instanceID>0&&Ke()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},r0),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new Xv({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Rh(s.fetch),this.lock=s.lock||qu,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Ke()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=n0:this.lock=qu,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:Tr()?this.storage=Zv:(this.memoryStorage={},this.storage=Vu(this.memoryStorage)):(this.memoryStorage={},this.storage=Vu(this.memoryStorage)),Ke()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Ch}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=Pv(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),Ke()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),_v(i)){const a=(e=i.details)===null||e===void 0?void 0:e.code;if(a==="identity_already_exists"||a==="identity_not_found"||a==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return L(n)?{error:n}:{error:new Th("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,s;try{const i=await D(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:ct}),{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const a=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",a)),{data:{user:u,session:a},error:null}}catch(i){if(L(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var n,r,s;try{let i;if("email"in e){const{email:d,password:h,options:m}=e;let y=null,_=null;this.flowType==="pkce"&&([y,_]=await vn(this.storage,this.storageKey)),i=await D(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m==null?void 0:m.emailRedirectTo,body:{email:d,password:h,data:(n=m==null?void 0:m.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:y,code_challenge_method:_},xform:ct})}else if("phone"in e){const{phone:d,password:h,options:m}=e;i=await D(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(r=m==null?void 0:m.data)!==null&&r!==void 0?r:{},channel:(s=m==null?void 0:m.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:ct})}else throw new xs("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const a=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",a)),{data:{user:u,session:a},error:null}}catch(i){if(L(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let n;if("email"in e){const{email:i,password:o,options:l}=e;n=await D(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Wu})}else if("phone"in e){const{phone:i,password:o,options:l}=e;n=await D(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Wu})}else throw new xs("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new _s}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(L(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,r,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;if(n==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(e){var n,r,s,i,o,l,a,u,d,h,m,y;let _,v;if("message"in e)_=e.message,v=e.signature;else{const{chain:k,wallet:f,statement:p,options:g}=e;let w;if(Ke())if(typeof f=="object")w=f;else{const b=window;if("solana"in b&&typeof b.solana=="object"&&("signIn"in b.solana&&typeof b.solana.signIn=="function"||"signMessage"in b.solana&&typeof b.solana.signMessage=="function"))w=b.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof f!="object"||!(g!=null&&g.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=f}const E=new URL((n=g==null?void 0:g.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in w&&w.signIn){const b=await w.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},g==null?void 0:g.signInWithSolana),{version:"1",domain:E.host,uri:E.href}),p?{statement:p}:null));let C;if(Array.isArray(b)&&b[0]&&typeof b[0]=="object")C=b[0];else if(b&&typeof b=="object"&&"signedMessage"in b&&"signature"in b)C=b;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in C&&"signature"in C&&(typeof C.signedMessage=="string"||C.signedMessage instanceof Uint8Array)&&C.signature instanceof Uint8Array)_=typeof C.signedMessage=="string"?C.signedMessage:new TextDecoder().decode(C.signedMessage),v=C.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in w)||typeof w.signMessage!="function"||!("publicKey"in w)||typeof w!="object"||!w.publicKey||!("toBase58"in w.publicKey)||typeof w.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");_=[`${E.host} wants you to sign in with your Solana account:`,w.publicKey.toBase58(),...p?["",p,""]:[""],"Version: 1",`URI: ${E.href}`,`Issued At: ${(s=(r=g==null?void 0:g.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=g==null?void 0:g.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${g.signInWithSolana.notBefore}`]:[],...!((o=g==null?void 0:g.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${g.signInWithSolana.expirationTime}`]:[],...!((l=g==null?void 0:g.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${g.signInWithSolana.chainId}`]:[],...!((a=g==null?void 0:g.signInWithSolana)===null||a===void 0)&&a.nonce?[`Nonce: ${g.signInWithSolana.nonce}`]:[],...!((u=g==null?void 0:g.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${g.signInWithSolana.requestId}`]:[],...!((h=(d=g==null?void 0:g.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...g.signInWithSolana.resources.map(C=>`- ${C}`)]:[]].join(`
`);const b=await w.signMessage(new TextEncoder().encode(_),"utf8");if(!b||!(b instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");v=b}}try{const{data:k,error:f}=await D(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:_,signature:Cv(v)},!((m=e.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(y=e.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:ct});if(f)throw f;return!k||!k.session||!k.user?{data:{user:null,session:null},error:new _s}:(k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("SIGNED_IN",k.session)),{data:Object.assign({},k),error:f})}catch(k){if(L(k))return{data:{user:null,session:null},error:k};throw k}}async _exchangeCodeForSession(e){const n=await Ss(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:i,error:o}=await D(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:ct});if(await js(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new _s}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(L(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:n,provider:r,token:s,access_token:i,nonce:o}=e,l=await D(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:ct}),{data:a,error:u}=l;return u?{data:{user:null,session:null},error:u}:!a||!a.session||!a.user?{data:{user:null,session:null},error:new _s}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:a,error:u})}catch(n){if(L(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,r,s,i,o;try{if("email"in e){const{email:l,options:a}=e;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await vn(this.storage,this.storageKey));const{error:h}=await D(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=a==null?void 0:a.data)!==null&&n!==void 0?n:{},create_user:(r=a==null?void 0:a.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in e){const{phone:l,options:a}=e,{data:u,error:d}=await D(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=a==null?void 0:a.data)!==null&&s!==void 0?s:{},create_user:(i=a==null?void 0:a.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken},channel:(o=a==null?void 0:a.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new xs("You must provide either an email or phone number.")}catch(l){if(L(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(e){var n,r;try{let s,i;"options"in e&&(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo,i=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:l}=await D(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:ct});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const a=o.session,u=o.user;return a!=null&&a.access_token&&(await this._saveSession(a),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",a)),{data:{user:u,session:a},error:null}}catch(s){if(L(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var n,r,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await vn(this.storage,this.storageKey)),await D(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:Kv})}catch(i){if(L(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new jt;const{error:s}=await D(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(L(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:s,options:i}=e,{error:o}=await D(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:r,type:s,options:i}=e,{data:o,error:l}=await D(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new xs("You must provide either an email or phone number and a type")}catch(n){if(L(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Ss(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<ho:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.storage.isServer){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(a,u,d)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(a,u,d))})}return{data:{session:e},error:null}}const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await D(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Pt}):await this._useSession(async n=>{var r,s,i;const{data:o,error:l}=n;if(l)throw l;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new jt}:await D(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Pt})})}catch(n){if(L(n))return wv(n)&&(await this._removeSession(),await js(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new jt;const o=s.session;let l=null,a=null;this.flowType==="pkce"&&e.email!=null&&([l,a]=await vn(this.storage,this.storageKey));const{data:u,error:d}=await D(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:l,code_challenge_method:a}),jwt:o.access_token,xform:Pt});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(L(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new jt;const n=Date.now()/1e3;let r=n,s=!0,i=null;const{payload:o}=po(e.access_token);if(o.exp&&(r=o.exp,s=r<=n),s){const{session:l,error:a}=await this._callRefreshToken(e.refresh_token);if(a)return{data:{user:null,session:null},error:a};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:a}=await this._getUser(e.access_token);if(a)throw a;i={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(L(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:o,error:l}=n;if(l)throw l;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new jt;const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(L(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!Ke())throw new ks("No browser detected.");if(e.error||e.error_description||e.error_code)throw new ks(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new zu("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ks("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new zu("No code detected.");const{data:p,error:g}=await this._exchangeCodeForSession(e.code);if(g)throw g;const w=new URL(window.location.href);return w.searchParams.delete("code"),window.history.replaceState(window.history.state,"",w.toString()),{data:{session:p.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:l,expires_at:a,token_type:u}=e;if(!i||!l||!o||!u)throw new ks("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(l);let m=d+h;a&&(m=parseInt(a));const y=m-d;y*1e3<=_n&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${y}s, should have been closer to ${h}s`);const _=m-h;d-_>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",_,m,d):d-_<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",_,m,d);const{data:v,error:k}=await this._getUser(i);if(k)throw k;const f={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:m,refresh_token:o,token_type:u,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:f,redirectType:e.type},error:null}}catch(r){if(L(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Ss(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{error:i};const o=(r=s.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:l}=await this.admin.signOut(o,e);if(l&&!(yv(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return e!=="others"&&(await this._removeSession(),await js(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=Tv(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await vn(this.storage,this.storageKey,!0));try{return await D(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(L(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(L(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var o,l,a,u,d;const{data:h,error:m}=i;if(m)throw m;const y=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=e.options)===null||l===void 0?void 0:l.scopes,queryParams:(a=e.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:!0});return await D(this.fetch,"GET",y,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return Ke()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(L(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)throw o;return await D(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(L(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await Iv(async s=>(s>0&&await Ov(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await D(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:ct})),(s,i)=>{const o=200*Math.pow(2,s);return i&&fo(i)&&Date.now()+o-r<_n})}catch(r){if(this._debug(n,"error",r),L(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),Ke()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await Ss(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const s=((e=r.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<ho;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${ho}s`),s){if(this.autoRefreshToken&&r.refresh_token){const{error:i}=await this._callRefreshToken(r.refresh_token);i&&(console.error(i),fo(i)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new jt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Oi;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new jt;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={session:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(s,"error",i),L(i)){const o={session:null,error:i};return fo(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,n,r=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(e,n)}catch(a){i.push(a)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Oh(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await js(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Ke()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),_n);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-e)/_n);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${_n}ms, refresh threshold is ${ml} ticks`),s<=ml&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Ih)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ke()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await vn(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(l.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await D(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(L(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:a,error:u}=await D(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&(!((s=a==null?void 0:a.totp)===null||s===void 0)&&s.qr_code)&&(a.totp.qr_code=`data:image/svg+xml;utf-8,${a.totp.qr_code}`),{data:a,error:null})})}catch(n){if(L(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{data:null,error:i};const{data:o,error:l}=await D(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(n){if(L(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await D(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(L(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(e==null?void 0:e.factors)||[],s=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,r;const{data:{session:s},error:i}=e;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=po(s.access_token);let l=null;o.aal&&(l=o.aal);let a=l;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(h=>h.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(a="aal2");const d=o.amr||[];return{data:{currentLevel:l,nextLevel:a,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(o=>o.kid===e);if(r||(r=this.jwks.keys.find(o=>o.kid===e),r&&this.jwks_cached_at+gv>Date.now()))return r;const{data:s,error:i}=await D(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!s.keys||s.keys.length===0)throw new Nr("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),r=s.keys.find(o=>o.kid===e),!r)throw new Nr("No matching signing key found in JWKS");return r}async getClaims(e,n={keys:[]}){try{let r=e;if(!r){const{data:y,error:_}=await this.getSession();if(_||!y.session)return{data:null,error:_};r=y.session.access_token}const{header:s,payload:i,signature:o,raw:{header:l,payload:a}}=po(r);if(Uv(i.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:y}=await this.getUser(r);if(y)throw y;return{data:{claims:i,header:s,signature:o},error:null}}const u=Fv(s.alg),d=await this.fetchJwk(s.kid,n),h=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,h,o,bv(`${l}.${a}`)))throw new Nr("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(r){if(L(r))return{data:null,error:r};throw r}}}Kr.nextInstanceID=0;const s0=Kr;class i0 extends s0{constructor(e){super(e)}}var o0=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function a(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,a)}u((r=r.apply(t,e||[])).next())})};class l0{constructor(e,n,r){var s,i,o;if(this.supabaseUrl=e,this.supabaseKey=n,!e)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const l=cv(e),a=new URL(l);this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const u=`sb-${a.hostname.split(".")[0]}-auth-token`,d={db:nv,realtime:sv,auth:Object.assign(Object.assign({},rv),{storageKey:u}),global:tv},h=dv(r??{},d);this.storageKey=(s=h.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=h.global.headers)!==null&&i!==void 0?i:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(m,y)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(y)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=h.auth)!==null&&o!==void 0?o:{},this.headers,h.global.fetch),this.fetch=av(n,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new jg(new URL("rest/v1",a).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),h.accessToken||this._listenForAuthEvents()}get functions(){return new eg(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Xg(this.storageUrl.href,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return o0(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,storageKey:i,flowType:o,lock:l,debug:a},u,d){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new i0({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),u),storageKey:i,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,flowType:o,lock:l,debug:a,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new zg(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const a0=(t,e,n)=>new l0(t,e,n),u0="https://ljgokkoavmyygeaszsim.supabase.co",c0="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImxqZ29ra29hdm15eWdlYXN6c2ltIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTAxMDIxNjUsImV4cCI6MjA2NTY3ODE2NX0.jlDNZ8fubiHqLywhBkPTxh5eBY0IevcUfBIUNPxyFPo",ge=a0(u0,c0,{db:{schema:"public"},auth:{autoRefreshToken:!0,persistSession:!1},global:{headers:{"Cache-Control":"no-cache, no-store, must-revalidate",Pragma:"no-cache",Expires:"0"}}});class d0{async triggerRecommendationGeneration(e){try{console.log("Triggering recommendation generation for session:",e);const n=await qm.generateRecommendations(e);return n?(console.log("Recommendations generated successfully:",n),!0):(console.warn("Failed to generate recommendations via API"),!1)}catch(n){return console.error("Error triggering recommendation generation:",n),!1}}async generateRecommendations(e,n){try{console.log("Reading recommendations from database for session:",e);const{data:r,error:s}=await ge.from("recommendations").select("movie_id").eq("session_id",e).not("display_order","is",null).order("display_order",{ascending:!0});if(s)return console.error("Error fetching recommendations from database:",s),this.getFallbackRecommendations();if(!r||r.length===0)return console.warn("No recommendations found in database for session:",e),this.getFallbackRecommendations();const i=r.map(o=>o.movie_id);return console.log("Recommendations loaded from database:",i),i}catch(r){return console.error("Error reading recommendations from database:",r),this.getFallbackRecommendations()}}async getFallbackRecommendations(){try{console.log("Using fallback: getting first 10 phase2_movies");const{data:e,error:n}=await ge.from("phase2_movies").select("id").limit(10);if(n)throw n;const r=(e==null?void 0:e.map(s=>s.id))||[];for(let s=r.length-1;s>0;s--){const i=Math.floor(Math.random()*(s+1));[r[s],r[i]]=[r[i],r[s]]}return console.log("Using fallback recommendations:",r),r}catch(e){return console.error("Error getting fallback recommendations:",e),[]}}async logRecommendation(e,n){try{console.log("Recommendations for session",e,":",n)}catch(r){console.error("Error logging recommendation:",r)}}}const Es=new d0,h0=(t,e=!0)=>{const n=U.useRef([]),r=U.useRef(Date.now()),s=U.useRef(null),i=async a=>{if(!(!t||t.startsWith("local_")||a.length===0))try{const u=a.map(h=>({session_id:t,x:Math.round(h.x),y:Math.round(h.y),timestamp:h.timestamp})),{error:d}=await ge.from("mouse_events").insert(u);d?console.error("Error saving mouse events:",d):console.log(`Saved ${u.length} mouse events`)}catch(u){console.error("Error saving mouse events:",u)}},o=a=>{if(!e||!t)return;const u={x:a.clientX,y:a.clientY,timestamp:new Date().toISOString()};n.current.push(u);const d=Date.now();if(n.current.length>=50||d-r.current>=5e3){const h=[...n.current];n.current=[],r.current=d,i(h)}},l=async()=>{if(n.current.length>0){const a=[...n.current];n.current=[],await i(a)}};return U.useEffect(()=>{if(!(!e||!t))return document.addEventListener("mousemove",o),s.current=setInterval(()=>{if(n.current.length>0){const a=[...n.current];n.current=[],r.current=Date.now(),i(a)}},1e4),()=>{document.removeEventListener("mousemove",o),s.current&&clearInterval(s.current),n.current.length>0&&l()}},[t,e]),{saveRemainingEvents:l}},ya="cinerate_session",go=Date.now(),f0=t=>{try{localStorage.setItem(ya,JSON.stringify(t))}catch(e){console.error("Error saving session to localStorage:",e)}},p0=()=>{try{const t=localStorage.getItem(ya);if(t)return JSON.parse(t)}catch(t){console.error("Error loading session from localStorage:",t)}return null},m0=()=>{try{localStorage.removeItem(ya),localStorage.removeItem("supabase.auth.token"),sessionStorage.clear()}catch(t){console.error("Error clearing session from localStorage:",t)}};function g0(){const[t,e]=U.useState("intro"),[n,r]=U.useState([]),[s,i]=U.useState([]),[o,l]=U.useState(null),[a,u]=U.useState(Date.now()),[d,h]=U.useState(!1),[m,y]=U.useState(null),[_,v]=U.useState(5),[k,f]=U.useState(!1),[p,g]=U.useState(!1),[w,E]=U.useState([]),[b,C]=U.useState(new Map),[P,G]=U.useState(!1),[z,we]=U.useState(new Map),[kt,lt]=U.useState(null),[hn,Ii]=U.useState(!0),{saveRemainingEvents:er}=h0(o,t!=="intro"&&t!=="complete");U.useEffect(()=>{(async()=>{const j=p0();j&&j.sessionId&&j.phase!=="intro"?(console.log("Restoring session from localStorage:",j),l(j.sessionId),e(j.phase),r(j.ratings),u(j.sessionStartTime),v(j.minimumRatingsRequired),lt(j.currentMoviesPhase),j.currentMoviesPhase&&await Ve(j.currentMoviesPhase)):(console.log("No saved session found or session is at intro phase, starting fresh"),e("intro")),Ii(!1)})()},[]),U.useEffect(()=>{!hn&&o&&t!=="intro"&&f0({sessionId:o,phase:t,ratings:n,sessionStartTime:a,minimumRatingsRequired:_,currentMoviesPhase:kt})},[o,t,n,a,_,kt,hn]),U.useEffect(()=>{t==="initial"&&o&&N()},[t,o]),U.useEffect(()=>{const x=setTimeout(()=>{z.size>0&&(z.forEach(async(j,R)=>{await tt(j)}),we(new Map))},500);return()=>clearTimeout(x)},[z,o]);const fn=async()=>{console.log("Starting app initialization"),G(!0);try{await se(),await Ve("initial"),console.log("App initialization completed successfully")}catch(x){console.error("Error initializing app:",x),y(`Failed to initialize application: ${x.message||"Unknown error"}`)}finally{G(!1)}},N=async()=>{if(!(!o||o.startsWith("local_")))try{const x=window.screen.width,j=window.screen.height;await ge.from("user_sessions").update({screen_width:x,screen_height:j}).eq("id",o),console.log("Screen size recorded:",{screenWidth:x,screenHeight:j})}catch(x){console.error("Error recording screen size:",x)}},A=async(x,j)=>{if(!(!o||o.startsWith("local_")))try{console.log("Recording phase transition:",{fromPhase:x,toPhase:j,sessionId:o}),await ge.from("phase_transitions").insert({session_id:o,from_phase:x,to_phase:j,timestamp:new Date().toISOString()}),console.log("Phase transition recorded:",{fromPhase:x,toPhase:j})}catch(R){console.error("Error recording phase transition:",R)}},M=x=>{const j=new Date().toISOString();C(R=>new Map(R).set(x,j))},X=async x=>{const j=b.get(x);if(!j||!o||o.startsWith("local_"))return;const R=new Date().toISOString(),O=new Date(R).getTime()-new Date(j).getTime();try{await ge.from("trailer_views").insert({session_id:o,movie_id:x,start_time:j,end_time:R,duration:Math.round(O/1e3)}),console.log("Trailer view recorded:",{movieId:x,duration:O/1e3})}catch(I){console.error("Error recording trailer view:",I)}C(I=>{const $=new Map(I);return $.delete(x),$})},se=async()=>{console.log("Creating new session");const x=`user_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,j=new Date().toISOString(),R=[5,7,9,11,13,15],O=R[Math.floor(Math.random()*R.length)];v(O);try{console.log("Inserting session into database");const{data:I,error:$}=await ge.from("user_sessions").insert({user_id:x,phase:"initial",start_time:j,minimum_ratings_required:O}).select().single();if($&&(console.error("Database session creation failed:",$),console.log("Continuing with local session due to database error")),I&&I.id)l(I.id),console.log("Database session created:",I.id,"Minimum required:",O);else{const Q=`local_${Date.now()}`;l(Q),console.log("Using local session:",Q,"Minimum required:",O)}u(Date.now())}catch(I){console.error("Error creating session:",I);const $=`local_${Date.now()}`;l($),console.log("Using local session due to error:",$,"Minimum required:",O)}},Ve=async x=>{console.log("=== FETCH MOVIES START ==="),console.log("Fetching movies of type:",x),console.log("Supabase URL:","https://ljgokkoavmyygeaszsim.supabase.co"),console.log("Current phase:",t),console.log("Cache buster timestamp:",Date.now()),h(!0),y(null);try{if(x==="initial"){console.log("Fetching initial movies from movies table...");const{data:j,error:R}=await ge.from("movies").select("*").order("id");if(console.log("Database query result:",{data:(j==null?void 0:j.length)||0,error:R}),R)throw console.error("Error fetching initial movies:",R),R;if(!j||j.length===0){console.warn("No initial movies found in database"),y("No movies found in database. Please check your database connection."),i([]);return}console.log("Initial movies fetched:",j.length);const I=[...j].sort(()=>Math.random()-.5).map($=>({...$,poster:`https://ljgokkoavmyygeaszsim.supabase.co/storage/v1/object/public/posters/${$.id}.jpg?t=${go}`}));console.log("Movies with updated posters:",I.length),console.log("Sample movie:",I[0]),i(I),lt("initial"),console.log("=== INITIAL MOVIES SET SUCCESSFULLY ===")}else if(o){console.log("Requesting recommendations for session:",o),console.log("Current ratings for recommendation:",n);const j=await Es.generateRecommendations(o,n);if(console.log("Received recommended IDs:",j),j.length>0){const{data:R,error:O}=await ge.from("phase2_movies").select("*").in("id",j);if(O)throw console.error("Error fetching recommended movies:",O),O;if(R&&j.length>0){const I=j.map(Q=>R.find(ut=>ut.id===Q)).filter(Boolean);console.log("Recommended movies sorted:",I.length),await Es.logRecommendation(o,j);const $=I.map(Q=>({...Q,poster:`https://ljgokkoavmyygeaszsim.supabase.co/storage/v1/object/public/posters/${Q.id}.jpg?t=${go}`}));console.log("Final recommended movies:",$.map(Q=>({id:Q.id,title:Q.title}))),i($)}else console.warn("No recommended movies data returned"),i([])}else{console.log("No recommendations generated, using fallback");const{data:R,error:O}=await ge.from("phase2_movies").select("*").limit(10);if(O)throw console.error("Error fetching fallback movies:",O),O;if(R){const $=[...R].sort(()=>Math.random()-.5).map(Q=>({...Q,poster:`https://ljgokkoavmyygeaszsim.supabase.co/storage/v1/object/public/posters/${Q.id}.jpg?t=${go}`}));console.log("Fallback movies set:",$.length),i($)}else console.warn("No fallback movies data returned"),i([])}lt("recommended")}}catch(j){console.error(`Error fetching ${x} movies:`,j),y(`Failed to load ${x} movies: ${j.message||"Unknown error"}`),i([])}finally{h(!1),console.log("=== FETCH MOVIES END ===")}},tt=async x=>{if(!o||o.startsWith("local_")){console.log("Skipping database save - no valid session ID");return}try{console.log("Saving rating to database:",{session_id:o,movie_id:x.movieId,rating:x.rating,diversity_rating:x.diversity,novelty_rating:x.novelty,serendipity_rating:x.serendipity});const{data:j,error:R}=await ge.from("movie_ratings").select("id").eq("session_id",o).eq("movie_id",x.movieId).limit(1);if(R)throw R;const O={rating:x.rating>=0?x.rating:null,diversity_rating:x.diversity!==void 0&&x.diversity>=0?x.diversity:null,novelty_rating:x.novelty!==void 0&&x.novelty>=0?x.novelty:null,serendipity_rating:x.serendipity!==void 0&&x.serendipity>=0?x.serendipity:null};if(j&&j.length>0){const{error:I}=await ge.from("movie_ratings").update(O).eq("id",j[0].id);if(I)throw I;console.log("Rating updated successfully:",O)}else if(O.rating!==null||O.diversity_rating!==null||O.novelty_rating!==null||O.serendipity_rating!==null){const I={session_id:o,movie_id:x.movieId,...O,rating:O.rating!==null?O.rating:0},{error:$}=await ge.from("movie_ratings").insert(I);if($)throw $;console.log("Rating inserted successfully:",I)}}catch(j){console.error("Error saving rating to database:",j),setTimeout(async()=>{try{await tt(x)}catch(R){console.error("Retry failed for rating save:",R)}},1e3)}},tr=async x=>{if(!(!o||o.startsWith("local_")))try{await ge.from("user_sessions").update({phase:x}).eq("id",o),console.log("Session phase updated to:",x)}catch(j){console.error("Error updating session phase:",j)}},at=async()=>{if(!(!o||o.startsWith("local_")))try{await ge.from("user_sessions").update({end_time:new Date().toISOString(),phase:"complete"}).eq("id",o),console.log("Session ended")}catch(x){console.error("Error ending session:",x)}},pn=U.useCallback(async(x,j)=>{r(R=>{const O=R.findIndex(Q=>Q.movieId===x);let I;O>=0?(I=[...R],I[O]={...I[O],rating:j}):I=[...R,{movieId:x,rating:j}];const $=I.find(Q=>Q.movieId===x);if($){const Q=`${x}_main`;we(ut=>new Map(ut).set(Q,$))}return I})},[o]),Ai=U.useCallback(async(x,j,R)=>{r(O=>{const I=O.findIndex(ut=>ut.movieId===x);let $;I>=0?($=[...O],$[I]={...$[I],[j]:R}):$=[...O,{movieId:x,rating:-1,[j]:R}];const Q=$.find(ut=>ut.movieId===x);if(Q){const ut=`${x}_${j}`;we(Vh=>new Map(Vh).set(ut,Q))}return $})},[o]),$i=x=>n.find(j=>j.movieId===x)||{movieId:x,rating:-1},nr=()=>n.filter(x=>x.rating>=0).length,Ah=()=>{if(t==="recommendation"){const x=s.map(j=>j.id);return n.filter(j=>j.rating>=0&&x.includes(j.movieId)).length}return nr()},$h=()=>{if(t!=="recommendation")return[];const x=[];return s.forEach(j=>{const R=$i(j.id),O=R.rating>=0,I=R.diversity!==void 0&&R.diversity>=0,$=R.novelty!==void 0&&R.novelty>=0,Q=R.serendipity!==void 0&&R.serendipity>=0;(!O||!I||!$||!Q)&&x.push(j.id)}),x},Lh=()=>nr()>=_,Mh=()=>s.every(x=>{const j=$i(x.id),R=j.rating>=0,O=j.diversity!==void 0&&j.diversity>=0,I=j.novelty!==void 0&&j.novelty>=0,$=j.serendipity!==void 0&&j.serendipity>=0;return R&&O&&I&&$}),zh=()=>{console.log("Starting from intro, initializing app..."),e("initial"),!o&&!P&&(console.log("No session exists, initializing new session and loading movies"),fn())},Dh=async()=>{if(console.log("=== GETTING RECOMMENDATIONS ==="),console.log("Session ID:",o),console.log("API URL configured:",void 0),o&&!o.startsWith("local_")){console.log("Triggering recommendation generation...");const x=await Es.checkHealth();console.log("API health check:",x),await Es.triggerRecommendationGeneration(o)||(console.warn("Recommendation generation failed or API not available, proceeding with fallback"),console.log("Using fallback recommendations due to API unavailability"))}else console.log("Using local session or no session, skipping API call");await A("choice","recommendation"),e("recommendation"),await tr("recommendation"),await Ve("recommended")},Uh=async()=>{e("initial"),await Ve("initial")},wa=()=>{if(t==="recommendation"){const x=$h();if(x.length>0){E(x);return}}A(t,"questionnaire"),e("questionnaire")},Fh=async x=>{if(await A("questionnaire","complete"),await er(),o&&!o.startsWith("local_"))try{await ge.from("questionnaire_responses").insert({session_id:o,movie_watching_frequency:x.movieWatchingFrequency,streaming_services:x.streamingServices,primary_streaming_service:x.primaryStreamingService,movie_genre_preferences:x.movieGenrePreferences,openness_to_experience:x.opennessToExperience,risk_aversion:x.riskAversion,movie_expertise:x.movieExpertise,serendipity_attitude:x.serendipityAttitude,novelty_attitude:x.noveltyAttitude,diversity_attitude:x.diversityAttitude,attention_check:x.attentionCheck,gender:x.gender,age_range:x.ageRange,nationality:x.nationality,occupation:x.occupation,additional_comments:x.additionalComments,email:x.email}),console.log("Questionnaire data saved")}catch(j){console.error("Error saving questionnaire data:",j)}e("complete"),await at(),m0()},Bh=()=>{const x=n.filter(j=>j.rating>=0);return x.length===0?0:x.reduce((j,R)=>j+R.rating,0)/x.length};U.useEffect(()=>{t==="recommendation"&&s.length>0&&Mh()&&!k&&!p&&f(!0)},[n,t,s,k,p]);const Hh=()=>{f(!1),g(!0)},Wh=()=>{f(!1),wa()};return hn?c.jsx("div",{className:"min-h-screen bg-gray-950 flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx(Pu,{className:"animate-spin text-amber-500 mx-auto mb-4",size:48}),c.jsx("p",{className:"text-gray-400 text-lg",children:"Restoring your session..."})]})}):t==="intro"?c.jsx(Hm,{onStart:zh}):t==="choice"?c.jsx(Fm,{ratingsCount:nr(),onGetRecommendations:Dh,onRateMore:Uh}):t==="questionnaire"?c.jsx(Vm,{onComplete:Fh}):t==="complete"?c.jsx(Bm,{totalRatings:nr(),averageRating:Bh()}):c.jsxs("div",{className:"min-h-screen bg-gray-950",children:[c.jsx("header",{className:"bg-gray-900 border-b border-gray-800 sticky top-0 z-50",children:c.jsx("div",{className:"max-w-7xl mx-auto px-4 py-6",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(ah,{className:"text-amber-500",size:32}),c.jsx("h1",{className:"text-2xl font-bold text-white",children:"CineRate"})]}),c.jsx("div",{className:"text-amber-400 font-medium",children:t==="initial"?"Rate Movies":"Rate Recommendations"})]})})}),c.jsx("main",{className:"max-w-7xl mx-auto px-4 py-8",children:d?c.jsx("div",{className:"flex items-center justify-center min-h-96",children:c.jsxs("div",{className:"text-center",children:[c.jsx(Pu,{className:"animate-spin text-amber-500 mx-auto mb-4",size:48}),c.jsx("p",{className:"text-gray-400 text-lg",children:"Loading movies..."})]})}):m?c.jsx("div",{className:"flex items-center justify-center min-h-96",children:c.jsxs("div",{className:"text-center",children:[c.jsx(Tu,{className:"text-red-500 mx-auto mb-4",size:48}),c.jsx("p",{className:"text-red-400 text-lg mb-4",children:m}),c.jsx("button",{onClick:()=>Ve(t==="recommendation"?"recommended":"initial"),className:"bg-amber-500 hover:bg-amber-600 text-black font-semibold py-2 px-4 rounded-lg transition-colors",children:"Retry"})]})}):s.length===0?!P&&!d&&c.jsx("div",{className:"flex items-center justify-center min-h-96",children:c.jsxs("div",{className:"text-center",children:[c.jsx(Tu,{className:"text-yellow-500 mx-auto mb-4",size:48}),c.jsx("p",{className:"text-gray-400 text-lg mb-4",children:"No movies available"}),c.jsxs("p",{className:"text-gray-500 text-sm mb-4",children:["Phase: ",t,", Session ID: ",o||"None",", Loading: ",d?"Yes":"No"]}),c.jsx("button",{onClick:()=>{console.log("Retry button clicked, current state:",{phase:t,sessionId:o,loadingMovies:d}),t==="initial"&&!o?(console.log("No session, initializing app..."),fn()):Ve(t==="recommendation"?"recommended":"initial")},className:"bg-amber-500 hover:bg-amber-600 text-black font-semibold py-2 px-4 rounded-lg transition-colors",children:"Retry Loading Movies"})]})}):c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"mb-8",children:[c.jsx(Um,{current:Ah(),total:s.length,minimum:t==="initial"?_:void 0,label:t==="initial"?"Initial Movie Ratings Progress":"Recommendation Ratings Progress"}),t==="initial"&&Lh()&&c.jsx("div",{className:"text-center mb-6",children:c.jsx("button",{onClick:()=>{A("initial","choice"),e("choice")},className:"bg-amber-500 hover:bg-amber-600 text-black font-semibold py-3 px-6 rounded-lg transition-all duration-300 transform hover:scale-105 shadow-lg",children:"Continue to Next Step"})}),t==="recommendation"&&c.jsxs("div",{className:"text-center mb-6",children:[c.jsx("button",{onClick:wa,className:"bg-green-500 hover:bg-green-600 text-white font-semibold py-3 px-6 rounded-lg transition-all duration-300 transform hover:scale-105 shadow-lg",children:"Finish Study"}),w.length>0&&c.jsxs("div",{className:"mt-4 p-4 bg-red-900 border border-red-500 rounded-lg",children:[c.jsx("p",{className:"text-red-400 font-semibold mb-2",children:"Please complete all ratings before finishing the study."}),c.jsxs("p",{className:"text-red-300 text-sm",children:["Missing ratings for ",w.length," movie(s). Movies with incomplete ratings are highlighted with red borders below."]})]})]})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:s.map(x=>{const j=$i(x.id),R=w.includes(x.id);return c.jsx("div",{className:`${R?"ring-2 ring-red-500 rounded-xl":""}`,children:c.jsx(Dm,{movie:x,rating:j.rating,onRatingChange:O=>{pn(x.id,O),E(I=>I.filter($=>$!==x.id))},showAdditionalQuestions:t==="recommendation",diversityRating:j.diversity||-1,noveltyRating:j.novelty||-1,serendipityRating:j.serendipity||-1,onDiversityChange:O=>{Ai(x.id,"diversity",O),E(I=>I.filter($=>$!==x.id))},onNoveltyChange:O=>{Ai(x.id,"novelty",O),E(I=>I.filter($=>$!==x.id))},onSerendipityChange:O=>{Ai(x.id,"serendipity",O),E(I=>I.filter($=>$!==x.id))},onTrailerStart:M,onTrailerEnd:X})},x.id)})}),t==="initial"&&c.jsxs("div",{className:"text-center mt-12",children:[c.jsxs("p",{className:"text-gray-400 text-lg mb-4",children:["Rate at least ",_," movies to get personalized recommendations"]}),c.jsxs("p",{className:"text-amber-400 text-sm",children:[nr(),"/",_," minimum ratings completed"]})]})]})}),c.jsx(Wm,{isOpen:k,onModifyRatings:Hh,onFinish:Wh})]})}ih(document.getElementById("root")).render(c.jsx(U.StrictMode,{children:c.jsx(g0,{})}));
