(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Be=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Wh(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var Hu={exports:{}},ls={},Vu={exports:{}},U={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qr=Symbol.for("react.element"),Hh=Symbol.for("react.portal"),Vh=Symbol.for("react.fragment"),qh=Symbol.for("react.strict_mode"),Kh=Symbol.for("react.profiler"),Gh=Symbol.for("react.provider"),Qh=Symbol.for("react.context"),Jh=Symbol.for("react.forward_ref"),Yh=Symbol.for("react.suspense"),Xh=Symbol.for("react.memo"),Zh=Symbol.for("react.lazy"),ga=Symbol.iterator;function ef(t){return t===null||typeof t!="object"?null:(t=ga&&t[ga]||t["@@iterator"],typeof t=="function"?t:null)}var qu={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ku=Object.assign,Gu={};function Gn(t,e,n){this.props=t,this.context=e,this.refs=Gu,this.updater=n||qu}Gn.prototype.isReactComponent={};Gn.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Gn.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Qu(){}Qu.prototype=Gn.prototype;function pl(t,e,n){this.props=t,this.context=e,this.refs=Gu,this.updater=n||qu}var ml=pl.prototype=new Qu;ml.constructor=pl;Ku(ml,Gn.prototype);ml.isPureReactComponent=!0;var va=Array.isArray,Ju=Object.prototype.hasOwnProperty,gl={current:null},Yu={key:!0,ref:!0,__self:!0,__source:!0};function Xu(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)Ju.call(e,r)&&!Yu.hasOwnProperty(r)&&(i[r]=e[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var a=Array(l),u=0;u<l;u++)a[u]=arguments[u+2];i.children=a}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:qr,type:t,key:s,ref:o,props:i,_owner:gl.current}}function tf(t,e){return{$$typeof:qr,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function vl(t){return typeof t=="object"&&t!==null&&t.$$typeof===qr}function nf(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var ya=/\/+/g;function Os(t,e){return typeof t=="object"&&t!==null&&t.key!=null?nf(""+t.key):e.toString(36)}function Si(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case qr:case Hh:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Os(o,0):r,va(i)?(n="",t!=null&&(n=t.replace(ya,"$&/")+"/"),Si(i,e,n,"",function(u){return u})):i!=null&&(vl(i)&&(i=tf(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(ya,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",va(t))for(var l=0;l<t.length;l++){s=t[l];var a=r+Os(s,l);o+=Si(s,e,n,a,i)}else if(a=ef(t),typeof a=="function")for(t=a.call(t),l=0;!(s=t.next()).done;)s=s.value,a=r+Os(s,l++),o+=Si(s,e,n,a,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function ei(t,e,n){if(t==null)return t;var r=[],i=0;return Si(t,r,"","",function(s){return e.call(n,s,i++)}),r}function rf(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Se={current:null},ji={transition:null},sf={ReactCurrentDispatcher:Se,ReactCurrentBatchConfig:ji,ReactCurrentOwner:gl};function Zu(){throw Error("act(...) is not supported in production builds of React.")}U.Children={map:ei,forEach:function(t,e,n){ei(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return ei(t,function(){e++}),e},toArray:function(t){return ei(t,function(e){return e})||[]},only:function(t){if(!vl(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};U.Component=Gn;U.Fragment=Vh;U.Profiler=Kh;U.PureComponent=pl;U.StrictMode=qh;U.Suspense=Yh;U.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sf;U.act=Zu;U.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Ku({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=gl.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(a in e)Ju.call(e,a)&&!Yu.hasOwnProperty(a)&&(r[a]=e[a]===void 0&&l!==void 0?l[a]:e[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){l=Array(a);for(var u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:qr,type:t.type,key:i,ref:s,props:r,_owner:o}};U.createContext=function(t){return t={$$typeof:Qh,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Gh,_context:t},t.Consumer=t};U.createElement=Xu;U.createFactory=function(t){var e=Xu.bind(null,t);return e.type=t,e};U.createRef=function(){return{current:null}};U.forwardRef=function(t){return{$$typeof:Jh,render:t}};U.isValidElement=vl;U.lazy=function(t){return{$$typeof:Zh,_payload:{_status:-1,_result:t},_init:rf}};U.memo=function(t,e){return{$$typeof:Xh,type:t,compare:e===void 0?null:e}};U.startTransition=function(t){var e=ji.transition;ji.transition={};try{t()}finally{ji.transition=e}};U.unstable_act=Zu;U.useCallback=function(t,e){return Se.current.useCallback(t,e)};U.useContext=function(t){return Se.current.useContext(t)};U.useDebugValue=function(){};U.useDeferredValue=function(t){return Se.current.useDeferredValue(t)};U.useEffect=function(t,e){return Se.current.useEffect(t,e)};U.useId=function(){return Se.current.useId()};U.useImperativeHandle=function(t,e,n){return Se.current.useImperativeHandle(t,e,n)};U.useInsertionEffect=function(t,e){return Se.current.useInsertionEffect(t,e)};U.useLayoutEffect=function(t,e){return Se.current.useLayoutEffect(t,e)};U.useMemo=function(t,e){return Se.current.useMemo(t,e)};U.useReducer=function(t,e,n){return Se.current.useReducer(t,e,n)};U.useRef=function(t){return Se.current.useRef(t)};U.useState=function(t){return Se.current.useState(t)};U.useSyncExternalStore=function(t,e,n){return Se.current.useSyncExternalStore(t,e,n)};U.useTransition=function(){return Se.current.useTransition()};U.version="18.3.1";Vu.exports=U;var F=Vu.exports;/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var of=F,lf=Symbol.for("react.element"),af=Symbol.for("react.fragment"),uf=Object.prototype.hasOwnProperty,cf=of.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,df={key:!0,ref:!0,__self:!0,__source:!0};function ec(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)uf.call(e,r)&&!df.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:lf,type:t,key:s,ref:o,props:i,_owner:cf.current}}ls.Fragment=af;ls.jsx=ec;ls.jsxs=ec;Hu.exports=ls;var c=Hu.exports,tc={exports:{}},Le={},nc={exports:{}},rc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(N,$){var M=N.length;N.push($);e:for(;0<M;){var Z=M-1>>>1,q=N[Z];if(0<i(q,$))N[Z]=$,N[M]=q,M=Z;else break e}}function n(N){return N.length===0?null:N[0]}function r(N){if(N.length===0)return null;var $=N[0],M=N.pop();if(M!==$){N[0]=M;e:for(var Z=0,q=N.length,Kt=q>>>1;Z<Kt;){var ot=2*(Z+1)-1,er=N[ot],lt=ot+1,kt=N[lt];if(0>i(er,M))lt<q&&0>i(kt,er)?(N[Z]=kt,N[lt]=M,Z=lt):(N[Z]=er,N[ot]=M,Z=ot);else if(lt<q&&0>i(kt,M))N[Z]=kt,N[lt]=M,Z=lt;else break e}}return $}function i(N,$){var M=N.sortIndex-$.sortIndex;return M!==0?M:N.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var a=[],u=[],d=1,h=null,f=3,y=!1,w=!1,v=!1,k=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(N){for(var $=n(u);$!==null;){if($.callback===null)r(u);else if($.startTime<=N)r(u),$.sortIndex=$.expirationTime,e(a,$);else break;$=n(u)}}function _(N){if(v=!1,g(N),!w)if(n(a)!==null)w=!0,pn(b);else{var $=n(u);$!==null&&Zn(_,$.startTime-N)}}function b(N,$){w=!1,v&&(v=!1,m(P),P=-1),y=!0;var M=f;try{for(g($),h=n(a);h!==null&&(!(h.expirationTime>$)||N&&!ye());){var Z=h.callback;if(typeof Z=="function"){h.callback=null,f=h.priorityLevel;var q=Z(h.expirationTime<=$);$=t.unstable_now(),typeof q=="function"?h.callback=q:h===n(a)&&r(a),g($)}else r(a);h=n(a)}if(h!==null)var Kt=!0;else{var ot=n(u);ot!==null&&Zn(_,ot.startTime-$),Kt=!1}return Kt}finally{h=null,f=M,y=!1}}var E=!1,C=null,P=-1,Q=5,z=-1;function ye(){return!(t.unstable_now()-z<Q)}function xt(){if(C!==null){var N=t.unstable_now();z=N;var $=!0;try{$=C(!0,N)}finally{$?st():(E=!1,C=null)}}else E=!1}var st;if(typeof p=="function")st=function(){p(xt)};else if(typeof MessageChannel<"u"){var fn=new MessageChannel,Ps=fn.port2;fn.port1.onmessage=xt,st=function(){Ps.postMessage(null)}}else st=function(){k(xt,0)};function pn(N){C=N,E||(E=!0,st())}function Zn(N,$){P=k(function(){N(t.unstable_now())},$)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(N){N.callback=null},t.unstable_continueExecution=function(){w||y||(w=!0,pn(b))},t.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Q=0<N?Math.floor(1e3/N):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(a)},t.unstable_next=function(N){switch(f){case 1:case 2:case 3:var $=3;break;default:$=f}var M=f;f=$;try{return N()}finally{f=M}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(N,$){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var M=f;f=N;try{return $()}finally{f=M}},t.unstable_scheduleCallback=function(N,$,M){var Z=t.unstable_now();switch(typeof M=="object"&&M!==null?(M=M.delay,M=typeof M=="number"&&0<M?Z+M:Z):M=Z,N){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=M+q,N={id:d++,callback:$,priorityLevel:N,startTime:M,expirationTime:q,sortIndex:-1},M>Z?(N.sortIndex=M,e(u,N),n(a)===null&&N===n(u)&&(v?(m(P),P=-1):v=!0,Zn(_,M-Z))):(N.sortIndex=q,e(a,N),w||y||(w=!0,pn(b))),N},t.unstable_shouldYield=ye,t.unstable_wrapCallback=function(N){var $=f;return function(){var M=f;f=$;try{return N.apply(this,arguments)}finally{f=M}}}})(rc);nc.exports=rc;var hf=nc.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ff=F,Ae=hf;function S(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ic=new Set,Nr={};function cn(t,e){Un(t,e),Un(t+"Capture",e)}function Un(t,e){for(Nr[t]=e,t=0;t<e.length;t++)ic.add(e[t])}var gt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),fo=Object.prototype.hasOwnProperty,pf=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,wa={},_a={};function mf(t){return fo.call(_a,t)?!0:fo.call(wa,t)?!1:pf.test(t)?_a[t]=!0:(wa[t]=!0,!1)}function gf(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function vf(t,e,n,r){if(e===null||typeof e>"u"||gf(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function je(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var fe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){fe[t]=new je(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];fe[e]=new je(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){fe[t]=new je(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){fe[t]=new je(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){fe[t]=new je(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){fe[t]=new je(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){fe[t]=new je(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){fe[t]=new je(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){fe[t]=new je(t,5,!1,t.toLowerCase(),null,!1,!1)});var yl=/[\-:]([a-z])/g;function wl(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(yl,wl);fe[e]=new je(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(yl,wl);fe[e]=new je(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(yl,wl);fe[e]=new je(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){fe[t]=new je(t,1,!1,t.toLowerCase(),null,!1,!1)});fe.xlinkHref=new je("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){fe[t]=new je(t,1,!1,t.toLowerCase(),null,!0,!0)});function _l(t,e,n,r){var i=fe.hasOwnProperty(e)?fe[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(vf(e,n,i,r)&&(n=null),r||i===null?mf(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var _t=ff.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ti=Symbol.for("react.element"),xn=Symbol.for("react.portal"),kn=Symbol.for("react.fragment"),xl=Symbol.for("react.strict_mode"),po=Symbol.for("react.profiler"),sc=Symbol.for("react.provider"),oc=Symbol.for("react.context"),kl=Symbol.for("react.forward_ref"),mo=Symbol.for("react.suspense"),go=Symbol.for("react.suspense_list"),Sl=Symbol.for("react.memo"),bt=Symbol.for("react.lazy"),lc=Symbol.for("react.offscreen"),xa=Symbol.iterator;function nr(t){return t===null||typeof t!="object"?null:(t=xa&&t[xa]||t["@@iterator"],typeof t=="function"?t:null)}var ne=Object.assign,Is;function dr(t){if(Is===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Is=e&&e[1]||""}return`
`+Is+t}var $s=!1;function As(t,e){if(!t||$s)return"";$s=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,l=s.length-1;1<=o&&0<=l&&i[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==s[l]){var a=`
`+i[o].replace(" at new "," at ");return t.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",t.displayName)),a}while(1<=o&&0<=l);break}}}finally{$s=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?dr(t):""}function yf(t){switch(t.tag){case 5:return dr(t.type);case 16:return dr("Lazy");case 13:return dr("Suspense");case 19:return dr("SuspenseList");case 0:case 2:case 15:return t=As(t.type,!1),t;case 11:return t=As(t.type.render,!1),t;case 1:return t=As(t.type,!0),t;default:return""}}function vo(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case kn:return"Fragment";case xn:return"Portal";case po:return"Profiler";case xl:return"StrictMode";case mo:return"Suspense";case go:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case oc:return(t.displayName||"Context")+".Consumer";case sc:return(t._context.displayName||"Context")+".Provider";case kl:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Sl:return e=t.displayName||null,e!==null?e:vo(t.type)||"Memo";case bt:e=t._payload,t=t._init;try{return vo(t(e))}catch{}}return null}function wf(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return vo(e);case 8:return e===xl?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ft(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ac(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function _f(t){var e=ac(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ni(t){t._valueTracker||(t._valueTracker=_f(t))}function uc(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=ac(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Ai(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function yo(t,e){var n=e.checked;return ne({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function ka(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ft(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function cc(t,e){e=e.checked,e!=null&&_l(t,"checked",e,!1)}function wo(t,e){cc(t,e);var n=Ft(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?_o(t,e.type,n):e.hasOwnProperty("defaultValue")&&_o(t,e.type,Ft(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Sa(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function _o(t,e,n){(e!=="number"||Ai(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var hr=Array.isArray;function In(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ft(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function xo(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(S(91));return ne({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function ja(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(S(92));if(hr(n)){if(1<n.length)throw Error(S(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ft(n)}}function dc(t,e){var n=Ft(e.value),r=Ft(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function ba(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function hc(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ko(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?hc(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ri,fc=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ri=ri||document.createElement("div"),ri.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ri.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Tr(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var gr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},xf=["Webkit","ms","Moz","O"];Object.keys(gr).forEach(function(t){xf.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),gr[e]=gr[t]})});function pc(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||gr.hasOwnProperty(t)&&gr[t]?(""+e).trim():e+"px"}function mc(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=pc(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var kf=ne({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function So(t,e){if(e){if(kf[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(S(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(S(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(S(61))}if(e.style!=null&&typeof e.style!="object")throw Error(S(62))}}function jo(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bo=null;function jl(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Eo=null,$n=null,An=null;function Ea(t){if(t=Qr(t)){if(typeof Eo!="function")throw Error(S(280));var e=t.stateNode;e&&(e=hs(e),Eo(t.stateNode,t.type,e))}}function gc(t){$n?An?An.push(t):An=[t]:$n=t}function vc(){if($n){var t=$n,e=An;if(An=$n=null,Ea(t),e)for(t=0;t<e.length;t++)Ea(e[t])}}function yc(t,e){return t(e)}function wc(){}var Ls=!1;function _c(t,e,n){if(Ls)return t(e,n);Ls=!0;try{return yc(t,e,n)}finally{Ls=!1,($n!==null||An!==null)&&(wc(),vc())}}function Pr(t,e){var n=t.stateNode;if(n===null)return null;var r=hs(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(S(231,e,typeof n));return n}var Co=!1;if(gt)try{var rr={};Object.defineProperty(rr,"passive",{get:function(){Co=!0}}),window.addEventListener("test",rr,rr),window.removeEventListener("test",rr,rr)}catch{Co=!1}function Sf(t,e,n,r,i,s,o,l,a){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var vr=!1,Li=null,Mi=!1,No=null,jf={onError:function(t){vr=!0,Li=t}};function bf(t,e,n,r,i,s,o,l,a){vr=!1,Li=null,Sf.apply(jf,arguments)}function Ef(t,e,n,r,i,s,o,l,a){if(bf.apply(this,arguments),vr){if(vr){var u=Li;vr=!1,Li=null}else throw Error(S(198));Mi||(Mi=!0,No=u)}}function dn(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function xc(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Ca(t){if(dn(t)!==t)throw Error(S(188))}function Cf(t){var e=t.alternate;if(!e){if(e=dn(t),e===null)throw Error(S(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Ca(i),t;if(s===r)return Ca(i),e;s=s.sibling}throw Error(S(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o)throw Error(S(189))}}if(n.alternate!==r)throw Error(S(190))}if(n.tag!==3)throw Error(S(188));return n.stateNode.current===n?t:e}function kc(t){return t=Cf(t),t!==null?Sc(t):null}function Sc(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Sc(t);if(e!==null)return e;t=t.sibling}return null}var jc=Ae.unstable_scheduleCallback,Na=Ae.unstable_cancelCallback,Nf=Ae.unstable_shouldYield,Tf=Ae.unstable_requestPaint,ie=Ae.unstable_now,Pf=Ae.unstable_getCurrentPriorityLevel,bl=Ae.unstable_ImmediatePriority,bc=Ae.unstable_UserBlockingPriority,zi=Ae.unstable_NormalPriority,Rf=Ae.unstable_LowPriority,Ec=Ae.unstable_IdlePriority,as=null,rt=null;function Of(t){if(rt&&typeof rt.onCommitFiberRoot=="function")try{rt.onCommitFiberRoot(as,t,void 0,(t.current.flags&128)===128)}catch{}}var Ye=Math.clz32?Math.clz32:Af,If=Math.log,$f=Math.LN2;function Af(t){return t>>>=0,t===0?32:31-(If(t)/$f|0)|0}var ii=64,si=4194304;function fr(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Di(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~i;l!==0?r=fr(l):(s&=o,s!==0&&(r=fr(s)))}else o=n&~i,o!==0?r=fr(o):s!==0&&(r=fr(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Ye(e),i=1<<n,r|=t[n],e&=~i;return r}function Lf(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Mf(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Ye(s),l=1<<o,a=i[o];a===-1?(!(l&n)||l&r)&&(i[o]=Lf(l,e)):a<=e&&(t.expiredLanes|=l),s&=~l}}function To(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Cc(){var t=ii;return ii<<=1,!(ii&4194240)&&(ii=64),t}function Ms(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Kr(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Ye(e),t[e]=n}function zf(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Ye(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function El(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Ye(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var W=0;function Nc(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Tc,Cl,Pc,Rc,Oc,Po=!1,oi=[],It=null,$t=null,At=null,Rr=new Map,Or=new Map,Nt=[],Df="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ta(t,e){switch(t){case"focusin":case"focusout":It=null;break;case"dragenter":case"dragleave":$t=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":Rr.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Or.delete(e.pointerId)}}function ir(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Qr(e),e!==null&&Cl(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function Uf(t,e,n,r,i){switch(e){case"focusin":return It=ir(It,t,e,n,r,i),!0;case"dragenter":return $t=ir($t,t,e,n,r,i),!0;case"mouseover":return At=ir(At,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Rr.set(s,ir(Rr.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Or.set(s,ir(Or.get(s)||null,t,e,n,r,i)),!0}return!1}function Ic(t){var e=Zt(t.target);if(e!==null){var n=dn(e);if(n!==null){if(e=n.tag,e===13){if(e=xc(n),e!==null){t.blockedOn=e,Oc(t.priority,function(){Pc(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function bi(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Ro(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);bo=r,n.target.dispatchEvent(r),bo=null}else return e=Qr(n),e!==null&&Cl(e),t.blockedOn=n,!1;e.shift()}return!0}function Pa(t,e,n){bi(t)&&n.delete(e)}function Ff(){Po=!1,It!==null&&bi(It)&&(It=null),$t!==null&&bi($t)&&($t=null),At!==null&&bi(At)&&(At=null),Rr.forEach(Pa),Or.forEach(Pa)}function sr(t,e){t.blockedOn===e&&(t.blockedOn=null,Po||(Po=!0,Ae.unstable_scheduleCallback(Ae.unstable_NormalPriority,Ff)))}function Ir(t){function e(i){return sr(i,t)}if(0<oi.length){sr(oi[0],t);for(var n=1;n<oi.length;n++){var r=oi[n];r.blockedOn===t&&(r.blockedOn=null)}}for(It!==null&&sr(It,t),$t!==null&&sr($t,t),At!==null&&sr(At,t),Rr.forEach(e),Or.forEach(e),n=0;n<Nt.length;n++)r=Nt[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Nt.length&&(n=Nt[0],n.blockedOn===null);)Ic(n),n.blockedOn===null&&Nt.shift()}var Ln=_t.ReactCurrentBatchConfig,Ui=!0;function Bf(t,e,n,r){var i=W,s=Ln.transition;Ln.transition=null;try{W=1,Nl(t,e,n,r)}finally{W=i,Ln.transition=s}}function Wf(t,e,n,r){var i=W,s=Ln.transition;Ln.transition=null;try{W=4,Nl(t,e,n,r)}finally{W=i,Ln.transition=s}}function Nl(t,e,n,r){if(Ui){var i=Ro(t,e,n,r);if(i===null)Ks(t,e,r,Fi,n),Ta(t,r);else if(Uf(i,t,e,n,r))r.stopPropagation();else if(Ta(t,r),e&4&&-1<Df.indexOf(t)){for(;i!==null;){var s=Qr(i);if(s!==null&&Tc(s),s=Ro(t,e,n,r),s===null&&Ks(t,e,r,Fi,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Ks(t,e,r,null,n)}}var Fi=null;function Ro(t,e,n,r){if(Fi=null,t=jl(r),t=Zt(t),t!==null)if(e=dn(t),e===null)t=null;else if(n=e.tag,n===13){if(t=xc(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Fi=t,null}function $c(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Pf()){case bl:return 1;case bc:return 4;case zi:case Rf:return 16;case Ec:return 536870912;default:return 16}default:return 16}}var Rt=null,Tl=null,Ei=null;function Ac(){if(Ei)return Ei;var t,e=Tl,n=e.length,r,i="value"in Rt?Rt.value:Rt.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Ei=i.slice(t,1<r?1-r:void 0)}function Ci(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function li(){return!0}function Ra(){return!1}function Me(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?li:Ra,this.isPropagationStopped=Ra,this}return ne(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=li)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=li)},persist:function(){},isPersistent:li}),e}var Qn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Pl=Me(Qn),Gr=ne({},Qn,{view:0,detail:0}),Hf=Me(Gr),zs,Ds,or,us=ne({},Gr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Rl,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==or&&(or&&t.type==="mousemove"?(zs=t.screenX-or.screenX,Ds=t.screenY-or.screenY):Ds=zs=0,or=t),zs)},movementY:function(t){return"movementY"in t?t.movementY:Ds}}),Oa=Me(us),Vf=ne({},us,{dataTransfer:0}),qf=Me(Vf),Kf=ne({},Gr,{relatedTarget:0}),Us=Me(Kf),Gf=ne({},Qn,{animationName:0,elapsedTime:0,pseudoElement:0}),Qf=Me(Gf),Jf=ne({},Qn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Yf=Me(Jf),Xf=ne({},Qn,{data:0}),Ia=Me(Xf),Zf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ep={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},tp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function np(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=tp[t])?!!e[t]:!1}function Rl(){return np}var rp=ne({},Gr,{key:function(t){if(t.key){var e=Zf[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ci(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?ep[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Rl,charCode:function(t){return t.type==="keypress"?Ci(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ci(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ip=Me(rp),sp=ne({},us,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$a=Me(sp),op=ne({},Gr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Rl}),lp=Me(op),ap=ne({},Qn,{propertyName:0,elapsedTime:0,pseudoElement:0}),up=Me(ap),cp=ne({},us,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),dp=Me(cp),hp=[9,13,27,32],Ol=gt&&"CompositionEvent"in window,yr=null;gt&&"documentMode"in document&&(yr=document.documentMode);var fp=gt&&"TextEvent"in window&&!yr,Lc=gt&&(!Ol||yr&&8<yr&&11>=yr),Aa=" ",La=!1;function Mc(t,e){switch(t){case"keyup":return hp.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zc(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Sn=!1;function pp(t,e){switch(t){case"compositionend":return zc(e);case"keypress":return e.which!==32?null:(La=!0,Aa);case"textInput":return t=e.data,t===Aa&&La?null:t;default:return null}}function mp(t,e){if(Sn)return t==="compositionend"||!Ol&&Mc(t,e)?(t=Ac(),Ei=Tl=Rt=null,Sn=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Lc&&e.locale!=="ko"?null:e.data;default:return null}}var gp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ma(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!gp[t.type]:e==="textarea"}function Dc(t,e,n,r){gc(r),e=Bi(e,"onChange"),0<e.length&&(n=new Pl("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var wr=null,$r=null;function vp(t){Jc(t,0)}function cs(t){var e=En(t);if(uc(e))return t}function yp(t,e){if(t==="change")return e}var Uc=!1;if(gt){var Fs;if(gt){var Bs="oninput"in document;if(!Bs){var za=document.createElement("div");za.setAttribute("oninput","return;"),Bs=typeof za.oninput=="function"}Fs=Bs}else Fs=!1;Uc=Fs&&(!document.documentMode||9<document.documentMode)}function Da(){wr&&(wr.detachEvent("onpropertychange",Fc),$r=wr=null)}function Fc(t){if(t.propertyName==="value"&&cs($r)){var e=[];Dc(e,$r,t,jl(t)),_c(vp,e)}}function wp(t,e,n){t==="focusin"?(Da(),wr=e,$r=n,wr.attachEvent("onpropertychange",Fc)):t==="focusout"&&Da()}function _p(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return cs($r)}function xp(t,e){if(t==="click")return cs(e)}function kp(t,e){if(t==="input"||t==="change")return cs(e)}function Sp(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ze=typeof Object.is=="function"?Object.is:Sp;function Ar(t,e){if(Ze(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!fo.call(e,i)||!Ze(t[i],e[i]))return!1}return!0}function Ua(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Fa(t,e){var n=Ua(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Ua(n)}}function Bc(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Bc(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Wc(){for(var t=window,e=Ai();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Ai(t.document)}return e}function Il(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function jp(t){var e=Wc(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Bc(n.ownerDocument.documentElement,n)){if(r!==null&&Il(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=Fa(n,s);var o=Fa(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var bp=gt&&"documentMode"in document&&11>=document.documentMode,jn=null,Oo=null,_r=null,Io=!1;function Ba(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Io||jn==null||jn!==Ai(r)||(r=jn,"selectionStart"in r&&Il(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),_r&&Ar(_r,r)||(_r=r,r=Bi(Oo,"onSelect"),0<r.length&&(e=new Pl("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=jn)))}function ai(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var bn={animationend:ai("Animation","AnimationEnd"),animationiteration:ai("Animation","AnimationIteration"),animationstart:ai("Animation","AnimationStart"),transitionend:ai("Transition","TransitionEnd")},Ws={},Hc={};gt&&(Hc=document.createElement("div").style,"AnimationEvent"in window||(delete bn.animationend.animation,delete bn.animationiteration.animation,delete bn.animationstart.animation),"TransitionEvent"in window||delete bn.transitionend.transition);function ds(t){if(Ws[t])return Ws[t];if(!bn[t])return t;var e=bn[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Hc)return Ws[t]=e[n];return t}var Vc=ds("animationend"),qc=ds("animationiteration"),Kc=ds("animationstart"),Gc=ds("transitionend"),Qc=new Map,Wa="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Wt(t,e){Qc.set(t,e),cn(e,[t])}for(var Hs=0;Hs<Wa.length;Hs++){var Vs=Wa[Hs],Ep=Vs.toLowerCase(),Cp=Vs[0].toUpperCase()+Vs.slice(1);Wt(Ep,"on"+Cp)}Wt(Vc,"onAnimationEnd");Wt(qc,"onAnimationIteration");Wt(Kc,"onAnimationStart");Wt("dblclick","onDoubleClick");Wt("focusin","onFocus");Wt("focusout","onBlur");Wt(Gc,"onTransitionEnd");Un("onMouseEnter",["mouseout","mouseover"]);Un("onMouseLeave",["mouseout","mouseover"]);Un("onPointerEnter",["pointerout","pointerover"]);Un("onPointerLeave",["pointerout","pointerover"]);cn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));cn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));cn("onBeforeInput",["compositionend","keypress","textInput","paste"]);cn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));cn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));cn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Np=new Set("cancel close invalid load scroll toggle".split(" ").concat(pr));function Ha(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Ef(r,e,void 0,t),t.currentTarget=null}function Jc(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],a=l.instance,u=l.currentTarget;if(l=l.listener,a!==s&&i.isPropagationStopped())break e;Ha(i,l,u),s=a}else for(o=0;o<r.length;o++){if(l=r[o],a=l.instance,u=l.currentTarget,l=l.listener,a!==s&&i.isPropagationStopped())break e;Ha(i,l,u),s=a}}}if(Mi)throw t=No,Mi=!1,No=null,t}function K(t,e){var n=e[zo];n===void 0&&(n=e[zo]=new Set);var r=t+"__bubble";n.has(r)||(Yc(e,t,2,!1),n.add(r))}function qs(t,e,n){var r=0;e&&(r|=4),Yc(n,t,r,e)}var ui="_reactListening"+Math.random().toString(36).slice(2);function Lr(t){if(!t[ui]){t[ui]=!0,ic.forEach(function(n){n!=="selectionchange"&&(Np.has(n)||qs(n,!1,t),qs(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[ui]||(e[ui]=!0,qs("selectionchange",!1,e))}}function Yc(t,e,n,r){switch($c(e)){case 1:var i=Bf;break;case 4:i=Wf;break;default:i=Nl}n=i.bind(null,e,n,t),i=void 0,!Co||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Ks(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var a=o.tag;if((a===3||a===4)&&(a=o.stateNode.containerInfo,a===i||a.nodeType===8&&a.parentNode===i))return;o=o.return}for(;l!==null;){if(o=Zt(l),o===null)return;if(a=o.tag,a===5||a===6){r=s=o;continue e}l=l.parentNode}}r=r.return}_c(function(){var u=s,d=jl(n),h=[];e:{var f=Qc.get(t);if(f!==void 0){var y=Pl,w=t;switch(t){case"keypress":if(Ci(n)===0)break e;case"keydown":case"keyup":y=ip;break;case"focusin":w="focus",y=Us;break;case"focusout":w="blur",y=Us;break;case"beforeblur":case"afterblur":y=Us;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=Oa;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=qf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=lp;break;case Vc:case qc:case Kc:y=Qf;break;case Gc:y=up;break;case"scroll":y=Hf;break;case"wheel":y=dp;break;case"copy":case"cut":case"paste":y=Yf;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=$a}var v=(e&4)!==0,k=!v&&t==="scroll",m=v?f!==null?f+"Capture":null:f;v=[];for(var p=u,g;p!==null;){g=p;var _=g.stateNode;if(g.tag===5&&_!==null&&(g=_,m!==null&&(_=Pr(p,m),_!=null&&v.push(Mr(p,_,g)))),k)break;p=p.return}0<v.length&&(f=new y(f,w,null,n,d),h.push({event:f,listeners:v}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",f&&n!==bo&&(w=n.relatedTarget||n.fromElement)&&(Zt(w)||w[vt]))break e;if((y||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,y?(w=n.relatedTarget||n.toElement,y=u,w=w?Zt(w):null,w!==null&&(k=dn(w),w!==k||w.tag!==5&&w.tag!==6)&&(w=null)):(y=null,w=u),y!==w)){if(v=Oa,_="onMouseLeave",m="onMouseEnter",p="mouse",(t==="pointerout"||t==="pointerover")&&(v=$a,_="onPointerLeave",m="onPointerEnter",p="pointer"),k=y==null?f:En(y),g=w==null?f:En(w),f=new v(_,p+"leave",y,n,d),f.target=k,f.relatedTarget=g,_=null,Zt(d)===u&&(v=new v(m,p+"enter",w,n,d),v.target=g,v.relatedTarget=k,_=v),k=_,y&&w)t:{for(v=y,m=w,p=0,g=v;g;g=mn(g))p++;for(g=0,_=m;_;_=mn(_))g++;for(;0<p-g;)v=mn(v),p--;for(;0<g-p;)m=mn(m),g--;for(;p--;){if(v===m||m!==null&&v===m.alternate)break t;v=mn(v),m=mn(m)}v=null}else v=null;y!==null&&Va(h,f,y,v,!1),w!==null&&k!==null&&Va(h,k,w,v,!0)}}e:{if(f=u?En(u):window,y=f.nodeName&&f.nodeName.toLowerCase(),y==="select"||y==="input"&&f.type==="file")var b=yp;else if(Ma(f))if(Uc)b=kp;else{b=_p;var E=wp}else(y=f.nodeName)&&y.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(b=xp);if(b&&(b=b(t,u))){Dc(h,b,n,d);break e}E&&E(t,f,u),t==="focusout"&&(E=f._wrapperState)&&E.controlled&&f.type==="number"&&_o(f,"number",f.value)}switch(E=u?En(u):window,t){case"focusin":(Ma(E)||E.contentEditable==="true")&&(jn=E,Oo=u,_r=null);break;case"focusout":_r=Oo=jn=null;break;case"mousedown":Io=!0;break;case"contextmenu":case"mouseup":case"dragend":Io=!1,Ba(h,n,d);break;case"selectionchange":if(bp)break;case"keydown":case"keyup":Ba(h,n,d)}var C;if(Ol)e:{switch(t){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else Sn?Mc(t,n)&&(P="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(P="onCompositionStart");P&&(Lc&&n.locale!=="ko"&&(Sn||P!=="onCompositionStart"?P==="onCompositionEnd"&&Sn&&(C=Ac()):(Rt=d,Tl="value"in Rt?Rt.value:Rt.textContent,Sn=!0)),E=Bi(u,P),0<E.length&&(P=new Ia(P,t,null,n,d),h.push({event:P,listeners:E}),C?P.data=C:(C=zc(n),C!==null&&(P.data=C)))),(C=fp?pp(t,n):mp(t,n))&&(u=Bi(u,"onBeforeInput"),0<u.length&&(d=new Ia("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:u}),d.data=C))}Jc(h,e)})}function Mr(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Bi(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Pr(t,n),s!=null&&r.unshift(Mr(t,s,i)),s=Pr(t,e),s!=null&&r.push(Mr(t,s,i))),t=t.return}return r}function mn(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Va(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var l=n,a=l.alternate,u=l.stateNode;if(a!==null&&a===r)break;l.tag===5&&u!==null&&(l=u,i?(a=Pr(n,s),a!=null&&o.unshift(Mr(n,a,l))):i||(a=Pr(n,s),a!=null&&o.push(Mr(n,a,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var Tp=/\r\n?/g,Pp=/\u0000|\uFFFD/g;function qa(t){return(typeof t=="string"?t:""+t).replace(Tp,`
`).replace(Pp,"")}function ci(t,e,n){if(e=qa(e),qa(t)!==e&&n)throw Error(S(425))}function Wi(){}var $o=null,Ao=null;function Lo(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Mo=typeof setTimeout=="function"?setTimeout:void 0,Rp=typeof clearTimeout=="function"?clearTimeout:void 0,Ka=typeof Promise=="function"?Promise:void 0,Op=typeof queueMicrotask=="function"?queueMicrotask:typeof Ka<"u"?function(t){return Ka.resolve(null).then(t).catch(Ip)}:Mo;function Ip(t){setTimeout(function(){throw t})}function Gs(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Ir(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Ir(e)}function Lt(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Ga(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Jn=Math.random().toString(36).slice(2),nt="__reactFiber$"+Jn,zr="__reactProps$"+Jn,vt="__reactContainer$"+Jn,zo="__reactEvents$"+Jn,$p="__reactListeners$"+Jn,Ap="__reactHandles$"+Jn;function Zt(t){var e=t[nt];if(e)return e;for(var n=t.parentNode;n;){if(e=n[vt]||n[nt]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Ga(t);t!==null;){if(n=t[nt])return n;t=Ga(t)}return e}t=n,n=t.parentNode}return null}function Qr(t){return t=t[nt]||t[vt],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function En(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(S(33))}function hs(t){return t[zr]||null}var Do=[],Cn=-1;function Ht(t){return{current:t}}function G(t){0>Cn||(t.current=Do[Cn],Do[Cn]=null,Cn--)}function V(t,e){Cn++,Do[Cn]=t.current,t.current=e}var Bt={},ve=Ht(Bt),Te=Ht(!1),sn=Bt;function Fn(t,e){var n=t.type.contextTypes;if(!n)return Bt;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Pe(t){return t=t.childContextTypes,t!=null}function Hi(){G(Te),G(ve)}function Qa(t,e,n){if(ve.current!==Bt)throw Error(S(168));V(ve,e),V(Te,n)}function Xc(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(S(108,wf(t)||"Unknown",i));return ne({},n,r)}function Vi(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Bt,sn=ve.current,V(ve,t),V(Te,Te.current),!0}function Ja(t,e,n){var r=t.stateNode;if(!r)throw Error(S(169));n?(t=Xc(t,e,sn),r.__reactInternalMemoizedMergedChildContext=t,G(Te),G(ve),V(ve,t)):G(Te),V(Te,n)}var ht=null,fs=!1,Qs=!1;function Zc(t){ht===null?ht=[t]:ht.push(t)}function Lp(t){fs=!0,Zc(t)}function Vt(){if(!Qs&&ht!==null){Qs=!0;var t=0,e=W;try{var n=ht;for(W=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}ht=null,fs=!1}catch(i){throw ht!==null&&(ht=ht.slice(t+1)),jc(bl,Vt),i}finally{W=e,Qs=!1}}return null}var Nn=[],Tn=0,qi=null,Ki=0,ze=[],De=0,on=null,ft=1,pt="";function Qt(t,e){Nn[Tn++]=Ki,Nn[Tn++]=qi,qi=t,Ki=e}function ed(t,e,n){ze[De++]=ft,ze[De++]=pt,ze[De++]=on,on=t;var r=ft;t=pt;var i=32-Ye(r)-1;r&=~(1<<i),n+=1;var s=32-Ye(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,ft=1<<32-Ye(e)+i|n<<i|r,pt=s+t}else ft=1<<s|n<<i|r,pt=t}function $l(t){t.return!==null&&(Qt(t,1),ed(t,1,0))}function Al(t){for(;t===qi;)qi=Nn[--Tn],Nn[Tn]=null,Ki=Nn[--Tn],Nn[Tn]=null;for(;t===on;)on=ze[--De],ze[De]=null,pt=ze[--De],ze[De]=null,ft=ze[--De],ze[De]=null}var $e=null,Ie=null,Y=!1,Je=null;function td(t,e){var n=Ue(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Ya(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,$e=t,Ie=Lt(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,$e=t,Ie=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=on!==null?{id:ft,overflow:pt}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Ue(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,$e=t,Ie=null,!0):!1;default:return!1}}function Uo(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Fo(t){if(Y){var e=Ie;if(e){var n=e;if(!Ya(t,e)){if(Uo(t))throw Error(S(418));e=Lt(n.nextSibling);var r=$e;e&&Ya(t,e)?td(r,n):(t.flags=t.flags&-4097|2,Y=!1,$e=t)}}else{if(Uo(t))throw Error(S(418));t.flags=t.flags&-4097|2,Y=!1,$e=t}}}function Xa(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;$e=t}function di(t){if(t!==$e)return!1;if(!Y)return Xa(t),Y=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Lo(t.type,t.memoizedProps)),e&&(e=Ie)){if(Uo(t))throw nd(),Error(S(418));for(;e;)td(t,e),e=Lt(e.nextSibling)}if(Xa(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(S(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Ie=Lt(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Ie=null}}else Ie=$e?Lt(t.stateNode.nextSibling):null;return!0}function nd(){for(var t=Ie;t;)t=Lt(t.nextSibling)}function Bn(){Ie=$e=null,Y=!1}function Ll(t){Je===null?Je=[t]:Je.push(t)}var Mp=_t.ReactCurrentBatchConfig;function lr(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(S(309));var r=n.stateNode}if(!r)throw Error(S(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var l=i.refs;o===null?delete l[s]:l[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(S(284));if(!n._owner)throw Error(S(290,t))}return t}function hi(t,e){throw t=Object.prototype.toString.call(e),Error(S(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Za(t){var e=t._init;return e(t._payload)}function rd(t){function e(m,p){if(t){var g=m.deletions;g===null?(m.deletions=[p],m.flags|=16):g.push(p)}}function n(m,p){if(!t)return null;for(;p!==null;)e(m,p),p=p.sibling;return null}function r(m,p){for(m=new Map;p!==null;)p.key!==null?m.set(p.key,p):m.set(p.index,p),p=p.sibling;return m}function i(m,p){return m=Ut(m,p),m.index=0,m.sibling=null,m}function s(m,p,g){return m.index=g,t?(g=m.alternate,g!==null?(g=g.index,g<p?(m.flags|=2,p):g):(m.flags|=2,p)):(m.flags|=1048576,p)}function o(m){return t&&m.alternate===null&&(m.flags|=2),m}function l(m,p,g,_){return p===null||p.tag!==6?(p=no(g,m.mode,_),p.return=m,p):(p=i(p,g),p.return=m,p)}function a(m,p,g,_){var b=g.type;return b===kn?d(m,p,g.props.children,_,g.key):p!==null&&(p.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===bt&&Za(b)===p.type)?(_=i(p,g.props),_.ref=lr(m,p,g),_.return=m,_):(_=$i(g.type,g.key,g.props,null,m.mode,_),_.ref=lr(m,p,g),_.return=m,_)}function u(m,p,g,_){return p===null||p.tag!==4||p.stateNode.containerInfo!==g.containerInfo||p.stateNode.implementation!==g.implementation?(p=ro(g,m.mode,_),p.return=m,p):(p=i(p,g.children||[]),p.return=m,p)}function d(m,p,g,_,b){return p===null||p.tag!==7?(p=rn(g,m.mode,_,b),p.return=m,p):(p=i(p,g),p.return=m,p)}function h(m,p,g){if(typeof p=="string"&&p!==""||typeof p=="number")return p=no(""+p,m.mode,g),p.return=m,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case ti:return g=$i(p.type,p.key,p.props,null,m.mode,g),g.ref=lr(m,null,p),g.return=m,g;case xn:return p=ro(p,m.mode,g),p.return=m,p;case bt:var _=p._init;return h(m,_(p._payload),g)}if(hr(p)||nr(p))return p=rn(p,m.mode,g,null),p.return=m,p;hi(m,p)}return null}function f(m,p,g,_){var b=p!==null?p.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return b!==null?null:l(m,p,""+g,_);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case ti:return g.key===b?a(m,p,g,_):null;case xn:return g.key===b?u(m,p,g,_):null;case bt:return b=g._init,f(m,p,b(g._payload),_)}if(hr(g)||nr(g))return b!==null?null:d(m,p,g,_,null);hi(m,g)}return null}function y(m,p,g,_,b){if(typeof _=="string"&&_!==""||typeof _=="number")return m=m.get(g)||null,l(p,m,""+_,b);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case ti:return m=m.get(_.key===null?g:_.key)||null,a(p,m,_,b);case xn:return m=m.get(_.key===null?g:_.key)||null,u(p,m,_,b);case bt:var E=_._init;return y(m,p,g,E(_._payload),b)}if(hr(_)||nr(_))return m=m.get(g)||null,d(p,m,_,b,null);hi(p,_)}return null}function w(m,p,g,_){for(var b=null,E=null,C=p,P=p=0,Q=null;C!==null&&P<g.length;P++){C.index>P?(Q=C,C=null):Q=C.sibling;var z=f(m,C,g[P],_);if(z===null){C===null&&(C=Q);break}t&&C&&z.alternate===null&&e(m,C),p=s(z,p,P),E===null?b=z:E.sibling=z,E=z,C=Q}if(P===g.length)return n(m,C),Y&&Qt(m,P),b;if(C===null){for(;P<g.length;P++)C=h(m,g[P],_),C!==null&&(p=s(C,p,P),E===null?b=C:E.sibling=C,E=C);return Y&&Qt(m,P),b}for(C=r(m,C);P<g.length;P++)Q=y(C,m,P,g[P],_),Q!==null&&(t&&Q.alternate!==null&&C.delete(Q.key===null?P:Q.key),p=s(Q,p,P),E===null?b=Q:E.sibling=Q,E=Q);return t&&C.forEach(function(ye){return e(m,ye)}),Y&&Qt(m,P),b}function v(m,p,g,_){var b=nr(g);if(typeof b!="function")throw Error(S(150));if(g=b.call(g),g==null)throw Error(S(151));for(var E=b=null,C=p,P=p=0,Q=null,z=g.next();C!==null&&!z.done;P++,z=g.next()){C.index>P?(Q=C,C=null):Q=C.sibling;var ye=f(m,C,z.value,_);if(ye===null){C===null&&(C=Q);break}t&&C&&ye.alternate===null&&e(m,C),p=s(ye,p,P),E===null?b=ye:E.sibling=ye,E=ye,C=Q}if(z.done)return n(m,C),Y&&Qt(m,P),b;if(C===null){for(;!z.done;P++,z=g.next())z=h(m,z.value,_),z!==null&&(p=s(z,p,P),E===null?b=z:E.sibling=z,E=z);return Y&&Qt(m,P),b}for(C=r(m,C);!z.done;P++,z=g.next())z=y(C,m,P,z.value,_),z!==null&&(t&&z.alternate!==null&&C.delete(z.key===null?P:z.key),p=s(z,p,P),E===null?b=z:E.sibling=z,E=z);return t&&C.forEach(function(xt){return e(m,xt)}),Y&&Qt(m,P),b}function k(m,p,g,_){if(typeof g=="object"&&g!==null&&g.type===kn&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case ti:e:{for(var b=g.key,E=p;E!==null;){if(E.key===b){if(b=g.type,b===kn){if(E.tag===7){n(m,E.sibling),p=i(E,g.props.children),p.return=m,m=p;break e}}else if(E.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===bt&&Za(b)===E.type){n(m,E.sibling),p=i(E,g.props),p.ref=lr(m,E,g),p.return=m,m=p;break e}n(m,E);break}else e(m,E);E=E.sibling}g.type===kn?(p=rn(g.props.children,m.mode,_,g.key),p.return=m,m=p):(_=$i(g.type,g.key,g.props,null,m.mode,_),_.ref=lr(m,p,g),_.return=m,m=_)}return o(m);case xn:e:{for(E=g.key;p!==null;){if(p.key===E)if(p.tag===4&&p.stateNode.containerInfo===g.containerInfo&&p.stateNode.implementation===g.implementation){n(m,p.sibling),p=i(p,g.children||[]),p.return=m,m=p;break e}else{n(m,p);break}else e(m,p);p=p.sibling}p=ro(g,m.mode,_),p.return=m,m=p}return o(m);case bt:return E=g._init,k(m,p,E(g._payload),_)}if(hr(g))return w(m,p,g,_);if(nr(g))return v(m,p,g,_);hi(m,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,p!==null&&p.tag===6?(n(m,p.sibling),p=i(p,g),p.return=m,m=p):(n(m,p),p=no(g,m.mode,_),p.return=m,m=p),o(m)):n(m,p)}return k}var Wn=rd(!0),id=rd(!1),Gi=Ht(null),Qi=null,Pn=null,Ml=null;function zl(){Ml=Pn=Qi=null}function Dl(t){var e=Gi.current;G(Gi),t._currentValue=e}function Bo(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Mn(t,e){Qi=t,Ml=Pn=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ne=!0),t.firstContext=null)}function We(t){var e=t._currentValue;if(Ml!==t)if(t={context:t,memoizedValue:e,next:null},Pn===null){if(Qi===null)throw Error(S(308));Pn=t,Qi.dependencies={lanes:0,firstContext:t}}else Pn=Pn.next=t;return e}var en=null;function Ul(t){en===null?en=[t]:en.push(t)}function sd(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Ul(e)):(n.next=i.next,i.next=n),e.interleaved=n,yt(t,r)}function yt(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Et=!1;function Fl(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function od(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function mt(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Mt(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,B&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,yt(t,n)}return i=r.interleaved,i===null?(e.next=e,Ul(r)):(e.next=i.next,i.next=e),r.interleaved=e,yt(t,n)}function Ni(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,El(t,n)}}function eu(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Ji(t,e,n,r){var i=t.updateQueue;Et=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var a=l,u=a.next;a.next=null,o===null?s=u:o.next=u,o=a;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=a))}if(s!==null){var h=i.baseState;o=0,d=u=a=null,l=s;do{var f=l.lane,y=l.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:y,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var w=t,v=l;switch(f=e,y=n,v.tag){case 1:if(w=v.payload,typeof w=="function"){h=w.call(y,h,f);break e}h=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=v.payload,f=typeof w=="function"?w.call(y,h,f):w,f==null)break e;h=ne({},h,f);break e;case 2:Et=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[l]:f.push(l))}else y={eventTime:y,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=y,a=h):d=d.next=y,o|=f;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;f=l,l=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(d===null&&(a=h),i.baseState=a,i.firstBaseUpdate=u,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);an|=o,t.lanes=o,t.memoizedState=h}}function tu(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(S(191,i));i.call(r)}}}var Jr={},it=Ht(Jr),Dr=Ht(Jr),Ur=Ht(Jr);function tn(t){if(t===Jr)throw Error(S(174));return t}function Bl(t,e){switch(V(Ur,e),V(Dr,t),V(it,Jr),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:ko(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=ko(e,t)}G(it),V(it,e)}function Hn(){G(it),G(Dr),G(Ur)}function ld(t){tn(Ur.current);var e=tn(it.current),n=ko(e,t.type);e!==n&&(V(Dr,t),V(it,n))}function Wl(t){Dr.current===t&&(G(it),G(Dr))}var ee=Ht(0);function Yi(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Js=[];function Hl(){for(var t=0;t<Js.length;t++)Js[t]._workInProgressVersionPrimary=null;Js.length=0}var Ti=_t.ReactCurrentDispatcher,Ys=_t.ReactCurrentBatchConfig,ln=0,te=null,oe=null,ue=null,Xi=!1,xr=!1,Fr=0,zp=0;function pe(){throw Error(S(321))}function Vl(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Ze(t[n],e[n]))return!1;return!0}function ql(t,e,n,r,i,s){if(ln=s,te=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ti.current=t===null||t.memoizedState===null?Bp:Wp,t=n(r,i),xr){s=0;do{if(xr=!1,Fr=0,25<=s)throw Error(S(301));s+=1,ue=oe=null,e.updateQueue=null,Ti.current=Hp,t=n(r,i)}while(xr)}if(Ti.current=Zi,e=oe!==null&&oe.next!==null,ln=0,ue=oe=te=null,Xi=!1,e)throw Error(S(300));return t}function Kl(){var t=Fr!==0;return Fr=0,t}function tt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ue===null?te.memoizedState=ue=t:ue=ue.next=t,ue}function He(){if(oe===null){var t=te.alternate;t=t!==null?t.memoizedState:null}else t=oe.next;var e=ue===null?te.memoizedState:ue.next;if(e!==null)ue=e,oe=t;else{if(t===null)throw Error(S(310));oe=t,t={memoizedState:oe.memoizedState,baseState:oe.baseState,baseQueue:oe.baseQueue,queue:oe.queue,next:null},ue===null?te.memoizedState=ue=t:ue=ue.next=t}return ue}function Br(t,e){return typeof e=="function"?e(t):e}function Xs(t){var e=He(),n=e.queue;if(n===null)throw Error(S(311));n.lastRenderedReducer=t;var r=oe,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var l=o=null,a=null,u=s;do{var d=u.lane;if((ln&d)===d)a!==null&&(a=a.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};a===null?(l=a=h,o=r):a=a.next=h,te.lanes|=d,an|=d}u=u.next}while(u!==null&&u!==s);a===null?o=r:a.next=l,Ze(r,e.memoizedState)||(Ne=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=a,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,te.lanes|=s,an|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Zs(t){var e=He(),n=e.queue;if(n===null)throw Error(S(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Ze(s,e.memoizedState)||(Ne=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function ad(){}function ud(t,e){var n=te,r=He(),i=e(),s=!Ze(r.memoizedState,i);if(s&&(r.memoizedState=i,Ne=!0),r=r.queue,Gl(hd.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||ue!==null&&ue.memoizedState.tag&1){if(n.flags|=2048,Wr(9,dd.bind(null,n,r,i,e),void 0,null),ce===null)throw Error(S(349));ln&30||cd(n,e,i)}return i}function cd(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=te.updateQueue,e===null?(e={lastEffect:null,stores:null},te.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function dd(t,e,n,r){e.value=n,e.getSnapshot=r,fd(e)&&pd(t)}function hd(t,e,n){return n(function(){fd(e)&&pd(t)})}function fd(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Ze(t,n)}catch{return!0}}function pd(t){var e=yt(t,1);e!==null&&Xe(e,t,1,-1)}function nu(t){var e=tt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Br,lastRenderedState:t},e.queue=t,t=t.dispatch=Fp.bind(null,te,t),[e.memoizedState,t]}function Wr(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=te.updateQueue,e===null?(e={lastEffect:null,stores:null},te.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function md(){return He().memoizedState}function Pi(t,e,n,r){var i=tt();te.flags|=t,i.memoizedState=Wr(1|e,n,void 0,r===void 0?null:r)}function ps(t,e,n,r){var i=He();r=r===void 0?null:r;var s=void 0;if(oe!==null){var o=oe.memoizedState;if(s=o.destroy,r!==null&&Vl(r,o.deps)){i.memoizedState=Wr(e,n,s,r);return}}te.flags|=t,i.memoizedState=Wr(1|e,n,s,r)}function ru(t,e){return Pi(8390656,8,t,e)}function Gl(t,e){return ps(2048,8,t,e)}function gd(t,e){return ps(4,2,t,e)}function vd(t,e){return ps(4,4,t,e)}function yd(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function wd(t,e,n){return n=n!=null?n.concat([t]):null,ps(4,4,yd.bind(null,e,t),n)}function Ql(){}function _d(t,e){var n=He();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Vl(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function xd(t,e){var n=He();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Vl(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function kd(t,e,n){return ln&21?(Ze(n,e)||(n=Cc(),te.lanes|=n,an|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ne=!0),t.memoizedState=n)}function Dp(t,e){var n=W;W=n!==0&&4>n?n:4,t(!0);var r=Ys.transition;Ys.transition={};try{t(!1),e()}finally{W=n,Ys.transition=r}}function Sd(){return He().memoizedState}function Up(t,e,n){var r=Dt(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},jd(t))bd(e,n);else if(n=sd(t,e,n,r),n!==null){var i=ke();Xe(n,t,r,i),Ed(n,e,r)}}function Fp(t,e,n){var r=Dt(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(jd(t))bd(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,l=s(o,n);if(i.hasEagerState=!0,i.eagerState=l,Ze(l,o)){var a=e.interleaved;a===null?(i.next=i,Ul(e)):(i.next=a.next,a.next=i),e.interleaved=i;return}}catch{}finally{}n=sd(t,e,i,r),n!==null&&(i=ke(),Xe(n,t,r,i),Ed(n,e,r))}}function jd(t){var e=t.alternate;return t===te||e!==null&&e===te}function bd(t,e){xr=Xi=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Ed(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,El(t,n)}}var Zi={readContext:We,useCallback:pe,useContext:pe,useEffect:pe,useImperativeHandle:pe,useInsertionEffect:pe,useLayoutEffect:pe,useMemo:pe,useReducer:pe,useRef:pe,useState:pe,useDebugValue:pe,useDeferredValue:pe,useTransition:pe,useMutableSource:pe,useSyncExternalStore:pe,useId:pe,unstable_isNewReconciler:!1},Bp={readContext:We,useCallback:function(t,e){return tt().memoizedState=[t,e===void 0?null:e],t},useContext:We,useEffect:ru,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Pi(4194308,4,yd.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Pi(4194308,4,t,e)},useInsertionEffect:function(t,e){return Pi(4,2,t,e)},useMemo:function(t,e){var n=tt();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=tt();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Up.bind(null,te,t),[r.memoizedState,t]},useRef:function(t){var e=tt();return t={current:t},e.memoizedState=t},useState:nu,useDebugValue:Ql,useDeferredValue:function(t){return tt().memoizedState=t},useTransition:function(){var t=nu(!1),e=t[0];return t=Dp.bind(null,t[1]),tt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=te,i=tt();if(Y){if(n===void 0)throw Error(S(407));n=n()}else{if(n=e(),ce===null)throw Error(S(349));ln&30||cd(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,ru(hd.bind(null,r,s,t),[t]),r.flags|=2048,Wr(9,dd.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=tt(),e=ce.identifierPrefix;if(Y){var n=pt,r=ft;n=(r&~(1<<32-Ye(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Fr++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=zp++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Wp={readContext:We,useCallback:_d,useContext:We,useEffect:Gl,useImperativeHandle:wd,useInsertionEffect:gd,useLayoutEffect:vd,useMemo:xd,useReducer:Xs,useRef:md,useState:function(){return Xs(Br)},useDebugValue:Ql,useDeferredValue:function(t){var e=He();return kd(e,oe.memoizedState,t)},useTransition:function(){var t=Xs(Br)[0],e=He().memoizedState;return[t,e]},useMutableSource:ad,useSyncExternalStore:ud,useId:Sd,unstable_isNewReconciler:!1},Hp={readContext:We,useCallback:_d,useContext:We,useEffect:Gl,useImperativeHandle:wd,useInsertionEffect:gd,useLayoutEffect:vd,useMemo:xd,useReducer:Zs,useRef:md,useState:function(){return Zs(Br)},useDebugValue:Ql,useDeferredValue:function(t){var e=He();return oe===null?e.memoizedState=t:kd(e,oe.memoizedState,t)},useTransition:function(){var t=Zs(Br)[0],e=He().memoizedState;return[t,e]},useMutableSource:ad,useSyncExternalStore:ud,useId:Sd,unstable_isNewReconciler:!1};function Ke(t,e){if(t&&t.defaultProps){e=ne({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Wo(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ne({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var ms={isMounted:function(t){return(t=t._reactInternals)?dn(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=ke(),i=Dt(t),s=mt(r,i);s.payload=e,n!=null&&(s.callback=n),e=Mt(t,s,i),e!==null&&(Xe(e,t,i,r),Ni(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=ke(),i=Dt(t),s=mt(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Mt(t,s,i),e!==null&&(Xe(e,t,i,r),Ni(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=ke(),r=Dt(t),i=mt(n,r);i.tag=2,e!=null&&(i.callback=e),e=Mt(t,i,r),e!==null&&(Xe(e,t,r,n),Ni(e,t,r))}};function iu(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Ar(n,r)||!Ar(i,s):!0}function Cd(t,e,n){var r=!1,i=Bt,s=e.contextType;return typeof s=="object"&&s!==null?s=We(s):(i=Pe(e)?sn:ve.current,r=e.contextTypes,s=(r=r!=null)?Fn(t,i):Bt),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=ms,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function su(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&ms.enqueueReplaceState(e,e.state,null)}function Ho(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Fl(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=We(s):(s=Pe(e)?sn:ve.current,i.context=Fn(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Wo(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&ms.enqueueReplaceState(i,i.state,null),Ji(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Vn(t,e){try{var n="",r=e;do n+=yf(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function eo(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Vo(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Vp=typeof WeakMap=="function"?WeakMap:Map;function Nd(t,e,n){n=mt(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){ts||(ts=!0,tl=r),Vo(t,e)},n}function Td(t,e,n){n=mt(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Vo(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Vo(t,e),typeof r!="function"&&(zt===null?zt=new Set([this]):zt.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function ou(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Vp;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=sm.bind(null,t,e,n),e.then(t,t))}function lu(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function au(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=mt(-1,1),e.tag=2,Mt(n,e,1))),n.lanes|=1),t)}var qp=_t.ReactCurrentOwner,Ne=!1;function xe(t,e,n,r){e.child=t===null?id(e,null,n,r):Wn(e,t.child,n,r)}function uu(t,e,n,r,i){n=n.render;var s=e.ref;return Mn(e,i),r=ql(t,e,n,r,s,i),n=Kl(),t!==null&&!Ne?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,wt(t,e,i)):(Y&&n&&$l(e),e.flags|=1,xe(t,e,r,i),e.child)}function cu(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!ra(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,Pd(t,e,s,r,i)):(t=$i(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Ar,n(o,r)&&t.ref===e.ref)return wt(t,e,i)}return e.flags|=1,t=Ut(s,r),t.ref=e.ref,t.return=e,e.child=t}function Pd(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Ar(s,r)&&t.ref===e.ref)if(Ne=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Ne=!0);else return e.lanes=t.lanes,wt(t,e,i)}return qo(t,e,n,r,i)}function Rd(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},V(On,Oe),Oe|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,V(On,Oe),Oe|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,V(On,Oe),Oe|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,V(On,Oe),Oe|=r;return xe(t,e,i,n),e.child}function Od(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function qo(t,e,n,r,i){var s=Pe(n)?sn:ve.current;return s=Fn(e,s),Mn(e,i),n=ql(t,e,n,r,s,i),r=Kl(),t!==null&&!Ne?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,wt(t,e,i)):(Y&&r&&$l(e),e.flags|=1,xe(t,e,n,i),e.child)}function du(t,e,n,r,i){if(Pe(n)){var s=!0;Vi(e)}else s=!1;if(Mn(e,i),e.stateNode===null)Ri(t,e),Cd(e,n,r),Ho(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var a=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=We(u):(u=Pe(n)?sn:ve.current,u=Fn(e,u));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||a!==u)&&su(e,o,r,u),Et=!1;var f=e.memoizedState;o.state=f,Ji(e,r,o,i),a=e.memoizedState,l!==r||f!==a||Te.current||Et?(typeof d=="function"&&(Wo(e,n,d,r),a=e.memoizedState),(l=Et||iu(e,n,l,r,f,a,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=a),o.props=r,o.state=a,o.context=u,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,od(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:Ke(e.type,l),o.props=u,h=e.pendingProps,f=o.context,a=n.contextType,typeof a=="object"&&a!==null?a=We(a):(a=Pe(n)?sn:ve.current,a=Fn(e,a));var y=n.getDerivedStateFromProps;(d=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||f!==a)&&su(e,o,r,a),Et=!1,f=e.memoizedState,o.state=f,Ji(e,r,o,i);var w=e.memoizedState;l!==h||f!==w||Te.current||Et?(typeof y=="function"&&(Wo(e,n,y,r),w=e.memoizedState),(u=Et||iu(e,n,u,r,f,w,a)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,w,a),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,w,a)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=w),o.props=r,o.state=w,o.context=a,r=u):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return Ko(t,e,n,r,s,i)}function Ko(t,e,n,r,i,s){Od(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&Ja(e,n,!1),wt(t,e,s);r=e.stateNode,qp.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Wn(e,t.child,null,s),e.child=Wn(e,null,l,s)):xe(t,e,l,s),e.memoizedState=r.state,i&&Ja(e,n,!0),e.child}function Id(t){var e=t.stateNode;e.pendingContext?Qa(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Qa(t,e.context,!1),Bl(t,e.containerInfo)}function hu(t,e,n,r,i){return Bn(),Ll(i),e.flags|=256,xe(t,e,n,r),e.child}var Go={dehydrated:null,treeContext:null,retryLane:0};function Qo(t){return{baseLanes:t,cachePool:null,transitions:null}}function $d(t,e,n){var r=e.pendingProps,i=ee.current,s=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),V(ee,i&1),t===null)return Fo(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=ys(o,r,0,null),t=rn(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Qo(n),e.memoizedState=Go,t):Jl(e,o));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return Kp(t,e,o,r,l,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,l=i.sibling;var a={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=a,e.deletions=null):(r=Ut(i,a),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=Ut(l,s):(s=rn(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Qo(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Go,r}return s=t.child,t=s.sibling,r=Ut(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Jl(t,e){return e=ys({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function fi(t,e,n,r){return r!==null&&Ll(r),Wn(e,t.child,null,n),t=Jl(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Kp(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=eo(Error(S(422))),fi(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=ys({mode:"visible",children:r.children},i,0,null),s=rn(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Wn(e,t.child,null,o),e.child.memoizedState=Qo(o),e.memoizedState=Go,s);if(!(e.mode&1))return fi(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,s=Error(S(419)),r=eo(s,r,void 0),fi(t,e,o,r)}if(l=(o&t.childLanes)!==0,Ne||l){if(r=ce,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,yt(t,i),Xe(r,t,i,-1))}return na(),r=eo(Error(S(421))),fi(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=om.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Ie=Lt(i.nextSibling),$e=e,Y=!0,Je=null,t!==null&&(ze[De++]=ft,ze[De++]=pt,ze[De++]=on,ft=t.id,pt=t.overflow,on=e),e=Jl(e,r.children),e.flags|=4096,e)}function fu(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Bo(t.return,e,n)}function to(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Ad(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(xe(t,e,r.children,n),r=ee.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&fu(t,n,e);else if(t.tag===19)fu(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(V(ee,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Yi(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),to(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Yi(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}to(e,!0,n,null,s);break;case"together":to(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ri(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function wt(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),an|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(S(153));if(e.child!==null){for(t=e.child,n=Ut(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ut(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Gp(t,e,n){switch(e.tag){case 3:Id(e),Bn();break;case 5:ld(e);break;case 1:Pe(e.type)&&Vi(e);break;case 4:Bl(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;V(Gi,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(V(ee,ee.current&1),e.flags|=128,null):n&e.child.childLanes?$d(t,e,n):(V(ee,ee.current&1),t=wt(t,e,n),t!==null?t.sibling:null);V(ee,ee.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Ad(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),V(ee,ee.current),r)break;return null;case 22:case 23:return e.lanes=0,Rd(t,e,n)}return wt(t,e,n)}var Ld,Jo,Md,zd;Ld=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Jo=function(){};Md=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,tn(it.current);var s=null;switch(n){case"input":i=yo(t,i),r=yo(t,r),s=[];break;case"select":i=ne({},i,{value:void 0}),r=ne({},r,{value:void 0}),s=[];break;case"textarea":i=xo(t,i),r=xo(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Wi)}So(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var l=i[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Nr.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var a=r[u];if(l=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&a!==l&&(a!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||a&&a.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in a)a.hasOwnProperty(o)&&l[o]!==a[o]&&(n||(n={}),n[o]=a[o])}else n||(s||(s=[]),s.push(u,n)),n=a;else u==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(s=s||[]).push(u,a)):u==="children"?typeof a!="string"&&typeof a!="number"||(s=s||[]).push(u,""+a):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Nr.hasOwnProperty(u)?(a!=null&&u==="onScroll"&&K("scroll",t),s||l===a||(s=[])):(s=s||[]).push(u,a))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};zd=function(t,e,n,r){n!==r&&(e.flags|=4)};function ar(t,e){if(!Y)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function me(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Qp(t,e,n){var r=e.pendingProps;switch(Al(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return me(e),null;case 1:return Pe(e.type)&&Hi(),me(e),null;case 3:return r=e.stateNode,Hn(),G(Te),G(ve),Hl(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(di(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Je!==null&&(il(Je),Je=null))),Jo(t,e),me(e),null;case 5:Wl(e);var i=tn(Ur.current);if(n=e.type,t!==null&&e.stateNode!=null)Md(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(S(166));return me(e),null}if(t=tn(it.current),di(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[nt]=e,r[zr]=s,t=(e.mode&1)!==0,n){case"dialog":K("cancel",r),K("close",r);break;case"iframe":case"object":case"embed":K("load",r);break;case"video":case"audio":for(i=0;i<pr.length;i++)K(pr[i],r);break;case"source":K("error",r);break;case"img":case"image":case"link":K("error",r),K("load",r);break;case"details":K("toggle",r);break;case"input":ka(r,s),K("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},K("invalid",r);break;case"textarea":ja(r,s),K("invalid",r)}So(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?r.textContent!==l&&(s.suppressHydrationWarning!==!0&&ci(r.textContent,l,t),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&ci(r.textContent,l,t),i=["children",""+l]):Nr.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&K("scroll",r)}switch(n){case"input":ni(r),Sa(r,s,!0);break;case"textarea":ni(r),ba(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Wi)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=hc(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[nt]=e,t[zr]=r,Ld(t,e,!1,!1),e.stateNode=t;e:{switch(o=jo(n,r),n){case"dialog":K("cancel",t),K("close",t),i=r;break;case"iframe":case"object":case"embed":K("load",t),i=r;break;case"video":case"audio":for(i=0;i<pr.length;i++)K(pr[i],t);i=r;break;case"source":K("error",t),i=r;break;case"img":case"image":case"link":K("error",t),K("load",t),i=r;break;case"details":K("toggle",t),i=r;break;case"input":ka(t,r),i=yo(t,r),K("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=ne({},r,{value:void 0}),K("invalid",t);break;case"textarea":ja(t,r),i=xo(t,r),K("invalid",t);break;default:i=r}So(n,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var a=l[s];s==="style"?mc(t,a):s==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&fc(t,a)):s==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&Tr(t,a):typeof a=="number"&&Tr(t,""+a):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Nr.hasOwnProperty(s)?a!=null&&s==="onScroll"&&K("scroll",t):a!=null&&_l(t,s,a,o))}switch(n){case"input":ni(t),Sa(t,r,!1);break;case"textarea":ni(t),ba(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ft(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?In(t,!!r.multiple,s,!1):r.defaultValue!=null&&In(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Wi)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return me(e),null;case 6:if(t&&e.stateNode!=null)zd(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(S(166));if(n=tn(Ur.current),tn(it.current),di(e)){if(r=e.stateNode,n=e.memoizedProps,r[nt]=e,(s=r.nodeValue!==n)&&(t=$e,t!==null))switch(t.tag){case 3:ci(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ci(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[nt]=e,e.stateNode=r}return me(e),null;case 13:if(G(ee),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Y&&Ie!==null&&e.mode&1&&!(e.flags&128))nd(),Bn(),e.flags|=98560,s=!1;else if(s=di(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(S(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(S(317));s[nt]=e}else Bn(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;me(e),s=!1}else Je!==null&&(il(Je),Je=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ee.current&1?le===0&&(le=3):na())),e.updateQueue!==null&&(e.flags|=4),me(e),null);case 4:return Hn(),Jo(t,e),t===null&&Lr(e.stateNode.containerInfo),me(e),null;case 10:return Dl(e.type._context),me(e),null;case 17:return Pe(e.type)&&Hi(),me(e),null;case 19:if(G(ee),s=e.memoizedState,s===null)return me(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)ar(s,!1);else{if(le!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Yi(t),o!==null){for(e.flags|=128,ar(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return V(ee,ee.current&1|2),e.child}t=t.sibling}s.tail!==null&&ie()>qn&&(e.flags|=128,r=!0,ar(s,!1),e.lanes=4194304)}else{if(!r)if(t=Yi(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ar(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Y)return me(e),null}else 2*ie()-s.renderingStartTime>qn&&n!==1073741824&&(e.flags|=128,r=!0,ar(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=ie(),e.sibling=null,n=ee.current,V(ee,r?n&1|2:n&1),e):(me(e),null);case 22:case 23:return ta(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Oe&1073741824&&(me(e),e.subtreeFlags&6&&(e.flags|=8192)):me(e),null;case 24:return null;case 25:return null}throw Error(S(156,e.tag))}function Jp(t,e){switch(Al(e),e.tag){case 1:return Pe(e.type)&&Hi(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Hn(),G(Te),G(ve),Hl(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Wl(e),null;case 13:if(G(ee),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(S(340));Bn()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return G(ee),null;case 4:return Hn(),null;case 10:return Dl(e.type._context),null;case 22:case 23:return ta(),null;case 24:return null;default:return null}}var pi=!1,ge=!1,Yp=typeof WeakSet=="function"?WeakSet:Set,T=null;function Rn(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){re(t,e,r)}else n.current=null}function Yo(t,e,n){try{n()}catch(r){re(t,e,r)}}var pu=!1;function Xp(t,e){if($o=Ui,t=Wc(),Il(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,l=-1,a=-1,u=0,d=0,h=t,f=null;t:for(;;){for(var y;h!==n||i!==0&&h.nodeType!==3||(l=o+i),h!==s||r!==0&&h.nodeType!==3||(a=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(y=h.firstChild)!==null;)f=h,h=y;for(;;){if(h===t)break t;if(f===n&&++u===i&&(l=o),f===s&&++d===r&&(a=o),(y=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=y}n=l===-1||a===-1?null:{start:l,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ao={focusedElem:t,selectionRange:n},Ui=!1,T=e;T!==null;)if(e=T,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,T=t;else for(;T!==null;){e=T;try{var w=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var v=w.memoizedProps,k=w.memoizedState,m=e.stateNode,p=m.getSnapshotBeforeUpdate(e.elementType===e.type?v:Ke(e.type,v),k);m.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var g=e.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(S(163))}}catch(_){re(e,e.return,_)}if(t=e.sibling,t!==null){t.return=e.return,T=t;break}T=e.return}return w=pu,pu=!1,w}function kr(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Yo(e,n,s)}i=i.next}while(i!==r)}}function gs(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Xo(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Dd(t){var e=t.alternate;e!==null&&(t.alternate=null,Dd(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[nt],delete e[zr],delete e[zo],delete e[$p],delete e[Ap])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Ud(t){return t.tag===5||t.tag===3||t.tag===4}function mu(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Ud(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Zo(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Wi));else if(r!==4&&(t=t.child,t!==null))for(Zo(t,e,n),t=t.sibling;t!==null;)Zo(t,e,n),t=t.sibling}function el(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(el(t,e,n),t=t.sibling;t!==null;)el(t,e,n),t=t.sibling}var de=null,Ge=!1;function St(t,e,n){for(n=n.child;n!==null;)Fd(t,e,n),n=n.sibling}function Fd(t,e,n){if(rt&&typeof rt.onCommitFiberUnmount=="function")try{rt.onCommitFiberUnmount(as,n)}catch{}switch(n.tag){case 5:ge||Rn(n,e);case 6:var r=de,i=Ge;de=null,St(t,e,n),de=r,Ge=i,de!==null&&(Ge?(t=de,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):de.removeChild(n.stateNode));break;case 18:de!==null&&(Ge?(t=de,n=n.stateNode,t.nodeType===8?Gs(t.parentNode,n):t.nodeType===1&&Gs(t,n),Ir(t)):Gs(de,n.stateNode));break;case 4:r=de,i=Ge,de=n.stateNode.containerInfo,Ge=!0,St(t,e,n),de=r,Ge=i;break;case 0:case 11:case 14:case 15:if(!ge&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Yo(n,e,o),i=i.next}while(i!==r)}St(t,e,n);break;case 1:if(!ge&&(Rn(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){re(n,e,l)}St(t,e,n);break;case 21:St(t,e,n);break;case 22:n.mode&1?(ge=(r=ge)||n.memoizedState!==null,St(t,e,n),ge=r):St(t,e,n);break;default:St(t,e,n)}}function gu(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Yp),e.forEach(function(r){var i=lm.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Ve(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:de=l.stateNode,Ge=!1;break e;case 3:de=l.stateNode.containerInfo,Ge=!0;break e;case 4:de=l.stateNode.containerInfo,Ge=!0;break e}l=l.return}if(de===null)throw Error(S(160));Fd(s,o,i),de=null,Ge=!1;var a=i.alternate;a!==null&&(a.return=null),i.return=null}catch(u){re(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Bd(e,t),e=e.sibling}function Bd(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ve(e,t),et(t),r&4){try{kr(3,t,t.return),gs(3,t)}catch(v){re(t,t.return,v)}try{kr(5,t,t.return)}catch(v){re(t,t.return,v)}}break;case 1:Ve(e,t),et(t),r&512&&n!==null&&Rn(n,n.return);break;case 5:if(Ve(e,t),et(t),r&512&&n!==null&&Rn(n,n.return),t.flags&32){var i=t.stateNode;try{Tr(i,"")}catch(v){re(t,t.return,v)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,l=t.type,a=t.updateQueue;if(t.updateQueue=null,a!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&cc(i,s),jo(l,o);var u=jo(l,s);for(o=0;o<a.length;o+=2){var d=a[o],h=a[o+1];d==="style"?mc(i,h):d==="dangerouslySetInnerHTML"?fc(i,h):d==="children"?Tr(i,h):_l(i,d,h,u)}switch(l){case"input":wo(i,s);break;case"textarea":dc(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var y=s.value;y!=null?In(i,!!s.multiple,y,!1):f!==!!s.multiple&&(s.defaultValue!=null?In(i,!!s.multiple,s.defaultValue,!0):In(i,!!s.multiple,s.multiple?[]:"",!1))}i[zr]=s}catch(v){re(t,t.return,v)}}break;case 6:if(Ve(e,t),et(t),r&4){if(t.stateNode===null)throw Error(S(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(v){re(t,t.return,v)}}break;case 3:if(Ve(e,t),et(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ir(e.containerInfo)}catch(v){re(t,t.return,v)}break;case 4:Ve(e,t),et(t);break;case 13:Ve(e,t),et(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Zl=ie())),r&4&&gu(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(ge=(u=ge)||d,Ve(e,t),ge=u):Ve(e,t),et(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(T=t,d=t.child;d!==null;){for(h=T=d;T!==null;){switch(f=T,y=f.child,f.tag){case 0:case 11:case 14:case 15:kr(4,f,f.return);break;case 1:Rn(f,f.return);var w=f.stateNode;if(typeof w.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,w.props=e.memoizedProps,w.state=e.memoizedState,w.componentWillUnmount()}catch(v){re(r,n,v)}}break;case 5:Rn(f,f.return);break;case 22:if(f.memoizedState!==null){yu(h);continue}}y!==null?(y.return=f,T=y):yu(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{i=h.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=h.stateNode,a=h.memoizedProps.style,o=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=pc("display",o))}catch(v){re(t,t.return,v)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(v){re(t,t.return,v)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Ve(e,t),et(t),r&4&&gu(t);break;case 21:break;default:Ve(e,t),et(t)}}function et(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Ud(n)){var r=n;break e}n=n.return}throw Error(S(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Tr(i,""),r.flags&=-33);var s=mu(t);el(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,l=mu(t);Zo(t,l,o);break;default:throw Error(S(161))}}catch(a){re(t,t.return,a)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Zp(t,e,n){T=t,Wd(t)}function Wd(t,e,n){for(var r=(t.mode&1)!==0;T!==null;){var i=T,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||pi;if(!o){var l=i.alternate,a=l!==null&&l.memoizedState!==null||ge;l=pi;var u=ge;if(pi=o,(ge=a)&&!u)for(T=i;T!==null;)o=T,a=o.child,o.tag===22&&o.memoizedState!==null?wu(i):a!==null?(a.return=o,T=a):wu(i);for(;s!==null;)T=s,Wd(s),s=s.sibling;T=i,pi=l,ge=u}vu(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,T=s):vu(t)}}function vu(t){for(;T!==null;){var e=T;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ge||gs(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!ge)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Ke(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&tu(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}tu(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var a=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Ir(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(S(163))}ge||e.flags&512&&Xo(e)}catch(f){re(e,e.return,f)}}if(e===t){T=null;break}if(n=e.sibling,n!==null){n.return=e.return,T=n;break}T=e.return}}function yu(t){for(;T!==null;){var e=T;if(e===t){T=null;break}var n=e.sibling;if(n!==null){n.return=e.return,T=n;break}T=e.return}}function wu(t){for(;T!==null;){var e=T;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{gs(4,e)}catch(a){re(e,n,a)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(a){re(e,i,a)}}var s=e.return;try{Xo(e)}catch(a){re(e,s,a)}break;case 5:var o=e.return;try{Xo(e)}catch(a){re(e,o,a)}}}catch(a){re(e,e.return,a)}if(e===t){T=null;break}var l=e.sibling;if(l!==null){l.return=e.return,T=l;break}T=e.return}}var em=Math.ceil,es=_t.ReactCurrentDispatcher,Yl=_t.ReactCurrentOwner,Fe=_t.ReactCurrentBatchConfig,B=0,ce=null,se=null,he=0,Oe=0,On=Ht(0),le=0,Hr=null,an=0,vs=0,Xl=0,Sr=null,Ee=null,Zl=0,qn=1/0,ct=null,ts=!1,tl=null,zt=null,mi=!1,Ot=null,ns=0,jr=0,nl=null,Oi=-1,Ii=0;function ke(){return B&6?ie():Oi!==-1?Oi:Oi=ie()}function Dt(t){return t.mode&1?B&2&&he!==0?he&-he:Mp.transition!==null?(Ii===0&&(Ii=Cc()),Ii):(t=W,t!==0||(t=window.event,t=t===void 0?16:$c(t.type)),t):1}function Xe(t,e,n,r){if(50<jr)throw jr=0,nl=null,Error(S(185));Kr(t,n,r),(!(B&2)||t!==ce)&&(t===ce&&(!(B&2)&&(vs|=n),le===4&&Tt(t,he)),Re(t,r),n===1&&B===0&&!(e.mode&1)&&(qn=ie()+500,fs&&Vt()))}function Re(t,e){var n=t.callbackNode;Mf(t,e);var r=Di(t,t===ce?he:0);if(r===0)n!==null&&Na(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Na(n),e===1)t.tag===0?Lp(_u.bind(null,t)):Zc(_u.bind(null,t)),Op(function(){!(B&6)&&Vt()}),n=null;else{switch(Nc(r)){case 1:n=bl;break;case 4:n=bc;break;case 16:n=zi;break;case 536870912:n=Ec;break;default:n=zi}n=Yd(n,Hd.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Hd(t,e){if(Oi=-1,Ii=0,B&6)throw Error(S(327));var n=t.callbackNode;if(zn()&&t.callbackNode!==n)return null;var r=Di(t,t===ce?he:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=rs(t,r);else{e=r;var i=B;B|=2;var s=qd();(ce!==t||he!==e)&&(ct=null,qn=ie()+500,nn(t,e));do try{rm();break}catch(l){Vd(t,l)}while(!0);zl(),es.current=s,B=i,se!==null?e=0:(ce=null,he=0,e=le)}if(e!==0){if(e===2&&(i=To(t),i!==0&&(r=i,e=rl(t,i))),e===1)throw n=Hr,nn(t,0),Tt(t,r),Re(t,ie()),n;if(e===6)Tt(t,r);else{if(i=t.current.alternate,!(r&30)&&!tm(i)&&(e=rs(t,r),e===2&&(s=To(t),s!==0&&(r=s,e=rl(t,s))),e===1))throw n=Hr,nn(t,0),Tt(t,r),Re(t,ie()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(S(345));case 2:Jt(t,Ee,ct);break;case 3:if(Tt(t,r),(r&130023424)===r&&(e=Zl+500-ie(),10<e)){if(Di(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){ke(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Mo(Jt.bind(null,t,Ee,ct),e);break}Jt(t,Ee,ct);break;case 4:if(Tt(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Ye(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=ie()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*em(r/1960))-r,10<r){t.timeoutHandle=Mo(Jt.bind(null,t,Ee,ct),r);break}Jt(t,Ee,ct);break;case 5:Jt(t,Ee,ct);break;default:throw Error(S(329))}}}return Re(t,ie()),t.callbackNode===n?Hd.bind(null,t):null}function rl(t,e){var n=Sr;return t.current.memoizedState.isDehydrated&&(nn(t,e).flags|=256),t=rs(t,e),t!==2&&(e=Ee,Ee=n,e!==null&&il(e)),t}function il(t){Ee===null?Ee=t:Ee.push.apply(Ee,t)}function tm(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Ze(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Tt(t,e){for(e&=~Xl,e&=~vs,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Ye(e),r=1<<n;t[n]=-1,e&=~r}}function _u(t){if(B&6)throw Error(S(327));zn();var e=Di(t,0);if(!(e&1))return Re(t,ie()),null;var n=rs(t,e);if(t.tag!==0&&n===2){var r=To(t);r!==0&&(e=r,n=rl(t,r))}if(n===1)throw n=Hr,nn(t,0),Tt(t,e),Re(t,ie()),n;if(n===6)throw Error(S(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Jt(t,Ee,ct),Re(t,ie()),null}function ea(t,e){var n=B;B|=1;try{return t(e)}finally{B=n,B===0&&(qn=ie()+500,fs&&Vt())}}function un(t){Ot!==null&&Ot.tag===0&&!(B&6)&&zn();var e=B;B|=1;var n=Fe.transition,r=W;try{if(Fe.transition=null,W=1,t)return t()}finally{W=r,Fe.transition=n,B=e,!(B&6)&&Vt()}}function ta(){Oe=On.current,G(On)}function nn(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Rp(n)),se!==null)for(n=se.return;n!==null;){var r=n;switch(Al(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Hi();break;case 3:Hn(),G(Te),G(ve),Hl();break;case 5:Wl(r);break;case 4:Hn();break;case 13:G(ee);break;case 19:G(ee);break;case 10:Dl(r.type._context);break;case 22:case 23:ta()}n=n.return}if(ce=t,se=t=Ut(t.current,null),he=Oe=e,le=0,Hr=null,Xl=vs=an=0,Ee=Sr=null,en!==null){for(e=0;e<en.length;e++)if(n=en[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}en=null}return t}function Vd(t,e){do{var n=se;try{if(zl(),Ti.current=Zi,Xi){for(var r=te.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Xi=!1}if(ln=0,ue=oe=te=null,xr=!1,Fr=0,Yl.current=null,n===null||n.return===null){le=1,Hr=e,se=null;break}e:{var s=t,o=n.return,l=n,a=e;if(e=he,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=a,d=l,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var y=lu(o);if(y!==null){y.flags&=-257,au(y,o,l,s,e),y.mode&1&&ou(s,u,e),e=y,a=u;var w=e.updateQueue;if(w===null){var v=new Set;v.add(a),e.updateQueue=v}else w.add(a);break e}else{if(!(e&1)){ou(s,u,e),na();break e}a=Error(S(426))}}else if(Y&&l.mode&1){var k=lu(o);if(k!==null){!(k.flags&65536)&&(k.flags|=256),au(k,o,l,s,e),Ll(Vn(a,l));break e}}s=a=Vn(a,l),le!==4&&(le=2),Sr===null?Sr=[s]:Sr.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var m=Nd(s,a,e);eu(s,m);break e;case 1:l=a;var p=s.type,g=s.stateNode;if(!(s.flags&128)&&(typeof p.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(zt===null||!zt.has(g)))){s.flags|=65536,e&=-e,s.lanes|=e;var _=Td(s,l,e);eu(s,_);break e}}s=s.return}while(s!==null)}Gd(n)}catch(b){e=b,se===n&&n!==null&&(se=n=n.return);continue}break}while(!0)}function qd(){var t=es.current;return es.current=Zi,t===null?Zi:t}function na(){(le===0||le===3||le===2)&&(le=4),ce===null||!(an&268435455)&&!(vs&268435455)||Tt(ce,he)}function rs(t,e){var n=B;B|=2;var r=qd();(ce!==t||he!==e)&&(ct=null,nn(t,e));do try{nm();break}catch(i){Vd(t,i)}while(!0);if(zl(),B=n,es.current=r,se!==null)throw Error(S(261));return ce=null,he=0,le}function nm(){for(;se!==null;)Kd(se)}function rm(){for(;se!==null&&!Nf();)Kd(se)}function Kd(t){var e=Jd(t.alternate,t,Oe);t.memoizedProps=t.pendingProps,e===null?Gd(t):se=e,Yl.current=null}function Gd(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Jp(n,e),n!==null){n.flags&=32767,se=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{le=6,se=null;return}}else if(n=Qp(n,e,Oe),n!==null){se=n;return}if(e=e.sibling,e!==null){se=e;return}se=e=t}while(e!==null);le===0&&(le=5)}function Jt(t,e,n){var r=W,i=Fe.transition;try{Fe.transition=null,W=1,im(t,e,n,r)}finally{Fe.transition=i,W=r}return null}function im(t,e,n,r){do zn();while(Ot!==null);if(B&6)throw Error(S(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(S(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(zf(t,s),t===ce&&(se=ce=null,he=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||mi||(mi=!0,Yd(zi,function(){return zn(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Fe.transition,Fe.transition=null;var o=W;W=1;var l=B;B|=4,Yl.current=null,Xp(t,n),Bd(n,t),jp(Ao),Ui=!!$o,Ao=$o=null,t.current=n,Zp(n),Tf(),B=l,W=o,Fe.transition=s}else t.current=n;if(mi&&(mi=!1,Ot=t,ns=i),s=t.pendingLanes,s===0&&(zt=null),Of(n.stateNode),Re(t,ie()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(ts)throw ts=!1,t=tl,tl=null,t;return ns&1&&t.tag!==0&&zn(),s=t.pendingLanes,s&1?t===nl?jr++:(jr=0,nl=t):jr=0,Vt(),null}function zn(){if(Ot!==null){var t=Nc(ns),e=Fe.transition,n=W;try{if(Fe.transition=null,W=16>t?16:t,Ot===null)var r=!1;else{if(t=Ot,Ot=null,ns=0,B&6)throw Error(S(331));var i=B;for(B|=4,T=t.current;T!==null;){var s=T,o=s.child;if(T.flags&16){var l=s.deletions;if(l!==null){for(var a=0;a<l.length;a++){var u=l[a];for(T=u;T!==null;){var d=T;switch(d.tag){case 0:case 11:case 15:kr(8,d,s)}var h=d.child;if(h!==null)h.return=d,T=h;else for(;T!==null;){d=T;var f=d.sibling,y=d.return;if(Dd(d),d===u){T=null;break}if(f!==null){f.return=y,T=f;break}T=y}}}var w=s.alternate;if(w!==null){var v=w.child;if(v!==null){w.child=null;do{var k=v.sibling;v.sibling=null,v=k}while(v!==null)}}T=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,T=o;else e:for(;T!==null;){if(s=T,s.flags&2048)switch(s.tag){case 0:case 11:case 15:kr(9,s,s.return)}var m=s.sibling;if(m!==null){m.return=s.return,T=m;break e}T=s.return}}var p=t.current;for(T=p;T!==null;){o=T;var g=o.child;if(o.subtreeFlags&2064&&g!==null)g.return=o,T=g;else e:for(o=p;T!==null;){if(l=T,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:gs(9,l)}}catch(b){re(l,l.return,b)}if(l===o){T=null;break e}var _=l.sibling;if(_!==null){_.return=l.return,T=_;break e}T=l.return}}if(B=i,Vt(),rt&&typeof rt.onPostCommitFiberRoot=="function")try{rt.onPostCommitFiberRoot(as,t)}catch{}r=!0}return r}finally{W=n,Fe.transition=e}}return!1}function xu(t,e,n){e=Vn(n,e),e=Nd(t,e,1),t=Mt(t,e,1),e=ke(),t!==null&&(Kr(t,1,e),Re(t,e))}function re(t,e,n){if(t.tag===3)xu(t,t,n);else for(;e!==null;){if(e.tag===3){xu(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(zt===null||!zt.has(r))){t=Vn(n,t),t=Td(e,t,1),e=Mt(e,t,1),t=ke(),e!==null&&(Kr(e,1,t),Re(e,t));break}}e=e.return}}function sm(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=ke(),t.pingedLanes|=t.suspendedLanes&n,ce===t&&(he&n)===n&&(le===4||le===3&&(he&130023424)===he&&500>ie()-Zl?nn(t,0):Xl|=n),Re(t,e)}function Qd(t,e){e===0&&(t.mode&1?(e=si,si<<=1,!(si&130023424)&&(si=4194304)):e=1);var n=ke();t=yt(t,e),t!==null&&(Kr(t,e,n),Re(t,n))}function om(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Qd(t,n)}function lm(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(S(314))}r!==null&&r.delete(e),Qd(t,n)}var Jd;Jd=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Te.current)Ne=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Ne=!1,Gp(t,e,n);Ne=!!(t.flags&131072)}else Ne=!1,Y&&e.flags&1048576&&ed(e,Ki,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Ri(t,e),t=e.pendingProps;var i=Fn(e,ve.current);Mn(e,n),i=ql(null,e,r,t,i,n);var s=Kl();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Pe(r)?(s=!0,Vi(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Fl(e),i.updater=ms,e.stateNode=i,i._reactInternals=e,Ho(e,r,t,n),e=Ko(null,e,r,!0,s,n)):(e.tag=0,Y&&s&&$l(e),xe(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Ri(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=um(r),t=Ke(r,t),i){case 0:e=qo(null,e,r,t,n);break e;case 1:e=du(null,e,r,t,n);break e;case 11:e=uu(null,e,r,t,n);break e;case 14:e=cu(null,e,r,Ke(r.type,t),n);break e}throw Error(S(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ke(r,i),qo(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ke(r,i),du(t,e,r,i,n);case 3:e:{if(Id(e),t===null)throw Error(S(387));r=e.pendingProps,s=e.memoizedState,i=s.element,od(t,e),Ji(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Vn(Error(S(423)),e),e=hu(t,e,r,n,i);break e}else if(r!==i){i=Vn(Error(S(424)),e),e=hu(t,e,r,n,i);break e}else for(Ie=Lt(e.stateNode.containerInfo.firstChild),$e=e,Y=!0,Je=null,n=id(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Bn(),r===i){e=wt(t,e,n);break e}xe(t,e,r,n)}e=e.child}return e;case 5:return ld(e),t===null&&Fo(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Lo(r,i)?o=null:s!==null&&Lo(r,s)&&(e.flags|=32),Od(t,e),xe(t,e,o,n),e.child;case 6:return t===null&&Fo(e),null;case 13:return $d(t,e,n);case 4:return Bl(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Wn(e,null,r,n):xe(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ke(r,i),uu(t,e,r,i,n);case 7:return xe(t,e,e.pendingProps,n),e.child;case 8:return xe(t,e,e.pendingProps.children,n),e.child;case 12:return xe(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,V(Gi,r._currentValue),r._currentValue=o,s!==null)if(Ze(s.value,o)){if(s.children===i.children&&!Te.current){e=wt(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var a=l.firstContext;a!==null;){if(a.context===r){if(s.tag===1){a=mt(-1,n&-n),a.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?a.next=a:(a.next=d.next,d.next=a),u.pending=a}}s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),Bo(s.return,n,e),l.lanes|=n;break}a=a.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(S(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Bo(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}xe(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Mn(e,n),i=We(i),r=r(i),e.flags|=1,xe(t,e,r,n),e.child;case 14:return r=e.type,i=Ke(r,e.pendingProps),i=Ke(r.type,i),cu(t,e,r,i,n);case 15:return Pd(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ke(r,i),Ri(t,e),e.tag=1,Pe(r)?(t=!0,Vi(e)):t=!1,Mn(e,n),Cd(e,r,i),Ho(e,r,i,n),Ko(null,e,r,!0,t,n);case 19:return Ad(t,e,n);case 22:return Rd(t,e,n)}throw Error(S(156,e.tag))};function Yd(t,e){return jc(t,e)}function am(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ue(t,e,n,r){return new am(t,e,n,r)}function ra(t){return t=t.prototype,!(!t||!t.isReactComponent)}function um(t){if(typeof t=="function")return ra(t)?1:0;if(t!=null){if(t=t.$$typeof,t===kl)return 11;if(t===Sl)return 14}return 2}function Ut(t,e){var n=t.alternate;return n===null?(n=Ue(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function $i(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")ra(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case kn:return rn(n.children,i,s,e);case xl:o=8,i|=8;break;case po:return t=Ue(12,n,e,i|2),t.elementType=po,t.lanes=s,t;case mo:return t=Ue(13,n,e,i),t.elementType=mo,t.lanes=s,t;case go:return t=Ue(19,n,e,i),t.elementType=go,t.lanes=s,t;case lc:return ys(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case sc:o=10;break e;case oc:o=9;break e;case kl:o=11;break e;case Sl:o=14;break e;case bt:o=16,r=null;break e}throw Error(S(130,t==null?t:typeof t,""))}return e=Ue(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function rn(t,e,n,r){return t=Ue(7,t,r,e),t.lanes=n,t}function ys(t,e,n,r){return t=Ue(22,t,r,e),t.elementType=lc,t.lanes=n,t.stateNode={isHidden:!1},t}function no(t,e,n){return t=Ue(6,t,null,e),t.lanes=n,t}function ro(t,e,n){return e=Ue(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function cm(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ms(0),this.expirationTimes=Ms(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ms(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function ia(t,e,n,r,i,s,o,l,a){return t=new cm(t,e,n,l,a),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Ue(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Fl(s),t}function dm(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:xn,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Xd(t){if(!t)return Bt;t=t._reactInternals;e:{if(dn(t)!==t||t.tag!==1)throw Error(S(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Pe(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(S(171))}if(t.tag===1){var n=t.type;if(Pe(n))return Xc(t,n,e)}return e}function Zd(t,e,n,r,i,s,o,l,a){return t=ia(n,r,!0,t,i,s,o,l,a),t.context=Xd(null),n=t.current,r=ke(),i=Dt(n),s=mt(r,i),s.callback=e??null,Mt(n,s,i),t.current.lanes=i,Kr(t,i,r),Re(t,r),t}function ws(t,e,n,r){var i=e.current,s=ke(),o=Dt(i);return n=Xd(n),e.context===null?e.context=n:e.pendingContext=n,e=mt(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Mt(i,e,o),t!==null&&(Xe(t,i,o,s),Ni(t,i,o)),o}function is(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function ku(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function sa(t,e){ku(t,e),(t=t.alternate)&&ku(t,e)}function hm(){return null}var eh=typeof reportError=="function"?reportError:function(t){console.error(t)};function oa(t){this._internalRoot=t}_s.prototype.render=oa.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(S(409));ws(t,e,null,null)};_s.prototype.unmount=oa.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;un(function(){ws(null,t,null,null)}),e[vt]=null}};function _s(t){this._internalRoot=t}_s.prototype.unstable_scheduleHydration=function(t){if(t){var e=Rc();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Nt.length&&e!==0&&e<Nt[n].priority;n++);Nt.splice(n,0,t),n===0&&Ic(t)}};function la(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function xs(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Su(){}function fm(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=is(o);s.call(u)}}var o=Zd(e,r,t,0,null,!1,!1,"",Su);return t._reactRootContainer=o,t[vt]=o.current,Lr(t.nodeType===8?t.parentNode:t),un(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var u=is(a);l.call(u)}}var a=ia(t,0,!1,null,null,!1,!1,"",Su);return t._reactRootContainer=a,t[vt]=a.current,Lr(t.nodeType===8?t.parentNode:t),un(function(){ws(e,a,n,r)}),a}function ks(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var l=i;i=function(){var a=is(o);l.call(a)}}ws(e,o,t,i)}else o=fm(n,e,t,i,r);return is(o)}Tc=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=fr(e.pendingLanes);n!==0&&(El(e,n|1),Re(e,ie()),!(B&6)&&(qn=ie()+500,Vt()))}break;case 13:un(function(){var r=yt(t,1);if(r!==null){var i=ke();Xe(r,t,1,i)}}),sa(t,1)}};Cl=function(t){if(t.tag===13){var e=yt(t,134217728);if(e!==null){var n=ke();Xe(e,t,134217728,n)}sa(t,134217728)}};Pc=function(t){if(t.tag===13){var e=Dt(t),n=yt(t,e);if(n!==null){var r=ke();Xe(n,t,e,r)}sa(t,e)}};Rc=function(){return W};Oc=function(t,e){var n=W;try{return W=t,e()}finally{W=n}};Eo=function(t,e,n){switch(e){case"input":if(wo(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=hs(r);if(!i)throw Error(S(90));uc(r),wo(r,i)}}}break;case"textarea":dc(t,n);break;case"select":e=n.value,e!=null&&In(t,!!n.multiple,e,!1)}};yc=ea;wc=un;var pm={usingClientEntryPoint:!1,Events:[Qr,En,hs,gc,vc,ea]},ur={findFiberByHostInstance:Zt,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},mm={bundleType:ur.bundleType,version:ur.version,rendererPackageName:ur.rendererPackageName,rendererConfig:ur.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_t.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=kc(t),t===null?null:t.stateNode},findFiberByHostInstance:ur.findFiberByHostInstance||hm,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var gi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!gi.isDisabled&&gi.supportsFiber)try{as=gi.inject(mm),rt=gi}catch{}}Le.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pm;Le.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!la(e))throw Error(S(200));return dm(t,e,null,n)};Le.createRoot=function(t,e){if(!la(t))throw Error(S(299));var n=!1,r="",i=eh;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=ia(t,1,!1,null,null,n,!1,r,i),t[vt]=e.current,Lr(t.nodeType===8?t.parentNode:t),new oa(e)};Le.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(S(188)):(t=Object.keys(t).join(","),Error(S(268,t)));return t=kc(e),t=t===null?null:t.stateNode,t};Le.flushSync=function(t){return un(t)};Le.hydrate=function(t,e,n){if(!xs(e))throw Error(S(200));return ks(null,t,e,!0,n)};Le.hydrateRoot=function(t,e,n){if(!la(t))throw Error(S(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=eh;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Zd(e,null,t,1,n??null,i,!1,s,o),t[vt]=e.current,Lr(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new _s(e)};Le.render=function(t,e,n){if(!xs(e))throw Error(S(200));return ks(null,t,e,!1,n)};Le.unmountComponentAtNode=function(t){if(!xs(t))throw Error(S(40));return t._reactRootContainer?(un(function(){ks(null,null,t,!1,function(){t._reactRootContainer=null,t[vt]=null})}),!0):!1};Le.unstable_batchedUpdates=ea;Le.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!xs(n))throw Error(S(200));if(t==null||t._reactInternals===void 0)throw Error(S(38));return ks(t,e,n,!1,r)};Le.version="18.3.1-next-f1338f8080-20240426";function th(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(th)}catch(t){console.error(t)}}th(),tc.exports=Le;var gm=tc.exports,nh,ju=gm;nh=ju.createRoot,ju.hydrateRoot;const vi=({rating:t,onRatingChange:e,label:n="Rating",readonly:r=!1})=>{const i=Array.from({length:11},(s,o)=>o);return c.jsxs("div",{className:"flex flex-col gap-2",children:[n&&c.jsx("label",{className:"text-amber-400 font-medium text-sm",children:n}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsxs("select",{value:t===-1?"":t,onChange:s=>!r&&e(s.target.value===""?-1:Number(s.target.value)),disabled:r,className:"bg-gray-800 border border-gray-600 text-white rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-amber-500 focus:border-transparent transition-all duration-200 min-w-[80px]",children:[c.jsx("option",{value:"",children:"Select"}),i.map(s=>c.jsx("option",{value:s,children:s},s))]}),c.jsx("span",{className:"text-gray-400 text-sm",children:t>=0?`${t}/10`:"Not rated"})]})]})};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var vm={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ym=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),X=(t,e)=>{const n=F.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:o,className:l="",children:a,...u},d)=>F.createElement("svg",{ref:d,...vm,width:i,height:i,stroke:r,strokeWidth:o?Number(s)*24/Number(i):s,className:["lucide",`lucide-${ym(t)}`,l].join(" "),...u},[...e.map(([h,f])=>F.createElement(h,f)),...Array.isArray(a)?a:[a]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bu=X("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rh=X("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wm=X("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _m=X("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xm=X("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ih=X("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const km=X("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sm=X("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jm=X("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sh=X("Film",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M7 3v18",key:"bbkbws"}],["path",{d:"M3 7.5h4",key:"zfgn84"}],["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 16.5h4",key:"1230mu"}],["path",{d:"M17 3v18",key:"in4fa5"}],["path",{d:"M17 7.5h4",key:"myr1c1"}],["path",{d:"M17 16.5h4",key:"go4c1d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bm=X("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const io=X("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Em=X("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eu=X("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cm=X("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nm=X("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tm=X("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pm=X("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aa=X("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rm=X("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Om=X("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oh=X("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Im=X("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $m=X("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Am=({isOpen:t,onClose:e,trailerUrl:n,movieTitle:r})=>{if(!t)return null;const i=l=>{var a,u,d,h,f;if(l.includes("player.vimeo.com/video/")){const y=l.match(/player\.vimeo\.com\/video\/(\d+)/);if(y)return`https://player.vimeo.com/video/${y[1]}?title=0&byline=0&portrait=0&badge=0&autopause=0&player_id=0&app_id=58479&texttrack=en`}if(l.includes("vimeo.com/")&&!l.includes("player.vimeo.com")){const y=(a=l.split("vimeo.com/")[1])==null?void 0:a.split("?")[0];if(y)return`https://player.vimeo.com/video/${y}?title=0&byline=0&portrait=0&badge=0&autopause=0&player_id=0&app_id=58479&texttrack=en`}if(l.includes("drive.google.com/file/d/")){const y=(u=l.match(/\/file\/d\/([a-zA-Z0-9_-]+)/))==null?void 0:u[1];if(y)return`https://drive.google.com/file/d/${y}/preview?usp=sharing&cc_load_policy=1&hl=en&cc_lang_pref=en&autoplay=0`}if(l.includes("drive.google.com")&&l.includes("/preview")){let y=l.includes("usp=sharing")?l:`${l}${l.includes("?")?"&":"?"}usp=sharing`;return y.includes("cc_load_policy=1")||(y+="&cc_load_policy=1"),y.includes("hl=en")||(y+="&hl=en"),y.includes("cc_lang_pref=en")||(y+="&cc_lang_pref=en"),y.includes("autoplay=0")||(y+="&autoplay=0"),y}if(l.includes("drive.google.com/open?id=")){const y=(d=l.match(/id=([a-zA-Z0-9_-]+)/))==null?void 0:d[1];if(y)return`https://drive.google.com/file/d/${y}/preview?usp=sharing&cc_load_policy=1&hl=en&cc_lang_pref=en&autoplay=0`}return l.includes("youtube.com/embed/")?l.includes("cc_load_policy=1")?l:`${l}${l.includes("?")?"&":"?"}cc_load_policy=1&cc_lang_pref=en`:l.includes("youtube.com/watch?v=")?`https://www.youtube.com/embed/${(h=l.split("v=")[1])==null?void 0:h.split("&")[0]}?cc_load_policy=1&cc_lang_pref=en`:l.includes("youtu.be/")?`https://www.youtube.com/embed/${(f=l.split("youtu.be/")[1])==null?void 0:f.split("?")[0]}?cc_load_policy=1&cc_lang_pref=en`:l},s=l=>l.includes("vimeo.com")||l.includes("player.vimeo.com"),o=l=>l.includes("drive.google.com");return c.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4",children:[c.jsxs("div",{className:"bg-gray-900 rounded-xl max-w-4xl w-full max-h-[90vh] overflow-hidden",children:[c.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-800",children:[c.jsxs("h3",{className:"text-xl font-semibold text-white",children:[r," - Trailer"]}),c.jsx("button",{onClick:e,className:"text-gray-400 hover:text-white transition-colors p-2 hover:bg-gray-800 rounded-lg",children:c.jsx($m,{size:24})})]}),c.jsx("div",{className:"aspect-video relative",children:c.jsx("iframe",{src:i(n),title:`${r} Trailer`,className:"absolute top-0 left-0 w-full h-full",frameBorder:"0",allow:s(n)?"autoplay; fullscreen; picture-in-picture; clipboard-write; encrypted-media; web-share":o(n)?"autoplay; fullscreen; picture-in-picture":"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,sandbox:"allow-same-origin allow-scripts allow-popups allow-forms"})})]}),s(n)&&c.jsx("script",{src:"https://player.vimeo.com/api/player.js",async:!0})]})},Lm=({movie:t,rating:e,onRatingChange:n,showAdditionalQuestions:r=!1,diversityRating:i=-1,noveltyRating:s=-1,serendipityRating:o=-1,onDiversityChange:l,onNoveltyChange:a,onSerendipityChange:u,onTrailerStart:d,onTrailerEnd:h})=>{const[f,y]=F.useState(!1),[w,v]=F.useState(!1),k=()=>{d&&d(t.id),v(!0)},m=()=>{h&&h(t.id),v(!1)},p=()=>{y(!f)},g=t.description.length>160,_=g?t.description.substring(0,160)+"...":t.description;return c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"bg-gray-900 rounded-xl overflow-hidden shadow-2xl hover:shadow-3xl transition-all duration-300 hover:scale-105 border border-gray-800 flex flex-col h-full",children:[c.jsxs("div",{className:"relative group",children:[c.jsx("img",{src:t.poster,alt:t.title,className:"w-full h-80 object-contain bg-gray-800"}),c.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-50 transition-all duration-300 flex items-center justify-center",children:c.jsx("button",{onClick:k,className:"opacity-0 group-hover:opacity-100 bg-amber-500 hover:bg-amber-600 text-black p-4 rounded-full transition-all duration-300 transform scale-0 group-hover:scale-100",children:c.jsx(Tm,{size:24})})})]}),c.jsxs("div",{className:"p-6 flex flex-col flex-grow",children:[c.jsxs("div",{className:"flex items-center gap-4 mb-3 text-sm text-gray-400",children:[c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx(xm,{size:16}),c.jsx("span",{children:t.year})]}),c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx(oh,{size:16}),c.jsx("span",{children:t.director})]}),c.jsx("span",{className:"bg-amber-500 text-black px-3 py-1 rounded text-xs font-medium",children:t.genre})]}),c.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:t.title}),c.jsxs("div",{className:"mb-4 flex-shrink-0",children:[c.jsxs("div",{className:"flex items-center gap-1 mb-2",children:[c.jsx(Im,{size:16,className:"text-amber-400"}),c.jsx("span",{className:"text-amber-400 font-medium text-sm",children:"Cast"})]}),c.jsx("p",{className:"text-gray-300 text-sm",children:t.actors})]}),c.jsxs("div",{className:"mb-6 flex-grow",children:[c.jsxs("div",{className:"flex items-center gap-1 mb-2",children:[c.jsx(jm,{size:14,className:"text-white"}),c.jsx("span",{className:"text-white font-medium text-sm",children:"Description"})]}),c.jsx("p",{className:"text-gray-300 text-sm leading-relaxed",children:f?t.description:_}),g&&c.jsx("button",{onClick:p,className:"flex items-center gap-1 mt-2 text-amber-400 hover:text-amber-300 text-sm font-medium transition-colors duration-200",children:f?c.jsxs(c.Fragment,{children:[c.jsx("span",{children:"See Less"}),c.jsx(Sm,{size:16})]}):c.jsxs(c.Fragment,{children:[c.jsx("span",{children:"See More"}),c.jsx(km,{size:16})]})})]}),c.jsxs("div",{className:"space-y-4 flex-shrink-0",children:[c.jsx(vi,{rating:e,onRatingChange:n,label:r?"* Your Rating":"Your Rating"}),r&&c.jsx(c.Fragment,{children:c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"relative",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[c.jsx("span",{className:"text-amber-400 font-medium text-sm",children:"* How diverse is this movie? (0 = not diverse, 10 = very diverse)"}),c.jsxs("div",{className:"relative group",children:[c.jsx(io,{size:16,className:"text-gray-400 hover:text-amber-400 cursor-help"}),c.jsx("div",{className:"absolute bottom-full right-0 mb-2 px-3 py-2 bg-gray-800 border border-gray-600 text-white text-xs rounded-lg opacity-0 group-hover:opacity-100 transition-opacity duration-200 pointer-events-none w-64 z-50 shadow-xl",children:"How different is this recommended movie from other movies in this list?"})]})]}),c.jsx(vi,{rating:i,onRatingChange:l,label:""})]}),c.jsxs("div",{className:"relative",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[c.jsx("span",{className:"text-amber-400 font-medium text-sm",children:"* How novel is this movie? (0 = not novel, 10 = very novel)"}),c.jsxs("div",{className:"relative group",children:[c.jsx(io,{size:16,className:"text-gray-400 hover:text-amber-400 cursor-help"}),c.jsx("div",{className:"absolute bottom-full right-0 mb-2 px-3 py-2 bg-gray-800 border border-gray-600 text-white text-xs rounded-lg opacity-0 group-hover:opacity-100 transition-opacity duration-200 pointer-events-none w-64 z-50 shadow-xl",children:"How new, fresh, or unfamiliar is this movie to you?"})]})]}),c.jsx(vi,{rating:s,onRatingChange:a,label:""})]}),c.jsxs("div",{className:"relative",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[c.jsx("span",{className:"text-amber-400 font-medium text-sm",children:"* How serendipitous is this movie? (0 = not serendipitous, 10 = very serendipitous)"}),c.jsxs("div",{className:"relative group",children:[c.jsx(io,{size:16,className:"text-gray-400 hover:text-amber-400 cursor-help"}),c.jsx("div",{className:"absolute bottom-full right-0 mb-2 px-3 py-2 bg-gray-800 border border-gray-600 text-white text-xs rounded-lg opacity-0 group-hover:opacity-100 transition-opacity duration-200 pointer-events-none w-64 z-50 shadow-xl",children:"How surprising or unexpected is this recommended movie for you?"})]})]}),c.jsx(vi,{rating:o,onRatingChange:u,label:""})]})]})})]})]})]}),c.jsx(Am,{isOpen:w,onClose:m,trailerUrl:t.trailer,movieTitle:t.title})]})},Mm=({current:t,total:e,minimum:n,label:r})=>{const i=t/e*100,s=n?n/e*100:0;return c.jsxs("div",{className:"w-full mb-8",children:[c.jsxs("div",{className:"flex justify-between items-center mb-2",children:[c.jsxs("div",{className:"flex flex-col gap-1",children:[c.jsx("span",{className:"text-amber-400 font-medium",children:r}),r.includes("Initial")&&c.jsx("span",{className:"text-gray-400 text-sm italic",children:" Rate more movies to get more accurate recommendations!"})]}),c.jsxs("span",{className:"text-white",children:[t,"/",e,n&&t<n&&c.jsxs("span",{className:"text-amber-500 ml-2",children:["(minimum ",n,")"]})]})]}),c.jsxs("div",{className:"w-full bg-gray-800 rounded-full h-3 overflow-hidden relative",children:[c.jsx("div",{className:"h-full bg-gradient-to-r from-amber-500 to-amber-600 transition-all duration-500 ease-out",style:{width:`${Math.min(i,100)}%`}}),n&&c.jsx("div",{className:"absolute top-0 w-0.5 h-full bg-red-500 z-10",style:{left:`${s}%`}})]})]})},zm=({ratingsCount:t,onGetRecommendations:e,onRateMore:n})=>c.jsx("div",{className:"min-h-screen bg-gray-950 flex items-center justify-center p-8",children:c.jsxs("div",{className:"max-w-2xl mx-auto text-center",children:[c.jsxs("div",{className:"mb-8",children:[c.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-amber-500 rounded-full mb-6",children:c.jsx(aa,{size:40,className:"text-black"})}),c.jsx("h1",{className:"text-4xl font-bold text-white mb-4",children:"Great Progress!"}),c.jsxs("p",{className:"text-xl text-gray-300 mb-8",children:["You've rated ",t," movies. What would you like to do next?"]})]}),c.jsxs("div",{className:"bg-amber-500 bg-opacity-10 border border-amber-500 rounded-lg p-6 mb-8",children:[c.jsxs("div",{className:"flex items-center justify-center mb-4",children:[c.jsx(Em,{className:"text-amber-400 mr-2",size:24}),c.jsx("span",{className:"text-amber-400 font-semibold",children:"Pro Tip"})]}),c.jsx("p",{className:"text-white text-lg",children:"The more movies you rate, the more accurate your recommendations will be!"})]}),c.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[c.jsxs("button",{onClick:e,className:"bg-amber-500 hover:bg-amber-600 text-black font-semibold py-4 px-8 rounded-lg transition-all duration-300 transform hover:scale-105 shadow-lg hover:shadow-xl",children:[c.jsx("div",{className:"text-xl mb-2",children:"Get Recommendations"}),c.jsx("div",{className:"text-sm opacity-90",children:"See movies picked just for you"})]}),c.jsxs("button",{onClick:n,className:"bg-gray-800 hover:bg-gray-700 text-white font-semibold py-4 px-8 rounded-lg transition-all duration-300 transform hover:scale-105 shadow-lg hover:shadow-xl border border-gray-600",children:[c.jsx("div",{className:"text-xl mb-2",children:"Rate More Movies"}),c.jsx("div",{className:"text-sm opacity-70",children:"Improve recommendation accuracy"})]})]})]})}),Dm=({totalRatings:t,averageRating:e})=>c.jsx("div",{className:"min-h-screen bg-gray-950 flex items-center justify-center p-8",children:c.jsxs("div",{className:"max-w-2xl mx-auto text-center",children:[c.jsxs("div",{className:"mb-8",children:[c.jsx("div",{className:"inline-flex items-center justify-center w-24 h-24 bg-amber-500 rounded-full mb-6",children:c.jsx(Om,{size:48,className:"text-black"})}),c.jsx("h1",{className:"text-4xl font-bold text-white mb-4",children:"Congratulations!"}),c.jsx("p",{className:"text-xl text-gray-300 mb-8",children:"You've successfully completed the movie rating study!"})]}),c.jsxs("div",{className:"grid md:grid-cols-2 gap-6 mb-8",children:[c.jsxs("div",{className:"bg-gray-900 rounded-lg p-6 border border-gray-800",children:[c.jsxs("div",{className:"flex items-center justify-center mb-4",children:[c.jsx(aa,{className:"text-amber-400 mr-2",size:24}),c.jsx("span",{className:"text-amber-400 font-semibold",children:"Total Ratings"})]}),c.jsx("div",{className:"text-3xl font-bold text-white",children:t})]}),c.jsxs("div",{className:"bg-gray-900 rounded-lg p-6 border border-gray-800",children:[c.jsxs("div",{className:"flex items-center justify-center mb-4",children:[c.jsx(_m,{className:"text-amber-400 mr-2",size:24}),c.jsx("span",{className:"text-amber-400 font-semibold",children:"Average Rating"})]}),c.jsxs("div",{className:"text-3xl font-bold text-white",children:[e.toFixed(1),"/10"]})]})]}),c.jsxs("div",{className:"bg-amber-500 bg-opacity-10 border border-amber-500 rounded-lg p-8",children:[c.jsxs("div",{className:"flex items-center justify-center mb-4",children:[c.jsx(bm,{className:"text-amber-400 mr-2",size:24}),c.jsx("span",{className:"text-amber-400 font-semibold text-lg",children:"Thank You!"})]}),c.jsx("p",{className:"text-white text-lg text-center leading-relaxed",children:"Thank you for participating in our study! You can now close the window."})]})]})}),Um=({onStart:t})=>c.jsx("div",{className:"min-h-screen bg-gray-950 flex items-center justify-center p-8",children:c.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[c.jsxs("div",{className:"mb-8",children:[c.jsx("div",{className:"inline-flex items-center justify-center w-24 h-24 bg-amber-500 rounded-full mb-6",children:c.jsx(sh,{size:48,className:"text-black"})}),c.jsx("h1",{className:"text-5xl font-bold text-white mb-4",children:"Welcome to CineRate"}),c.jsx("p",{className:"text-xl text-gray-300 mb-8 max-w-3xl mx-auto",children:"Please follow the steps below to help us understand your movie preferences."}),c.jsxs("div",{className:"bg-amber-500 bg-opacity-10 border border-amber-500 rounded-xl p-6 mb-8 max-w-3xl mx-auto",children:[c.jsx("h3",{className:"text-amber-400 font-semibold text-lg mb-3",children:"Important Notice"}),c.jsx("p",{className:"text-gray-300 leading-relaxed",children:"Providing more frequent and accurate ratings will lead to more precise recommendations. Upon completion of this study, we will conduct a lottery in which the winner will receive a video-on-demand (VOD) rental of their highest-rated recommended movie as a reward."})]})]}),c.jsxs("div",{className:"grid md:grid-cols-3 gap-8 mb-12",children:[c.jsxs("div",{className:"bg-gray-900 rounded-xl p-6 border border-gray-800",children:[c.jsx("div",{className:"flex items-center justify-center w-16 h-16 bg-amber-500 bg-opacity-20 rounded-full mb-4 mx-auto",children:c.jsx(aa,{className:"text-amber-400",size:32})}),c.jsxs("h3",{className:"text-xl font-semibold text-white mb-3",children:["Step 1.",c.jsx("br",{})," Rate Movies"]}),c.jsx("p",{className:"text-gray-400",children:"Start by rating movies to help us understand your taste preferences. You can watch the trailer by clicking on the poster."})]}),c.jsxs("div",{className:"bg-gray-900 rounded-xl p-6 border border-gray-800",children:[c.jsx("div",{className:"flex items-center justify-center w-16 h-16 bg-amber-500 bg-opacity-20 rounded-full mb-4 mx-auto",children:c.jsx(Rm,{className:"text-amber-400",size:32})}),c.jsxs("h3",{className:"text-xl font-semibold text-white mb-3",children:["Step 2.",c.jsx("br",{})," Get Recommendations"]}),c.jsx("p",{className:"text-gray-400",children:"Receive personalized movie recommendations based on your ratings and preferences."})]}),c.jsxs("div",{className:"bg-gray-900 rounded-xl p-6 border border-gray-800",children:[c.jsx("div",{className:"flex items-center justify-center w-16 h-16 bg-amber-500 bg-opacity-20 rounded-full mb-4 mx-auto",children:c.jsx(wm,{className:"text-amber-400",size:32})}),c.jsxs("h3",{className:"text-xl font-semibold text-white mb-3",children:["Step 3.",c.jsx("br",{})," Evaluate Quality"]}),c.jsx("p",{className:"text-gray-400",children:"Rate the recommended movies, as well as the diversity, novelty, and serendipity of our recommendations."})]})]}),c.jsxs("div",{className:"bg-amber-500 bg-opacity-10 border border-amber-500 rounded-xl p-8 mb-8",children:[c.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"How It Works"}),c.jsxs("div",{className:"grid md:grid-cols-2 gap-6 text-left",children:[c.jsxs("div",{children:[c.jsx("h4",{className:"text-amber-400 font-semibold mb-2",children:"Phase 1: Initial Ratings"}),c.jsx("p",{className:"text-gray-300 text-sm",children:"Rate movies from our curated collection. You'll need to rate a minimum number of movies to proceed, but rating more movies improves recommendation accuracy."})]}),c.jsxs("div",{children:[c.jsx("h4",{className:"text-amber-400 font-semibold mb-2",children:"Phase 2: Personalized Recommendations"}),c.jsx("p",{className:"text-gray-300 text-sm",children:"Based on your ratings, we'll show you personalized recommendations. Rate all of these movies and answer additional questions about diversity, novelty, and serendipity."})]})]})]}),c.jsxs("div",{className:"text-center",children:[c.jsxs("button",{onClick:t,className:"bg-amber-500 hover:bg-amber-600 text-black font-bold py-4 px-8 rounded-xl transition-all duration-300 transform hover:scale-105 shadow-lg hover:shadow-xl inline-flex items-center gap-3 text-lg",children:["Start Rating Movies",c.jsx(rh,{size:24})]}),c.jsx("p",{className:"text-gray-400 text-sm mt-4",children:"This study takes approximately 30 minutes to complete"})]})]})}),Fm=({isOpen:t,onModifyRatings:e,onFinish:n})=>t?c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4",children:c.jsx("div",{className:"bg-gray-900 rounded-xl max-w-md w-full p-8 border border-gray-800",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-green-500 rounded-full mb-6",children:c.jsx(ih,{size:32,className:"text-white"})}),c.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Phase 2 Complete!"}),c.jsx("p",{className:"text-gray-300 mb-8",children:"You have successfully rated all recommended movies and answered the additional questions. You can now finish the study or modify your ratings if needed."}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("button",{onClick:e,className:"w-full bg-gray-800 hover:bg-gray-700 text-white font-semibold py-3 px-6 rounded-lg transition-all duration-300 border border-gray-600 flex items-center justify-center gap-2",children:[c.jsx(Pm,{size:20}),"Modify Ratings"]}),c.jsxs("button",{onClick:n,className:"w-full bg-amber-500 hover:bg-amber-600 text-black font-semibold py-3 px-6 rounded-lg transition-all duration-300 transform hover:scale-105 shadow-lg flex items-center justify-center gap-2",children:["Finish Study",c.jsx(rh,{size:20})]})]})]})})}):null,Bm=({onComplete:t})=>{const[e,n]=F.useState({movieWatchingFrequency:"",streamingServices:[],primaryStreamingService:"",movieGenrePreferences:[],opennessToExperience:"",riskAversion:"",movieExpertise:"",attentionCheck:"",serendipityAttitude:"",noveltyAttitude:"",diversityAttitude:"",gender:"",ageRange:"",nationality:"",occupation:"",additionalComments:"",email:""}),[r,i]=F.useState([]),s=["0-1","2-3","4-6","7-10","More than 10"],o=["Action","Adventure","Animation","Comedy","Drama","Horror","Romance","Science Fiction"],l=["18-24","25-34","35-44","45-54","55-64","65 or older"],a=["1","2","3","4","5","6","7"],u=["1","2","3","4","5","6","7"],d=["1","2","3","4","5","6","7"],h=["1","2","3","4","5","6","7"],f=(v,k)=>{n(m=>({...m,movieGenrePreferences:k?[v]:[]}))},y=()=>{const v=[];return e.movieWatchingFrequency||v.push("Movie watching frequency is required"),e.movieGenrePreferences.length===0&&v.push("At least one movie genre preference is required"),e.opennessToExperience||v.push("Openness to experience question is required"),e.riskAversion||v.push("Risk aversion question is required"),e.movieExpertise||v.push("Movie expertise question is required"),e.serendipityAttitude||v.push("Serendipity attitude question is required"),e.noveltyAttitude||v.push("Novelty attitude question is required"),e.diversityAttitude||v.push("Diversity attitude question is required"),e.attentionCheck||v.push("Please answer the attention check question"),i(v),v.length===0},w=v=>{v.preventDefault(),y()&&t(e)};return c.jsx("div",{className:"min-h-screen bg-gray-950 py-8 px-4",children:c.jsxs("div",{className:"max-w-4xl mx-auto",children:[c.jsxs("div",{className:"text-center mb-8",children:[c.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-amber-500 rounded-full mb-4",children:c.jsx(ih,{size:32,className:"text-black"})}),c.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Final Questionnaire"}),c.jsx("p",{className:"text-gray-300",children:"Please answer a few questions about your movie preferences and background"})]}),r.length>0&&c.jsxs("div",{className:"bg-red-900 border border-red-500 rounded-lg p-4 mb-6",children:[c.jsx("h3",{className:"text-red-400 font-semibold mb-2",children:"Please complete the following required fields:"}),c.jsx("ul",{className:"text-red-300 text-sm space-y-1",children:r.map((v,k)=>c.jsxs("li",{children:[" ",v]},k))})]}),c.jsxs("form",{onSubmit:w,className:"space-y-8",children:[c.jsxs("div",{className:"bg-gray-900 rounded-xl p-6 border border-gray-800",children:[c.jsx("h2",{className:"text-xl font-semibold text-white mb-6",children:"Required Information"}),c.jsxs("div",{className:"mb-6",children:[c.jsx("label",{className:"block text-amber-400 font-medium mb-3",children:"How many movies do you watch per month? *"}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:s.map(v=>c.jsxs("label",{className:"flex items-center",children:[c.jsx("input",{type:"radio",name:"movieFrequency",value:v,checked:e.movieWatchingFrequency===v,onChange:k=>n(m=>({...m,movieWatchingFrequency:k.target.value})),className:"mr-3 text-amber-500 focus:ring-amber-500"}),c.jsx("span",{className:"text-gray-300",children:v})]},v))})]}),c.jsxs("div",{className:"mb-6",children:[c.jsx("label",{className:"block text-amber-400 font-medium mb-3",children:"What is your most favorite movie genre? (Select one) *"}),c.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:o.map(v=>c.jsxs("label",{className:"flex items-center",children:[c.jsx("input",{type:"radio",name:"movieGenre",value:v,checked:e.movieGenrePreferences.includes(v),onChange:k=>f(v,k.target.checked),className:"mr-3 text-amber-500 focus:ring-amber-500"}),c.jsx("span",{className:"text-gray-300",children:v})]},v))})]}),c.jsxs("div",{className:"mb-6",children:[c.jsx("label",{className:"block text-amber-400 font-medium mb-3",children:"How knowledgeable are you about movies in general? (1-Not at all knowledgeable, 7-Extremely knowledgeable) *"}),c.jsx("div",{className:"grid grid-cols-7 gap-2",children:d.map(v=>c.jsxs("label",{className:"flex flex-col items-center",children:[c.jsx("input",{type:"radio",name:"movieExpertise",value:v,checked:e.movieExpertise===v,onChange:k=>n(m=>({...m,movieExpertise:k.target.value})),className:"mb-1 text-amber-500 focus:ring-amber-500"}),c.jsx("span",{className:"text-gray-300 text-sm",children:v})]},v))})]}),c.jsxs("div",{className:"mb-6",children:[c.jsx("label",{className:"block text-amber-400 font-medium mb-3",children:'To help us with the survey, please select "4" for this question. *'}),c.jsx("div",{className:"grid grid-cols-7 gap-2",children:["1","2","3","4","5","6","7"].map(v=>c.jsxs("label",{className:"flex flex-col items-center",children:[c.jsx("input",{type:"radio",name:"attentionCheck",value:v,checked:e.attentionCheck===v,onChange:k=>n(m=>({...m,attentionCheck:k.target.value})),className:"mb-1 text-amber-500 focus:ring-amber-500"}),c.jsx("span",{className:"text-gray-300 text-sm",children:v})]},v))})]}),c.jsxs("div",{className:"mb-6",children:[c.jsx("label",{className:"block text-amber-400 font-medium mb-3",children:"I enjoy trying new and different things. (1-Strongly disagree, 7-Strongly agree) *"}),c.jsx("div",{className:"grid grid-cols-7 gap-2",children:a.map(v=>c.jsxs("label",{className:"flex flex-col items-center",children:[c.jsx("input",{type:"radio",name:"opennessToExperience",value:v,checked:e.opennessToExperience===v,onChange:k=>n(m=>({...m,opennessToExperience:k.target.value})),className:"mb-1 text-amber-500 focus:ring-amber-500"}),c.jsx("span",{className:"text-gray-300 text-sm",children:v})]},v))})]}),c.jsxs("div",{className:"mb-6",children:[c.jsx("label",{className:"block text-amber-400 font-medium mb-3",children:"I prefer predictable and familiar experiences over unexpected ones. (1-Strongly disagree, 7-Strongly agree) *"}),c.jsx("div",{className:"grid grid-cols-7 gap-2",children:u.map(v=>c.jsxs("label",{className:"flex flex-col items-center",children:[c.jsx("input",{type:"radio",name:"riskAversion",value:v,checked:e.riskAversion===v,onChange:k=>n(m=>({...m,riskAversion:k.target.value})),className:"mb-1 text-amber-500 focus:ring-amber-500"}),c.jsx("span",{className:"text-gray-300 text-sm",children:v})]},v))})]}),c.jsxs("div",{className:"mb-6",children:[c.jsx("label",{className:"block text-amber-400 font-medium mb-3",children:"I enjoy receiving recommendations that are unexpected and surprising. (1-Strongly disagree, 7-Strongly agree) *"}),c.jsx("div",{className:"grid grid-cols-7 gap-2",children:h.map(v=>c.jsxs("label",{className:"flex flex-col items-center",children:[c.jsx("input",{type:"radio",name:"serendipityAttitude",value:v,checked:e.serendipityAttitude===v,onChange:k=>n(m=>({...m,serendipityAttitude:k.target.value})),className:"mb-1 text-amber-500 focus:ring-amber-500"}),c.jsx("span",{className:"text-gray-300 text-sm",children:v})]},v))})]}),c.jsxs("div",{className:"mb-6",children:[c.jsx("label",{className:"block text-amber-400 font-medium mb-3",children:"I prefer recommendations that are new and unfamiliar to me. (1-Strongly disagree, 7-Strongly agree) *"}),c.jsx("div",{className:"grid grid-cols-7 gap-2",children:h.map(v=>c.jsxs("label",{className:"flex flex-col items-center",children:[c.jsx("input",{type:"radio",name:"noveltyAttitude",value:v,checked:e.noveltyAttitude===v,onChange:k=>n(m=>({...m,noveltyAttitude:k.target.value})),className:"mb-1 text-amber-500 focus:ring-amber-500"}),c.jsx("span",{className:"text-gray-300 text-sm",children:v})]},v))})]}),c.jsxs("div",{className:"mb-6",children:[c.jsx("label",{className:"block text-amber-400 font-medium mb-3",children:"I like recommendations that include a variety of different genres and styles. (1-Strongly disagree, 7-Strongly agree) *"}),c.jsx("div",{className:"grid grid-cols-7 gap-2",children:h.map(v=>c.jsxs("label",{className:"flex flex-col items-center",children:[c.jsx("input",{type:"radio",name:"diversityAttitude",value:v,checked:e.diversityAttitude===v,onChange:k=>n(m=>({...m,diversityAttitude:k.target.value})),className:"mb-1 text-amber-500 focus:ring-amber-500"}),c.jsx("span",{className:"text-gray-300 text-sm",children:v})]},v))})]})]}),c.jsxs("div",{className:"bg-gray-900 rounded-xl p-6 border border-gray-800",children:[c.jsxs("h2",{className:"text-xl font-semibold text-white mb-6 flex items-center",children:[c.jsx(oh,{className:"mr-2",size:24}),"Optional Information"]}),c.jsxs("div",{className:"mb-6",children:[c.jsx("label",{className:"block text-amber-400 font-medium mb-3",children:"Gender (Optional)"}),c.jsxs("select",{value:e.gender||"",onChange:v=>n(k=>({...k,gender:v.target.value})),className:"w-full bg-gray-800 border border-gray-600 text-white rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-amber-500",children:[c.jsx("option",{value:"",children:"Select"}),c.jsx("option",{value:"Male",children:"Male"}),c.jsx("option",{value:"Female",children:"Female"}),c.jsx("option",{value:"Non-binary",children:"Non-binary"}),c.jsx("option",{value:"Prefer not to say",children:"Prefer not to say"}),c.jsx("option",{value:"Other",children:"Other"})]})]}),c.jsxs("div",{className:"mb-6",children:[c.jsx("label",{className:"block text-amber-400 font-medium mb-3",children:"Age Range (Optional)"}),c.jsxs("select",{value:e.ageRange||"",onChange:v=>n(k=>({...k,ageRange:v.target.value})),className:"w-full bg-gray-800 border border-gray-600 text-white rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-amber-500",children:[c.jsx("option",{value:"",children:"Select age range"}),l.map(v=>c.jsx("option",{value:v,children:v},v))]})]}),c.jsxs("div",{className:"mb-6",children:[c.jsxs("label",{className:"block text-amber-400 font-medium mb-3 flex items-center",children:[c.jsx(Cm,{className:"mr-2",size:20}),"Email Address for Lottery Participation (Optional)"]}),c.jsx("input",{type:"email",value:e.email||"",onChange:v=>n(k=>({...k,email:v.target.value})),placeholder:"Enter your email address to participate in the lottery",className:"w-full bg-gray-800 border border-gray-600 text-white rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-amber-500"}),c.jsx("p",{className:"text-gray-400 text-sm mt-2",children:"If you provide your email, you'll be eligible for the lottery to win a video-on-demand (VOD) rental of your highest-rated recommended movie."})]}),c.jsxs("div",{className:"mb-6",children:[c.jsxs("label",{className:"block text-amber-400 font-medium mb-3 flex items-center",children:[c.jsx(Nm,{className:"mr-2",size:20}),"Additional Comments (Optional)"]}),c.jsx("textarea",{value:e.additionalComments||"",onChange:v=>n(k=>({...k,additionalComments:v.target.value})),placeholder:"Any additional thoughts about the study or your movie preferences...",rows:4,className:"w-full bg-gray-800 border border-gray-600 text-white rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-amber-500 resize-vertical"})]})]}),c.jsx("div",{className:"text-center",children:c.jsx("button",{type:"submit",className:"bg-amber-500 hover:bg-amber-600 text-black font-bold py-4 px-8 rounded-xl transition-all duration-300 transform hover:scale-105 shadow-lg text-lg",children:"Complete Study"})})]})]})})},Wm="modulepreload",Hm=function(t){return"/"+t},Cu={},Yr=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(n.map(a=>{if(a=Hm(a),a in Cu)return;Cu[a]=!0;const u=a.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${a}"]${d}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":Wm,u||(h.as="script"),h.crossOrigin="",h.href=a,l&&h.setAttribute("nonce",l),document.head.appendChild(h),u)return new Promise((f,y)=>{h.addEventListener("load",f),h.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${a}`)))})}))}function s(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return i.then(o=>{for(const l of o||[])l.status==="rejected"&&s(l.reason);return e().catch(s)})},Vm=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Yr(async()=>{const{default:r}=await Promise.resolve().then(()=>Yn);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};class ua extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class qm extends ua{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Km extends ua{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Gm extends ua{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var sl;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(sl||(sl={}));var Qm=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function a(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?s(d.value):i(d.value).then(l,a)}u((r=r.apply(t,e||[])).next())})};class Jm{constructor(e,{headers:n={},customFetch:r,region:i=sl.Any}={}){this.url=e,this.headers=n,this.region=i,this.fetch=Vm(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var r;return Qm(this,void 0,void 0,function*(){try{const{headers:i,method:s,body:o}=n;let l={},{region:a}=n;a||(a=this.region),a&&a!=="any"&&(l["x-region"]=a);let u;o&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(l["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(l["Content-Type"]="application/json",u=JSON.stringify(o)));const d=yield this.fetch(`${this.url}/${e}`,{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),i),body:u}).catch(w=>{throw new qm(w)}),h=d.headers.get("x-relay-error");if(h&&h==="true")throw new Km(d);if(!d.ok)throw new Gm(d);let f=((r=d.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),y;return f==="application/json"?y=yield d.json():f==="application/octet-stream"?y=yield d.blob():f==="text/event-stream"?y=d:f==="multipart/form-data"?y=yield d.formData():y=yield d.text(),{data:y,error:null}}catch(i){return{data:null,error:i}}})}}var Ce={},ca={},Ss={},Xr={},js={},bs={},Ym=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Kn=Ym();const Xm=Kn.fetch,lh=Kn.fetch.bind(Kn),ah=Kn.Headers,Zm=Kn.Request,eg=Kn.Response,Yn=Object.freeze(Object.defineProperty({__proto__:null,Headers:ah,Request:Zm,Response:eg,default:lh,fetch:Xm},Symbol.toStringTag,{value:"Module"})),tg=Wh(Yn);var Es={};Object.defineProperty(Es,"__esModule",{value:!0});let ng=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};Es.default=ng;var uh=Be&&Be.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(bs,"__esModule",{value:!0});const rg=uh(tg),ig=uh(Es);let sg=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=rg.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,n){return this.headers=Object.assign({},this.headers),this.headers[e]=n,this}then(e,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async s=>{var o,l,a;let u=null,d=null,h=null,f=s.status,y=s.statusText;if(s.ok){if(this.method!=="HEAD"){const m=await s.text();m===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=m:d=JSON.parse(m))}const v=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),k=(l=s.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");v&&k&&k.length>1&&(h=parseInt(k[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,h=null,f=406,y="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const v=await s.text();try{u=JSON.parse(v),Array.isArray(u)&&s.status===404&&(d=[],u=null,f=200,y="OK")}catch{s.status===404&&v===""?(f=204,y="No Content"):u={message:v}}if(u&&this.isMaybeSingle&&(!((a=u==null?void 0:u.details)===null||a===void 0)&&a.includes("0 rows"))&&(u=null,f=200,y="OK"),u&&this.shouldThrowOnError)throw new ig.default(u)}return{error:u,data:d,count:h,status:f,statusText:y}});return this.shouldThrowOnError||(i=i.catch(s=>{var o,l,a;return{error:{message:`${(o=s==null?void 0:s.name)!==null&&o!==void 0?o:"FetchError"}: ${s==null?void 0:s.message}`,details:`${(l=s==null?void 0:s.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(a=s==null?void 0:s.code)!==null&&a!==void 0?a:""}`},data:null,count:null,status:0,statusText:""}})),i.then(e,n)}returns(){return this}overrideTypes(){return this}};bs.default=sg;var og=Be&&Be.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(js,"__esModule",{value:!0});const lg=og(bs);let ag=class extends lg.default{select(e){let n=!1;const r=(e??"*").split("").map(i=>/\s/.test(i)&&!n?"":(i==='"'&&(n=!n),i)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:n=!0,nullsFirst:r,foreignTable:i,referencedTable:s=i}={}){const o=s?`${s}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${e}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:n,referencedTable:r=n}={}){const i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${e}`),this}range(e,n,{foreignTable:r,referencedTable:i=r}={}){const s=typeof i>"u"?"offset":`${i}.offset`,o=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(s,`${e}`),this.url.searchParams.set(o,`${n-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:n=!1,settings:r=!1,buffers:i=!1,wal:s=!1,format:o="text"}={}){var l;const a=[e?"analyze":null,n?"verbose":null,r?"settings":null,i?"buffers":null,s?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${u}"; options=${a};`,o==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};js.default=ag;var ug=Be&&Be.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Xr,"__esModule",{value:!0});const cg=ug(js);let dg=class extends cg.default{eq(e,n){return this.url.searchParams.append(e,`eq.${n}`),this}neq(e,n){return this.url.searchParams.append(e,`neq.${n}`),this}gt(e,n){return this.url.searchParams.append(e,`gt.${n}`),this}gte(e,n){return this.url.searchParams.append(e,`gte.${n}`),this}lt(e,n){return this.url.searchParams.append(e,`lt.${n}`),this}lte(e,n){return this.url.searchParams.append(e,`lte.${n}`),this}like(e,n){return this.url.searchParams.append(e,`like.${n}`),this}likeAllOf(e,n){return this.url.searchParams.append(e,`like(all).{${n.join(",")}}`),this}likeAnyOf(e,n){return this.url.searchParams.append(e,`like(any).{${n.join(",")}}`),this}ilike(e,n){return this.url.searchParams.append(e,`ilike.${n}`),this}ilikeAllOf(e,n){return this.url.searchParams.append(e,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(e,n){return this.url.searchParams.append(e,`ilike(any).{${n.join(",")}}`),this}is(e,n){return this.url.searchParams.append(e,`is.${n}`),this}in(e,n){const r=Array.from(new Set(n)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cs.{${n.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(n)}`),this}containedBy(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cd.{${n.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(n)}`),this}rangeGt(e,n){return this.url.searchParams.append(e,`sr.${n}`),this}rangeGte(e,n){return this.url.searchParams.append(e,`nxl.${n}`),this}rangeLt(e,n){return this.url.searchParams.append(e,`sl.${n}`),this}rangeLte(e,n){return this.url.searchParams.append(e,`nxr.${n}`),this}rangeAdjacent(e,n){return this.url.searchParams.append(e,`adj.${n}`),this}overlaps(e,n){return typeof n=="string"?this.url.searchParams.append(e,`ov.${n}`):this.url.searchParams.append(e,`ov.{${n.join(",")}}`),this}textSearch(e,n,{config:r,type:i}={}){let s="";i==="plain"?s="pl":i==="phrase"?s="ph":i==="websearch"&&(s="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${s}fts${o}.${n}`),this}match(e){return Object.entries(e).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(e,n,r){return this.url.searchParams.append(e,`not.${n}.${r}`),this}or(e,{foreignTable:n,referencedTable:r=n}={}){const i=r?`${r}.or`:"or";return this.url.searchParams.append(i,`(${e})`),this}filter(e,n,r){return this.url.searchParams.append(e,`${n}.${r}`),this}};Xr.default=dg;var hg=Be&&Be.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ss,"__esModule",{value:!0});const cr=hg(Xr);let fg=class{constructor(e,{headers:n={},schema:r,fetch:i}){this.url=e,this.headers=n,this.schema=r,this.fetch=i}select(e,{head:n=!1,count:r}={}){const i=n?"HEAD":"GET";let s=!1;const o=(e??"*").split("").map(l=>/\s/.test(l)&&!s?"":(l==='"'&&(s=!s),l)).join("");return this.url.searchParams.set("select",o),r&&(this.headers.Prefer=`count=${r}`),new cr.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:n,defaultToNull:r=!0}={}){const i="POST",s=[];if(this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),r||s.push("missing=default"),this.headers.Prefer=s.join(","),Array.isArray(e)){const o=e.reduce((l,a)=>l.concat(Object.keys(a)),[]);if(o.length>0){const l=[...new Set(o)].map(a=>`"${a}"`);this.url.searchParams.set("columns",l.join(","))}}return new cr.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:n,ignoreDuplicates:r=!1,count:i,defaultToNull:s=!0}={}){const o="POST",l=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&l.push(this.headers.Prefer),i&&l.push(`count=${i}`),s||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(e)){const a=e.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(a.length>0){const u=[...new Set(a)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new cr.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:n}={}){const r="PATCH",i=[];return this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),this.headers.Prefer=i.join(","),new cr.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const n="DELETE",r=[];return e&&r.push(`count=${e}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new cr.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Ss.default=fg;var Cs={},Ns={};Object.defineProperty(Ns,"__esModule",{value:!0});Ns.version=void 0;Ns.version="0.0.0-automated";Object.defineProperty(Cs,"__esModule",{value:!0});Cs.DEFAULT_HEADERS=void 0;const pg=Ns;Cs.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${pg.version}`};var ch=Be&&Be.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ca,"__esModule",{value:!0});const mg=ch(Ss),gg=ch(Xr),vg=Cs;let yg=class dh{constructor(e,{headers:n={},schema:r,fetch:i}={}){this.url=e,this.headers=Object.assign(Object.assign({},vg.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=i}from(e){const n=new URL(`${this.url}/${e}`);return new mg.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new dh(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:i=!1,count:s}={}){let o;const l=new URL(`${this.url}/rpc/${e}`);let a;r||i?(o=r?"HEAD":"GET",Object.entries(n).filter(([d,h])=>h!==void 0).map(([d,h])=>[d,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([d,h])=>{l.searchParams.append(d,h)})):(o="POST",a=n);const u=Object.assign({},this.headers);return s&&(u.Prefer=`count=${s}`),new gg.default({method:o,url:l,headers:u,schema:this.schemaName,body:a,fetch:this.fetch,allowEmpty:!1})}};ca.default=yg;var Xn=Be&&Be.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ce,"__esModule",{value:!0});Ce.PostgrestError=Ce.PostgrestBuilder=Ce.PostgrestTransformBuilder=Ce.PostgrestFilterBuilder=Ce.PostgrestQueryBuilder=Ce.PostgrestClient=void 0;const hh=Xn(ca);Ce.PostgrestClient=hh.default;const fh=Xn(Ss);Ce.PostgrestQueryBuilder=fh.default;const ph=Xn(Xr);Ce.PostgrestFilterBuilder=ph.default;const mh=Xn(js);Ce.PostgrestTransformBuilder=mh.default;const gh=Xn(bs);Ce.PostgrestBuilder=gh.default;const vh=Xn(Es);Ce.PostgrestError=vh.default;var wg=Ce.default={PostgrestClient:hh.default,PostgrestQueryBuilder:fh.default,PostgrestFilterBuilder:ph.default,PostgrestTransformBuilder:mh.default,PostgrestBuilder:gh.default,PostgrestError:vh.default};const{PostgrestClient:_g,PostgrestQueryBuilder:vv,PostgrestFilterBuilder:yv,PostgrestTransformBuilder:wv,PostgrestBuilder:_v,PostgrestError:xv}=wg;let ol;typeof window>"u"?ol=require("ws"):ol=window.WebSocket;const xg=ol,kg="2.11.10",Sg={"X-Client-Info":`realtime-js/${kg}`},jg="1.0.0",yh=1e4,bg=1e3;var Dn;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Dn||(Dn={}));var we;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(we||(we={}));var Qe;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Qe||(Qe={}));var ll;(function(t){t.websocket="websocket"})(ll||(ll={}));var Xt;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Xt||(Xt={}));class Eg{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const i=n.getUint8(1),s=n.getUint8(2);let o=this.HEADER_LENGTH+2;const l=r.decode(e.slice(o,o+i));o=o+i;const a=r.decode(e.slice(o,o+s));o=o+s;const u=JSON.parse(r.decode(e.slice(o,e.byteLength)));return{ref:null,topic:l,event:a,payload:u}}}class wh{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var H;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(H||(H={}));const Nu=(t,e,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((s,o)=>(s[o]=Cg(o,t,e,i),s),{})},Cg=(t,e,n,r)=>{const i=e.find(l=>l.name===t),s=i==null?void 0:i.type,o=n[t];return s&&!r.includes(s)?_h(s,o):al(o)},_h=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return Rg(e,n)}switch(t){case H.bool:return Ng(e);case H.float4:case H.float8:case H.int2:case H.int4:case H.int8:case H.numeric:case H.oid:return Tg(e);case H.json:case H.jsonb:return Pg(e);case H.timestamp:return Og(e);case H.abstime:case H.date:case H.daterange:case H.int4range:case H.int8range:case H.money:case H.reltime:case H.text:case H.time:case H.timestamptz:case H.timetz:case H.tsrange:case H.tstzrange:return al(e);default:return al(e)}},al=t=>t,Ng=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},Tg=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},Pg=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},Rg=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let s;const o=t.slice(1,n);try{s=JSON.parse("["+o+"]")}catch{s=o?o.split(","):[]}return s.map(l=>_h(e,l))}return t},Og=t=>typeof t=="string"?t.replace(" ","T"):t,xh=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class so{constructor(e,n,r={},i=yh){this.channel=e,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Tu;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Tu||(Tu={}));class br{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:s,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=br.syncState(this.state,i,s,o),this.pendingDiffs.forEach(a=>{this.state=br.syncDiff(this.state,a,s,o)}),this.pendingDiffs=[],l()}),this.channel._on(r.diff,{},i=>{const{onJoin:s,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=br.syncDiff(this.state,i,s,o),l())}),this.onJoin((i,s,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:o})}),this.onLeave((i,s,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,i){const s=this.cloneDeep(e),o=this.transformState(n),l={},a={};return this.map(s,(u,d)=>{o[u]||(a[u]=d)}),this.map(o,(u,d)=>{const h=s[u];if(h){const f=d.map(k=>k.presence_ref),y=h.map(k=>k.presence_ref),w=d.filter(k=>y.indexOf(k.presence_ref)<0),v=h.filter(k=>f.indexOf(k.presence_ref)<0);w.length>0&&(l[u]=w),v.length>0&&(a[u]=v)}else l[u]=d}),this.syncDiff(s,{joins:l,leaves:a},r,i)}static syncDiff(e,n,r,i){const{joins:s,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(s,(l,a)=>{var u;const d=(u=e[l])!==null&&u!==void 0?u:[];if(e[l]=this.cloneDeep(a),d.length>0){const h=e[l].map(y=>y.presence_ref),f=d.filter(y=>h.indexOf(y.presence_ref)<0);e[l].unshift(...f)}r(l,d,a)}),this.map(o,(l,a)=>{let u=e[l];if(!u)return;const d=a.map(h=>h.presence_ref);u=u.filter(h=>d.indexOf(h.presence_ref)<0),e[l]=u,i(l,u,a),u.length===0&&delete e[l]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const i=e[r];return"metas"in i?n[r]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):n[r]=i,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Pu;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Pu||(Pu={}));var Ru;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Ru||(Ru={}));var dt;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(dt||(dt={}));class da{constructor(e,n={config:{}},r){this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=we.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new so(this,Qe.join,this.params,this.timeout),this.rejoinTimer=new wh(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=we.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=we.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=we.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=we.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Qe.reply,{},(i,s)=>{this._trigger(this._replyEventName(s),i)}),this.presence=new br(this),this.broadcastEndpointURL=xh(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var r,i;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:s,presence:o,private:l}}=this.params;this._onError(d=>e==null?void 0:e(dt.CHANNEL_ERROR,d)),this._onClose(()=>e==null?void 0:e(dt.CLOSED));const a={},u={broadcast:s,presence:o,postgres_changes:(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(d=>d.filter))!==null&&i!==void 0?i:[],private:l};this.socket.accessTokenValue&&(a.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},a)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:d})=>{var h;if(this.socket.setAuth(),d===void 0){e==null||e(dt.SUBSCRIBED);return}else{const f=this.bindings.postgres_changes,y=(h=f==null?void 0:f.length)!==null&&h!==void 0?h:0,w=[];for(let v=0;v<y;v++){const k=f[v],{filter:{event:m,schema:p,table:g,filter:_}}=k,b=d&&d[v];if(b&&b.event===m&&b.schema===p&&b.table===g&&b.filter===_)w.push(Object.assign(Object.assign({},k),{id:b.id}));else{this.unsubscribe(),this.state=we.errored,e==null||e(dt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=w,e&&e(dt.SUBSCRIBED);return}}).receive("error",d=>{this.state=we.errored,e==null||e(dt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(dt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this._on(e,n,r)}async send(e,n={}){var r,i;if(!this._canPush()&&e.type==="broadcast"){const{event:s,payload:o}=e,a={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var o,l,a;const u=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((a=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||a===void 0)&&a.ack)&&s("ok"),u.receive("ok",()=>s("ok")),u.receive("error",()=>s("error")),u.receive("timeout",()=>s("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=we.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Qe.close,"leave",this._joinRef())};return this.joinPush.destroy(),new Promise(r=>{const i=new so(this,Qe.leave,{},e);i.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),i.send(),this._canPush()||i.trigger("ok",{})})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(e,n,r){const i=new AbortController,s=setTimeout(()=>i.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(s),o}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new so(this,e,n,r);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var i,s;const o=e.toLocaleLowerCase(),{close:l,error:a,leave:u,join:d}=Qe;if(r&&[l,a,u,d].indexOf(o)>=0&&r!==this._joinRef())return;let f=this._onMessage(o,n,r);if(n&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(y=>{var w,v,k;return((w=y.filter)===null||w===void 0?void 0:w.event)==="*"||((k=(v=y.filter)===null||v===void 0?void 0:v.event)===null||k===void 0?void 0:k.toLocaleLowerCase())===o}).map(y=>y.callback(f,r)):(s=this.bindings[o])===null||s===void 0||s.filter(y=>{var w,v,k,m,p,g;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in y){const _=y.id,b=(w=y.filter)===null||w===void 0?void 0:w.event;return _&&((v=n.ids)===null||v===void 0?void 0:v.includes(_))&&(b==="*"||(b==null?void 0:b.toLocaleLowerCase())===((k=n.data)===null||k===void 0?void 0:k.type.toLocaleLowerCase()))}else{const _=(p=(m=y==null?void 0:y.filter)===null||m===void 0?void 0:m.event)===null||p===void 0?void 0:p.toLocaleLowerCase();return _==="*"||_===((g=n==null?void 0:n.event)===null||g===void 0?void 0:g.toLocaleLowerCase())}else return y.type.toLocaleLowerCase()===o}).map(y=>{if(typeof f=="object"&&"ids"in f){const w=f.data,{schema:v,table:k,commit_timestamp:m,type:p,errors:g}=w;f=Object.assign(Object.assign({},{schema:v,table:k,commit_timestamp:m,eventType:p,new:{},old:{},errors:g}),this._getPayloadRecords(w))}y.callback(f,r)})}_isClosed(){return this.state===we.closed}_isJoined(){return this.state===we.joined}_isJoining(){return this.state===we.joining}_isLeaving(){return this.state===we.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const i=e.toLocaleLowerCase(),s={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===r&&da.isEqual(i.filter,n))}),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Qe.close,{},e)}_onError(e){this._on(Qe.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=we.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=Nu(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=Nu(e.columns,e.old_record)),n}}const Ou=()=>{},Ig=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class $g{constructor(e,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers=Sg,this.params={},this.timeout=yh,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Ou,this.ref=0,this.logger=Ou,this.conn=null,this.sendBuffer=[],this.serializer=new Eg,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=s=>{let o;return s?o=s:typeof fetch>"u"?o=(...l)=>Yr(async()=>{const{default:a}=await Promise.resolve().then(()=>Yn);return{default:a}},void 0).then(({default:a})=>a(...l)):o=fetch,(...l)=>o(...l)},this.endPoint=`${e}/${ll.websocket}`,this.httpEndpoint=xh(e),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),(n!=null&&n.logLevel||n!=null&&n.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const i=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:s=>[1e3,2e3,5e3,1e4][s-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(s,o)=>o(JSON.stringify(s)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new wh(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=xg),this.transport){typeof window<"u"&&this.transport===window.WebSocket?this.conn=new this.transport(this.endpointURL()):this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection();return}this.conn=new Ag(this.endpointURL(),void 0,{close:()=>{this.conn=null}})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:jg}))}disconnect(e,n){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(r=>r.teardown()))}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels=this.channels.filter(r=>r._joinRef!==e._joinRef),this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Dn.connecting:return Xt.Connecting;case Dn.open:return Xt.Open;case Dn.closing:return Xt.Closing;default:return Xt.Closed}}isConnected(){return this.connectionState()===Xt.Open}channel(e,n={config:{}}){const r=`realtime:${e}`,i=this.getChannels().find(s=>s.topic===r);if(i)return i;{const s=new da(`realtime:${e}`,n,this);return this.channels.push(s),s}}push(e){const{topic:n,event:r,payload:i,ref:s}=e,o=()=>{this.encode(e,l=>{var a;(a=this.conn)===null||a===void 0||a.send(l)})};this.log("push",`${n} ${r} (${s})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){let n=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{n&&r.updateJoinPayload({access_token:n,version:this.headers&&this.headers["X-Client-Info"]}),r.joinedOnce&&r._isJoined()&&r._push(Qe.access_token,{access_token:n})}))}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(e=this.conn)===null||e===void 0||e.close(bg,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,n=>{let{topic:r,event:i,payload:s,ref:o}=n;r==="phoenix"&&i==="phx_reply"&&this.heartbeatCallback(n.payload.status=="ok"?"ok":"error"),o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${s.status||""} ${r} ${i} ${o&&"("+o+")"||""}`,s),Array.from(this.channels).filter(l=>l._isMember(r)).forEach(l=>l._trigger(i,s,o)),this.stateChangeCallbacks.message.forEach(l=>l(n))})}_onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(Qe.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${e}${r}${i}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([Ig],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class Ag{constructor(e,n,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Dn.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=r.close}}class ha extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function ae(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class Lg extends ha{constructor(e,n){super(e),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class ul extends ha{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var Mg=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function a(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?s(d.value):i(d.value).then(l,a)}u((r=r.apply(t,e||[])).next())})};const kh=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Yr(async()=>{const{default:r}=await Promise.resolve().then(()=>Yn);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},zg=()=>Mg(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Yr(()=>Promise.resolve().then(()=>Yn),void 0)).Response:Response}),cl=t=>{if(Array.isArray(t))return t.map(n=>cl(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));e[i]=cl(r)}),e};var hn=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function a(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?s(d.value):i(d.value).then(l,a)}u((r=r.apply(t,e||[])).next())})};const oo=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Dg=(t,e,n)=>hn(void 0,void 0,void 0,function*(){const r=yield zg();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(i=>{e(new Lg(oo(i),t.status||500))}).catch(i=>{e(new ul(oo(i),i))}):e(new ul(oo(t),t))}),Ug=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),r&&(i.body=JSON.stringify(r)),Object.assign(Object.assign({},i),n))};function Zr(t,e,n,r,i,s){return hn(this,void 0,void 0,function*(){return new Promise((o,l)=>{t(n,Ug(e,r,i,s)).then(a=>{if(!a.ok)throw a;return r!=null&&r.noResolveJson?a:a.json()}).then(a=>o(a)).catch(a=>Dg(a,l,r))})})}function ss(t,e,n,r){return hn(this,void 0,void 0,function*(){return Zr(t,"GET",e,n,r)})}function Ct(t,e,n,r,i){return hn(this,void 0,void 0,function*(){return Zr(t,"POST",e,r,i,n)})}function Fg(t,e,n,r,i){return hn(this,void 0,void 0,function*(){return Zr(t,"PUT",e,r,i,n)})}function Bg(t,e,n,r){return hn(this,void 0,void 0,function*(){return Zr(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function Sh(t,e,n,r,i){return hn(this,void 0,void 0,function*(){return Zr(t,"DELETE",e,r,i,n)})}var be=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function a(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?s(d.value):i(d.value).then(l,a)}u((r=r.apply(t,e||[])).next())})};const Wg={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Iu={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Hg{constructor(e,n={},r,i){this.url=e,this.headers=n,this.bucketId=r,this.fetch=kh(i)}uploadOrUpdate(e,n,r,i){return be(this,void 0,void 0,function*(){try{let s;const o=Object.assign(Object.assign({},Iu),i);let l=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const a=o.metadata;typeof Blob<"u"&&r instanceof Blob?(s=new FormData,s.append("cacheControl",o.cacheControl),a&&s.append("metadata",this.encodeMetadata(a)),s.append("",r)):typeof FormData<"u"&&r instanceof FormData?(s=r,s.append("cacheControl",o.cacheControl),a&&s.append("metadata",this.encodeMetadata(a))):(s=r,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,a&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(a)))),i!=null&&i.headers&&(l=Object.assign(Object.assign({},l),i.headers));const u=this._removeEmptyFolders(n),d=this._getFinalPath(u),h=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:e,body:s,headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{})),f=yield h.json();return h.ok?{data:{path:u,id:f.Id,fullPath:f.Key},error:null}:{data:null,error:f}}catch(s){if(ae(s))return{data:null,error:s};throw s}})}upload(e,n,r){return be(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,i){return be(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(e),o=this._getFinalPath(s),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",n);try{let a;const u=Object.assign({upsert:Iu.upsert},i),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(a=new FormData,a.append("cacheControl",u.cacheControl),a.append("",r)):typeof FormData<"u"&&r instanceof FormData?(a=r,a.append("cacheControl",u.cacheControl)):(a=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const h=yield this.fetch(l.toString(),{method:"PUT",body:a,headers:d}),f=yield h.json();return h.ok?{data:{path:s,fullPath:f.Key},error:null}:{data:null,error:f}}catch(a){if(ae(a))return{data:null,error:a};throw a}})}createSignedUploadUrl(e,n){return be(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const i=Object.assign({},this.headers);n!=null&&n.upsert&&(i["x-upsert"]="true");const s=yield Ct(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),o=new URL(this.url+s.url),l=o.searchParams.get("token");if(!l)throw new ha("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:l},error:null}}catch(r){if(ae(r))return{data:null,error:r};throw r}})}update(e,n,r){return be(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return be(this,void 0,void 0,function*(){try{return{data:yield Ct(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(ae(i))return{data:null,error:i};throw i}})}copy(e,n,r){return be(this,void 0,void 0,function*(){try{return{data:{path:(yield Ct(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(ae(i))return{data:null,error:i};throw i}})}createSignedUrl(e,n,r){return be(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),s=yield Ct(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${o}`)},{data:s,error:null}}catch(i){if(ae(i))return{data:null,error:i};throw i}})}createSignedUrls(e,n,r){return be(this,void 0,void 0,function*(){try{const i=yield Ct(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),s=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${s}`):null})),error:null}}catch(i){if(ae(i))return{data:null,error:i};throw i}})}download(e,n){return be(this,void 0,void 0,function*(){const i=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=s?`?${s}`:"";try{const l=this._getFinalPath(e);return{data:yield(yield ss(this.fetch,`${this.url}/${i}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(ae(l))return{data:null,error:l};throw l}})}info(e){return be(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield ss(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:cl(r),error:null}}catch(r){if(ae(r))return{data:null,error:r};throw r}})}exists(e){return be(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield Bg(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(ae(r)&&r instanceof ul){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),i=[],s=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";s!==""&&i.push(s);const l=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",a=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});a!==""&&i.push(a);let u=i.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${r}${u}`)}}}remove(e){return be(this,void 0,void 0,function*(){try{return{data:yield Sh(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(ae(n))return{data:null,error:n};throw n}})}list(e,n,r){return be(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},Wg),n),{prefix:e||""});return{data:yield Ct(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(ae(i))return{data:null,error:i};throw i}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const Vg="2.7.1",qg={"X-Client-Info":`storage-js/${Vg}`};var gn=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function a(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?s(d.value):i(d.value).then(l,a)}u((r=r.apply(t,e||[])).next())})};class Kg{constructor(e,n={},r){this.url=e,this.headers=Object.assign(Object.assign({},qg),n),this.fetch=kh(r)}listBuckets(){return gn(this,void 0,void 0,function*(){try{return{data:yield ss(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(ae(e))return{data:null,error:e};throw e}})}getBucket(e){return gn(this,void 0,void 0,function*(){try{return{data:yield ss(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(ae(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return gn(this,void 0,void 0,function*(){try{return{data:yield Ct(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(ae(r))return{data:null,error:r};throw r}})}updateBucket(e,n){return gn(this,void 0,void 0,function*(){try{return{data:yield Fg(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(ae(r))return{data:null,error:r};throw r}})}emptyBucket(e){return gn(this,void 0,void 0,function*(){try{return{data:yield Ct(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(ae(n))return{data:null,error:n};throw n}})}deleteBucket(e){return gn(this,void 0,void 0,function*(){try{return{data:yield Sh(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(ae(n))return{data:null,error:n};throw n}})}}class Gg extends Kg{constructor(e,n={},r){super(e,n,r)}from(e){return new Hg(this.url,this.headers,e,this.fetch)}}const Qg="2.50.0";let mr="";typeof Deno<"u"?mr="deno":typeof document<"u"?mr="web":typeof navigator<"u"&&navigator.product==="ReactNative"?mr="react-native":mr="node";const Jg={"X-Client-Info":`supabase-js-${mr}/${Qg}`},Yg={headers:Jg},Xg={schema:"public"},Zg={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},e0={};var t0=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function a(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?s(d.value):i(d.value).then(l,a)}u((r=r.apply(t,e||[])).next())})};const n0=t=>{let e;return t?e=t:typeof fetch>"u"?e=lh:e=fetch,(...n)=>e(...n)},r0=()=>typeof Headers>"u"?ah:Headers,i0=(t,e,n)=>{const r=n0(n),i=r0();return(s,o)=>t0(void 0,void 0,void 0,function*(){var l;const a=(l=yield e())!==null&&l!==void 0?l:t;let u=new i(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${a}`),r(s,Object.assign(Object.assign({},o),{headers:u}))})};var s0=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function a(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?s(d.value):i(d.value).then(l,a)}u((r=r.apply(t,e||[])).next())})};function o0(t){return t.endsWith("/")?t:t+"/"}function l0(t,e){var n,r;const{db:i,auth:s,realtime:o,global:l}=t,{db:a,auth:u,realtime:d,global:h}=e,f={db:Object.assign(Object.assign({},a),i),auth:Object.assign(Object.assign({},u),s),realtime:Object.assign(Object.assign({},d),o),global:Object.assign(Object.assign(Object.assign({},h),l),{headers:Object.assign(Object.assign({},(n=h==null?void 0:h.headers)!==null&&n!==void 0?n:{}),(r=l==null?void 0:l.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>s0(this,void 0,void 0,function*(){return""})};return t.accessToken?f.accessToken=t.accessToken:delete f.accessToken,f}const jh="2.70.0",_n=30*1e3,dl=3,lo=dl*_n,a0="http://localhost:9999",u0="supabase.auth.token",c0={"X-Client-Info":`gotrue-js/${jh}`},hl="X-Supabase-Api-Version",bh={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},d0=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,h0=6e5;class fa extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function L(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class f0 extends fa{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function p0(t){return L(t)&&t.name==="AuthApiError"}class Eh extends fa{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class qt extends fa{constructor(e,n,r,i){super(e,r,i),this.name=n,this.status=r}}class jt extends qt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function m0(t){return L(t)&&t.name==="AuthSessionMissingError"}class yi extends qt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class wi extends qt{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class _i extends qt{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function g0(t){return L(t)&&t.name==="AuthImplicitGrantRedirectError"}class $u extends qt{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class fl extends qt{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function ao(t){return L(t)&&t.name==="AuthRetryableFetchError"}class Au extends qt{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class Er extends qt{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const os="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Lu=` 	
\r=`.split(""),v0=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Lu.length;e+=1)t[Lu[e].charCodeAt(0)]=-2;for(let e=0;e<os.length;e+=1)t[os[e].charCodeAt(0)]=e;return t})();function Mu(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(os[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(os[r]),e.queuedBits-=6}}function Ch(t,e,n){const r=v0[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function zu(t){const e=[],n=o=>{e.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=o=>{_0(o,r,n)};for(let o=0;o<t.length;o+=1)Ch(t.charCodeAt(o),i,s);return e.join("")}function y0(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function w0(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}y0(r,e)}}function _0(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function x0(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)Ch(t.charCodeAt(i),n,r);return new Uint8Array(e)}function k0(t){const e=[];return w0(t,n=>e.push(n)),new Uint8Array(e)}function S0(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};return t.forEach(i=>Mu(i,n,r)),Mu(null,n,r),e.join("")}function j0(t){return Math.round(Date.now()/1e3)+t}function b0(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const qe=()=>typeof window<"u"&&typeof document<"u",Gt={tested:!1,writable:!1},Cr=()=>{if(!qe())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Gt.tested)return Gt.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Gt.tested=!0,Gt.writable=!0}catch{Gt.tested=!0,Gt.writable=!1}return Gt.writable};function E0(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,s)=>{e[s]=i})}catch{}return n.searchParams.forEach((r,i)=>{e[i]=r}),e}const Nh=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Yr(async()=>{const{default:r}=await Promise.resolve().then(()=>Yn);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},C0=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Th=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},xi=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},ki=async(t,e)=>{await t.removeItem(e)};class Ts{constructor(){this.promise=new Ts.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}Ts.promiseConstructor=Promise;function uo(t){const e=t.split(".");if(e.length!==3)throw new Er("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!d0.test(e[r]))throw new Er("JWT not in base64url format");return{header:JSON.parse(zu(e[0])),payload:JSON.parse(zu(e[1])),signature:x0(e[2]),raw:{header:e[0],payload:e[1]}}}async function N0(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function T0(t,e){return new Promise((r,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const o=await t(s);if(!e(s,null,o)){r(o);return}}catch(o){if(!e(s,o)){i(o);return}}})()})}function P0(t){return("0"+t.toString(16)).substr(-2)}function R0(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let s=0;s<56;s++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(e),Array.from(e,P0).join("")}async function O0(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function I0(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await O0(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function vn(t,e,n=!1){const r=R0();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await Th(t,`${e}-code-verifier`,i);const s=await I0(r);return[s,r===s?"plain":"s256"]}const $0=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function A0(t){const e=t.headers.get(hl);if(!e||!e.match($0))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function L0(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function M0(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const z0=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function yn(t){if(!z0.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var D0=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const Yt=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),U0=[502,503,504];async function Du(t){var e;if(!C0(t))throw new fl(Yt(t),0);if(U0.includes(t.status))throw new fl(Yt(t),t.status);let n;try{n=await t.json()}catch(s){throw new Eh(Yt(s),s)}let r;const i=A0(t);if(i&&i.getTime()>=bh["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Au(Yt(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new jt}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((s,o)=>s&&typeof o=="string",!0))throw new Au(Yt(n),t.status,n.weak_password.reasons);throw new f0(Yt(n),t.status||500,r)}const F0=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function D(t,e,n,r){var i;const s=Object.assign({},r==null?void 0:r.headers);s[hl]||(s[hl]=bh["2024-01-01"].name),r!=null&&r.jwt&&(s.Authorization=`Bearer ${r.jwt}`);const o=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",a=await B0(t,e,n+l,{headers:s,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(a):{data:Object.assign({},a),error:null}}async function B0(t,e,n,r,i,s){const o=F0(e,r,i,s);let l;try{l=await t(n,Object.assign({},o))}catch(a){throw console.error(a),new fl(Yt(a),0)}if(l.ok||await Du(l),r!=null&&r.noResolveJson)return l;try{return await l.json()}catch(a){await Du(a)}}function ut(t){var e;let n=null;q0(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=j0(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function Uu(t){const e=ut(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Pt(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function W0(t){return{data:t,error:null}}function H0(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s}=t,o=D0(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s},a=Object.assign({},o);return{data:{properties:l,user:a},error:null}}function V0(t){return t}function q0(t){return t.access_token&&t.refresh_token&&t.expires_in}const co=["global","local","others"];var K0=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};class G0{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=Nh(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n=co[0]){if(co.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${co.join(", ")}`);try{return await D(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(L(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await D(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Pt})}catch(r){if(L(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=K0(e,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await D(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:H0,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(L(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await D(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Pt})}catch(n){if(L(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,i,s,o,l,a;try{const u={nextPage:null,lastPage:0,total:0},d=await D(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(s=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:V0});if(d.error)throw d.error;const h=await d.json(),f=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,y=(a=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&a!==void 0?a:[];return y.length>0&&(y.forEach(w=>{const v=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(w.split(";")[1].split("=")[1]);u[`${k}Page`]=v}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(L(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){yn(e);try{return await D(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Pt})}catch(n){if(L(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){yn(e);try{return await D(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:Pt})}catch(r){if(L(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){yn(e);try{return await D(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:Pt})}catch(r){if(L(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){yn(e.userId);try{const{data:n,error:r}=await D(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(L(n))return{data:null,error:n};throw n}}async _deleteFactor(e){yn(e.userId),yn(e.id);try{return{data:await D(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(L(n))return{data:null,error:n};throw n}}}const Q0={getItem:t=>Cr()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{Cr()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{Cr()&&globalThis.localStorage.removeItem(t)}};function Fu(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function J0(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const wn={debug:!!(globalThis&&Cr()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Ph extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Y0 extends Ph{}async function X0(t,e,n){wn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),wn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){wn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await n()}finally{wn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw wn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new Y0(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(wn.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}J0();const Z0={url:a0,storageKey:u0,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:c0,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Bu(t,e,n){return await n()}class Vr{constructor(e){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Vr.nextInstanceID,Vr.nextInstanceID+=1,this.instanceID>0&&qe()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},Z0),e);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new G0({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=Nh(i.fetch),this.lock=i.lock||Bu,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:qe()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=X0:this.lock=Bu,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?i.storage?this.storage=i.storage:Cr()?this.storage=Q0:(this.memoryStorage={},this.storage=Fu(this.memoryStorage)):(this.memoryStorage={},this.storage=Fu(this.memoryStorage)),qe()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${jh}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=E0(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),qe()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:s}=await this._getSessionFromURL(n,r);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),g0(s)){const a=(e=s.details)===null||e===void 0?void 0:e.code;if(a==="identity_already_exists"||a==="identity_not_found"||a==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:o,redirectType:l}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return L(n)?{error:n}:{error:new Eh("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,i;try{const s=await D(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:ut}),{data:o,error:l}=s;if(l||!o)return{data:{user:null,session:null},error:l};const a=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",a)),{data:{user:u,session:a},error:null}}catch(s){if(L(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(e){var n,r,i;try{let s;if("email"in e){const{email:d,password:h,options:f}=e;let y=null,w=null;this.flowType==="pkce"&&([y,w]=await vn(this.storage,this.storageKey)),s=await D(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:d,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:y,code_challenge_method:w},xform:ut})}else if("phone"in e){const{phone:d,password:h,options:f}=e;s=await D(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},channel:(i=f==null?void 0:f.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:ut})}else throw new wi("You must provide either an email or phone number and a password");const{data:o,error:l}=s;if(l||!o)return{data:{user:null,session:null},error:l};const a=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",a)),{data:{user:u,session:a},error:null}}catch(s){if(L(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(e){try{let n;if("email"in e){const{email:s,password:o,options:l}=e;n=await D(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Uu})}else if("phone"in e){const{phone:s,password:o,options:l}=e;n=await D(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Uu})}else throw new wi("You must provide either an email or phone number and a password");const{data:r,error:i}=n;return i?{data:{user:null,session:null},error:i}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new yi}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(L(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,r,i,s;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=e.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;if(n==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(e){var n,r,i,s,o,l,a,u,d,h,f,y;let w,v;if("message"in e)w=e.message,v=e.signature;else{const{chain:k,wallet:m,statement:p,options:g}=e;let _;if(qe())if(typeof m=="object")_=m;else{const E=window;if("solana"in E&&typeof E.solana=="object"&&("signIn"in E.solana&&typeof E.solana.signIn=="function"||"signMessage"in E.solana&&typeof E.solana.signMessage=="function"))_=E.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof m!="object"||!(g!=null&&g.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=m}const b=new URL((n=g==null?void 0:g.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in _&&_.signIn){const E=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},g==null?void 0:g.signInWithSolana),{version:"1",domain:b.host,uri:b.href}),p?{statement:p}:null));let C;if(Array.isArray(E)&&E[0]&&typeof E[0]=="object")C=E[0];else if(E&&typeof E=="object"&&"signedMessage"in E&&"signature"in E)C=E;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in C&&"signature"in C&&(typeof C.signedMessage=="string"||C.signedMessage instanceof Uint8Array)&&C.signature instanceof Uint8Array)w=typeof C.signedMessage=="string"?C.signedMessage:new TextDecoder().decode(C.signedMessage),v=C.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");w=[`${b.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...p?["",p,""]:[""],"Version: 1",`URI: ${b.href}`,`Issued At: ${(i=(r=g==null?void 0:g.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=g==null?void 0:g.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${g.signInWithSolana.notBefore}`]:[],...!((o=g==null?void 0:g.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${g.signInWithSolana.expirationTime}`]:[],...!((l=g==null?void 0:g.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${g.signInWithSolana.chainId}`]:[],...!((a=g==null?void 0:g.signInWithSolana)===null||a===void 0)&&a.nonce?[`Nonce: ${g.signInWithSolana.nonce}`]:[],...!((u=g==null?void 0:g.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${g.signInWithSolana.requestId}`]:[],...!((h=(d=g==null?void 0:g.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...g.signInWithSolana.resources.map(C=>`- ${C}`)]:[]].join(`
`);const E=await _.signMessage(new TextEncoder().encode(w),"utf8");if(!E||!(E instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");v=E}}try{const{data:k,error:m}=await D(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:w,signature:S0(v)},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(y=e.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:ut});if(m)throw m;return!k||!k.session||!k.user?{data:{user:null,session:null},error:new yi}:(k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("SIGNED_IN",k.session)),{data:Object.assign({},k),error:m})}catch(k){if(L(k))return{data:{user:null,session:null},error:k};throw k}}async _exchangeCodeForSession(e){const n=await xi(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{const{data:s,error:o}=await D(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:ut});if(await ki(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new yi}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:o})}catch(s){if(L(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(e){try{const{options:n,provider:r,token:i,access_token:s,nonce:o}=e,l=await D(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:s,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:ut}),{data:a,error:u}=l;return u?{data:{user:null,session:null},error:u}:!a||!a.session||!a.user?{data:{user:null,session:null},error:new yi}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:a,error:u})}catch(n){if(L(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,r,i,s,o;try{if("email"in e){const{email:l,options:a}=e;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await vn(this.storage,this.storageKey));const{error:h}=await D(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=a==null?void 0:a.data)!==null&&n!==void 0?n:{},create_user:(r=a==null?void 0:a.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in e){const{phone:l,options:a}=e,{data:u,error:d}=await D(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(i=a==null?void 0:a.data)!==null&&i!==void 0?i:{},create_user:(s=a==null?void 0:a.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken},channel:(o=a==null?void 0:a.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new wi("You must provide either an email or phone number.")}catch(l){if(L(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(e){var n,r;try{let i,s;"options"in e&&(i=(n=e.options)===null||n===void 0?void 0:n.redirectTo,s=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:l}=await D(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:ut});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const a=o.session,u=o.user;return a!=null&&a.access_token&&(await this._saveSession(a),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",a)),{data:{user:u,session:a},error:null}}catch(i){if(L(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(e){var n,r,i;try{let s=null,o=null;return this.flowType==="pkce"&&([s,o]=await vn(this.storage,this.storageKey)),await D(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:o}),headers:this.headers,xform:W0})}catch(s){if(L(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new jt;const{error:i}=await D(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:i}})}catch(e){if(L(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:i,options:s}=e,{error:o}=await D(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:r,type:i,options:s}=e,{data:o,error:l}=await D(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new wi("You must provide either an email or phone number and a type")}catch(n){if(L(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await xi(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<lo:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.storage.isServer){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(a,u,d)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(a,u,d))})}return{data:{session:e},error:null}}const{session:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{session:null},error:s}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await D(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Pt}):await this._useSession(async n=>{var r,i,s;const{data:o,error:l}=n;if(l)throw l;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new jt}:await D(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:Pt})})}catch(n){if(L(n))return m0(n)&&(await this._removeSession(),await ki(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:i,error:s}=r;if(s)throw s;if(!i.session)throw new jt;const o=i.session;let l=null,a=null;this.flowType==="pkce"&&e.email!=null&&([l,a]=await vn(this.storage,this.storageKey));const{data:u,error:d}=await D(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:l,code_challenge_method:a}),jwt:o.access_token,xform:Pt});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(L(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new jt;const n=Date.now()/1e3;let r=n,i=!0,s=null;const{payload:o}=uo(e.access_token);if(o.exp&&(r=o.exp,i=r<=n),i){const{session:l,error:a}=await this._callRefreshToken(e.refresh_token);if(a)return{data:{user:null,session:null},error:a};if(!l)return{data:{user:null,session:null},error:null};s=l}else{const{data:l,error:a}=await this._getUser(e.access_token);if(a)throw a;s={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(n){if(L(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:o,error:l}=n;if(l)throw l;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new jt;const{session:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{user:null,session:null},error:s}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(L(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!qe())throw new _i("No browser detected.");if(e.error||e.error_description||e.error_code)throw new _i(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new $u("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new _i("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new $u("No code detected.");const{data:p,error:g}=await this._exchangeCodeForSession(e.code);if(g)throw g;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:p.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:s,refresh_token:o,expires_in:l,expires_at:a,token_type:u}=e;if(!s||!l||!o||!u)throw new _i("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(l);let f=d+h;a&&(f=parseInt(a));const y=f-d;y*1e3<=_n&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${y}s, should have been closer to ${h}s`);const w=f-h;d-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,f,d):d-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,f,d);const{data:v,error:k}=await this._getUser(s);if(k)throw k;const m={provider_token:r,provider_refresh_token:i,access_token:s,expires_in:h,expires_at:f,refresh_token:o,token_type:u,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:m,redirectType:e.type},error:null}}catch(r){if(L(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await xi(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return{error:s};const o=(r=i.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:l}=await this.admin.signOut(o,e);if(l&&!(p0(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return e!=="others"&&(await this._removeSession(),await ki(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=b0(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,i;try{const{data:{session:s},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",e,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",s),console.error(s)}})}async resetPasswordForEmail(e,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await vn(this.storage,this.storageKey,!0));try{return await D(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(s){if(L(s))return{data:null,error:s};throw s}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(L(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:r,error:i}=await this._useSession(async s=>{var o,l,a,u,d;const{data:h,error:f}=s;if(f)throw f;const y=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=e.options)===null||l===void 0?void 0:l.scopes,queryParams:(a=e.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:!0});return await D(this.fetch,"GET",y,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(i)throw i;return qe()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(L(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,i;const{data:s,error:o}=n;if(o)throw o;return await D(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(r=s.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(L(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await T0(async i=>(i>0&&await N0(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await D(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:ut})),(i,s)=>{const o=200*Math.pow(2,i);return s&&ao(s)&&Date.now()+o-r<_n})}catch(r){if(this._debug(n,"error",r),L(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),qe()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await xi(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const i=((e=r.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<lo;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${lo}s`),i){if(this.autoRefreshToken&&r.refresh_token){const{error:s}=await this._callRefreshToken(r.refresh_token);s&&(console.error(s),ao(s)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",s),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new jt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Ts;const{data:s,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!s.session)throw new jt;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const l={session:s.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(s){if(this._debug(i,"error",s),L(s)){const o={session:null,error:s};return ao(s)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,n,r=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const s=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(e,n)}catch(a){s.push(a)}});if(await Promise.all(o),s.length>0){for(let l=0;l<s.length;l+=1)console.error(s[l]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Th(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await ki(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&qe()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),_n);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-e)/_n);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${_n}ms, refresh threshold is ${dl} ticks`),i<=dl&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Ph)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!qe()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[s,o]=await vn(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(l.toString())}if(r!=null&&r.queryParams){const s=new URLSearchParams(r.queryParams);i.push(s.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;return s?{data:null,error:s}:await D(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(L(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,i;const{data:s,error:o}=n;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:a,error:u}=await D(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&(!((i=a==null?void 0:a.totp)===null||i===void 0)&&i.qr_code)&&(a.totp.qr_code=`data:image/svg+xml;utf-8,${a.totp.qr_code}`),{data:a,error:null})})}catch(n){if(L(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return{data:null,error:s};const{data:o,error:l}=await D(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(n){if(L(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;return s?{data:null,error:s}:await D(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(L(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(e==null?void 0:e.factors)||[],i=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),s=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:i,phone:s},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,r;const{data:{session:i},error:s}=e;if(s)return{data:null,error:s};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=uo(i.access_token);let l=null;o.aal&&(l=o.aal);let a=l;((r=(n=i.user.factors)===null||n===void 0?void 0:n.filter(h=>h.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(a="aal2");const d=o.amr||[];return{data:{currentLevel:l,nextLevel:a,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(o=>o.kid===e);if(r||(r=this.jwks.keys.find(o=>o.kid===e),r&&this.jwks_cached_at+h0>Date.now()))return r;const{data:i,error:s}=await D(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(s)throw s;if(!i.keys||i.keys.length===0)throw new Er("JWKS is empty");if(this.jwks=i,this.jwks_cached_at=Date.now(),r=i.keys.find(o=>o.kid===e),!r)throw new Er("No matching signing key found in JWKS");return r}async getClaims(e,n={keys:[]}){try{let r=e;if(!r){const{data:y,error:w}=await this.getSession();if(w||!y.session)return{data:null,error:w};r=y.session.access_token}const{header:i,payload:s,signature:o,raw:{header:l,payload:a}}=uo(r);if(L0(s.exp),!i.kid||i.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:y}=await this.getUser(r);if(y)throw y;return{data:{claims:s,header:i,signature:o},error:null}}const u=M0(i.alg),d=await this.fetchJwk(i.kid,n),h=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,h,o,k0(`${l}.${a}`)))throw new Er("Invalid JWT signature");return{data:{claims:s,header:i,signature:o},error:null}}catch(r){if(L(r))return{data:null,error:r};throw r}}}Vr.nextInstanceID=0;const ev=Vr;class tv extends ev{constructor(e){super(e)}}var nv=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function a(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?s(d.value):i(d.value).then(l,a)}u((r=r.apply(t,e||[])).next())})};class rv{constructor(e,n,r){var i,s,o;if(this.supabaseUrl=e,this.supabaseKey=n,!e)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const l=o0(e),a=new URL(l);this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const u=`sb-${a.hostname.split(".")[0]}-auth-token`,d={db:Xg,realtime:e0,auth:Object.assign(Object.assign({},Zg),{storageKey:u}),global:Yg},h=l0(r??{},d);this.storageKey=(i=h.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(s=h.global.headers)!==null&&s!==void 0?s:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(f,y)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(y)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=h.auth)!==null&&o!==void 0?o:{},this.headers,h.global.fetch),this.fetch=i0(n,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new _g(new URL("rest/v1",a).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),h.accessToken||this._listenForAuthEvents()}get functions(){return new Jm(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Gg(this.storageUrl.href,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return nv(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:i,storageKey:s,flowType:o,lock:l,debug:a},u,d){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new tv({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),u),storageKey:s,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:i,flowType:o,lock:l,debug:a,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new $g(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const iv=(t,e,n)=>new rv(t,e,n),sv="https://ljgokkoavmyygeaszsim.supabase.co",ov="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImxqZ29ra29hdm15eWdlYXN6c2ltIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTAxMDIxNjUsImV4cCI6MjA2NTY3ODE2NX0.jlDNZ8fubiHqLywhBkPTxh5eBY0IevcUfBIUNPxyFPo",_e=iv(sv,ov,{db:{schema:"public"},auth:{autoRefreshToken:!0,persistSession:!1},global:{headers:{"Cache-Control":"no-cache, no-store, must-revalidate",Pragma:"no-cache",Expires:"0"}}});class lv{constructor(){this.config={ratingWeight:.4,genreWeight:.3,yearWeight:.1,directorWeight:.1,diversityBoost:.1},this.userFactors=null,this.itemFactors=null,this.factorsLoaded=!1}async loadSVDFactors(){if(!this.factorsLoaded)try{const e="https://ljgokkoavmyygeaszsim.supabase.co";console.log("Loading SVD factors from:",e);const n=await fetch(`${e}/storage/v1/object/public/models/svd_user_factors.json`);if(!n.ok){console.warn(`Failed to load user factors: ${n.status}`),this.userFactors=null,this.itemFactors=null,this.factorsLoaded=!1;return}this.userFactors=await n.json();const r=await fetch(`${e}/storage/v1/object/public/models/svd_item_factors.json`);if(!r.ok){console.warn(`Failed to load item factors: ${r.status}`),this.userFactors=null,this.itemFactors=null,this.factorsLoaded=!1;return}this.itemFactors=await r.json(),this.factorsLoaded=!0,console.log("SVD factors loaded successfully"),console.log("User factors count:",Object.keys(this.userFactors||{}).length),console.log("Item factors count:",Object.keys(this.itemFactors||{}).length)}catch(e){console.error("Error loading SVD factors:",e),this.userFactors=null,this.itemFactors=null,this.factorsLoaded=!1}}dotProduct(e,n){if(e.length!==n.length)throw new Error("Vectors must have the same length");return e.reduce((r,i,s)=>r+i*n[s],0)}createSyntheticUserProfile(e){var n;if(!this.itemFactors||!e.length)return null;try{const r=Object.keys(this.itemFactors)[0],i=((n=this.itemFactors[r])==null?void 0:n.length)||50,s=new Array(i).fill(0);let o=0;for(const l of e){const a=String(l.movieId),u=this.itemFactors[a];if(u&&l.rating>0){const d=(l.rating-5)/5;for(let h=0;h<i;h++)s[h]+=u[h]*d;o+=Math.abs(d)}}if(o>0)for(let l=0;l<i;l++)s[l]/=o;return s}catch(r){return console.error("Error creating synthetic user profile:",r),null}}async generateRecommendations(e,n){try{if(console.log("Generating recommendations for session:",e),console.log("User ratings count:",n.length),await this.loadSVDFactors(),!this.itemFactors)return console.warn("SVD factors not available, falling back to simple recommender"),this.getFallbackRecommendations();const r=n.filter(f=>f.rating>0);if(console.log("Valid ratings count:",r.length),r.length===0)return console.warn("No valid ratings found, using fallback recommendations"),this.getFallbackRecommendations();const i=this.createSyntheticUserProfile(r);if(!i)return console.warn("Could not create user profile, using fallback recommendations"),this.getFallbackRecommendations();console.log("User profile created with dimensions:",i.length);const{data:s,error:o}=await _e.from("phase2_movies").select("id");if(o)throw o;if(!s||s.length===0)return console.warn("No Phase 2 movies found"),[];console.log("Phase 2 movies count:",s.length);const l=n.map(f=>String(f.movieId)),u=s.map(f=>String(f.id)).filter(f=>!l.includes(f));console.log("Candidate movies for recommendation:",u.length);const d=[];for(const f of u){const y=this.itemFactors[f];if(y)try{const w=this.dotProduct(i,y),v=Math.random()*.1,k=w+v;d.push({movieId:parseInt(f),score:k})}catch(w){console.warn(`Error calculating score for movie ${f}:`,w)}else console.warn(`No item factor found for movie ${f}`)}console.log("Recommendations calculated:",d.length),d.sort((f,y)=>y.score-f.score);const h=d.slice(0,10).map(f=>f.movieId);return console.log("SVD recommendations generated:",h),console.log("Recommendation scores:",d.slice(0,10).map(f=>({id:f.movieId,score:f.score.toFixed(4)}))),h}catch(r){return console.error("Error in SVD recommendation generation:",r),this.getFallbackRecommendations()}}analyzeUserProfile(e){const n=e.filter(i=>i.rating>0);return n.length===0?{averageRating:5,preferredGenres:[],preferredYears:[],preferredDirectors:[]}:{averageRating:n.reduce((i,s)=>i+s.rating,0)/n.length,preferredGenres:[],preferredYears:[],preferredDirectors:[]}}calculateRecommendationScore(e,n,r){let i=0;return i+=e.year>2010?.2:.1,i+=this.calculateDiversityBoost(e,r)*this.config.diversityBoost,i+=Math.random()*.1,i}calculateDiversityBoost(e,n){const r=n.filter(s=>s.genre===e.genre).length,i=n.length;return 1-r/i}async getFallbackRecommendations(){try{console.log("Using fallback recommendation algorithm");const{data:e,error:n}=await _e.from("phase2_movies").select("id").limit(10);if(n)throw n;const r=(e==null?void 0:e.map(i=>i.id))||[];for(let i=r.length-1;i>0;i--){const s=Math.floor(Math.random()*(i+1));[r[i],r[s]]=[r[s],r[i]]}return console.log("Using fallback recommendations:",r),r}catch(e){return console.error("Error getting fallback recommendations:",e),[]}}updateConfig(e){this.config={...this.config,...e}}async logRecommendation(e,n){try{console.log("SVD recommendations for session",e,":",n)}catch(r){console.error("Error logging recommendation:",r)}}}const Wu=new lv,pa="cinerate_session",ho=Date.now(),av=t=>{try{localStorage.setItem(pa,JSON.stringify(t))}catch(e){console.error("Error saving session to localStorage:",e)}},uv=()=>{try{const t=localStorage.getItem(pa);if(t)return JSON.parse(t)}catch(t){console.error("Error loading session from localStorage:",t)}return null},cv=()=>{try{localStorage.removeItem(pa),localStorage.removeItem("supabase.auth.token"),sessionStorage.clear()}catch(t){console.error("Error clearing session from localStorage:",t)}};function dv(){const[t,e]=F.useState("intro"),[n,r]=F.useState([]),[i,s]=F.useState([]),[o,l]=F.useState(null),[a,u]=F.useState(Date.now()),[d,h]=F.useState(!1),[f,y]=F.useState(null),[w,v]=F.useState(5),[k,m]=F.useState(!1),[p,g]=F.useState(!1),[_,b]=F.useState([]),[E,C]=F.useState(new Map),[P,Q]=F.useState(!1),[z,ye]=F.useState(new Map),[xt,st]=F.useState(null),[fn,Ps]=F.useState(!0);F.useEffect(()=>{(async()=>{const j=uv();j&&j.sessionId&&j.phase!=="intro"?(console.log("Restoring session from localStorage:",j),l(j.sessionId),e(j.phase),r(j.ratings),u(j.sessionStartTime),v(j.minimumRatingsRequired),st(j.currentMoviesPhase),j.currentMoviesPhase&&await q(j.currentMoviesPhase)):(console.log("No saved session found or session is at intro phase, starting fresh"),e("intro")),Ps(!1)})()},[]),F.useEffect(()=>{!fn&&o&&t!=="intro"&&av({sessionId:o,phase:t,ratings:n,sessionStartTime:a,minimumRatingsRequired:w,currentMoviesPhase:xt})},[o,t,n,a,w,xt,fn]),F.useEffect(()=>{t==="initial"&&o&&Zn()},[t,o]),F.useEffect(()=>{const x=setTimeout(()=>{z.size>0&&(z.forEach(async(j,R)=>{await Kt(j)}),ye(new Map))},500);return()=>clearTimeout(x)},[z,o]);const pn=async()=>{console.log("Starting app initialization"),Q(!0);try{await Z(),await q("initial"),console.log("App initialization completed successfully")}catch(x){console.error("Error initializing app:",x),y(`Failed to initialize application: ${x.message||"Unknown error"}`)}finally{Q(!1)}},Zn=async()=>{if(!(!o||o.startsWith("local_")))try{const x=window.screen.width,j=window.screen.height;await _e.from("user_sessions").update({screen_width:x,screen_height:j}).eq("id",o),console.log("Screen size recorded:",{screenWidth:x,screenHeight:j})}catch(x){console.error("Error recording screen size:",x)}},N=async(x,j)=>{if(!(!o||o.startsWith("local_")))try{console.log("Recording phase transition:",{fromPhase:x,toPhase:j,sessionId:o}),await _e.from("phase_transitions").insert({session_id:o,from_phase:x,to_phase:j,timestamp:new Date().toISOString()}),console.log("Phase transition recorded:",{fromPhase:x,toPhase:j})}catch(R){console.error("Error recording phase transition:",R)}},$=x=>{const j=new Date().toISOString();C(R=>new Map(R).set(x,j))},M=async x=>{const j=E.get(x);if(!j||!o||o.startsWith("local_"))return;const R=new Date().toISOString(),O=new Date(R).getTime()-new Date(j).getTime();try{await _e.from("trailer_views").insert({session_id:o,movie_id:x,start_time:j,end_time:R,duration:Math.round(O/1e3)}),console.log("Trailer view recorded:",{movieId:x,duration:O/1e3})}catch(I){console.error("Error recording trailer view:",I)}C(I=>{const A=new Map(I);return A.delete(x),A})},Z=async()=>{console.log("Creating new session");const x=`user_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,j=new Date().toISOString(),R=[5,7,9,11,13,15],O=R[Math.floor(Math.random()*R.length)];v(O);try{console.log("Inserting session into database");const{data:I,error:A}=await _e.from("user_sessions").insert({user_id:x,phase:"initial",start_time:j,minimum_ratings_required:O}).select().single();if(A&&(console.error("Database session creation failed:",A),console.log("Continuing with local session due to database error")),I&&I.id)l(I.id),console.log("Database session created:",I.id,"Minimum required:",O);else{const J=`local_${Date.now()}`;l(J),console.log("Using local session:",J,"Minimum required:",O)}u(Date.now())}catch(I){console.error("Error creating session:",I);const A=`local_${Date.now()}`;l(A),console.log("Using local session due to error:",A,"Minimum required:",O)}},q=async x=>{console.log("=== FETCH MOVIES START ==="),console.log("Fetching movies of type:",x),console.log("Supabase URL:","https://ljgokkoavmyygeaszsim.supabase.co"),console.log("Current phase:",t),console.log("Cache buster timestamp:",Date.now()),h(!0),y(null);try{if(x==="initial"){console.log("Fetching initial movies from movies table...");const{data:j,error:R}=await _e.from("movies").select("*").order("id");if(console.log("Database query result:",{data:(j==null?void 0:j.length)||0,error:R}),R)throw console.error("Error fetching initial movies:",R),R;if(!j||j.length===0){console.warn("No initial movies found in database"),y("No movies found in database. Please check your database connection."),s([]);return}console.log("Initial movies fetched:",j.length);const I=[...j].sort(()=>Math.random()-.5).map(A=>({...A,poster:`https://ljgokkoavmyygeaszsim.supabase.co/storage/v1/object/public/posters/${A.id}.jpg?t=${ho}`}));console.log("Movies with updated posters:",I.length),console.log("Sample movie:",I[0]),s(I),st("initial"),console.log("=== INITIAL MOVIES SET SUCCESSFULLY ===")}else if(o){console.log("Requesting recommendations for session:",o),console.log("Current ratings for recommendation:",n);const j=await Wu.generateRecommendations(o,n);if(console.log("Received recommended IDs:",j),j.length>0){const{data:R,error:O}=await _e.from("phase2_movies").select("*").in("id",j);if(O)throw console.error("Error fetching recommended movies:",O),O;if(R&&j.length>0){const I=j.map(J=>R.find(at=>at.id===J)).filter(Boolean);console.log("Recommended movies sorted:",I.length),await Wu.logRecommendation(o,j);const A=I.map(J=>({...J,poster:`https://ljgokkoavmyygeaszsim.supabase.co/storage/v1/object/public/posters/${J.id}.jpg?t=${ho}`}));console.log("Final recommended movies:",A.map(J=>({id:J.id,title:J.title}))),s(A)}else console.warn("No recommended movies data returned"),s([])}else{console.log("No recommendations generated, using fallback");const{data:R,error:O}=await _e.from("phase2_movies").select("*").limit(10);if(O)throw console.error("Error fetching fallback movies:",O),O;if(R){const A=[...R].sort(()=>Math.random()-.5).map(J=>({...J,poster:`https://ljgokkoavmyygeaszsim.supabase.co/storage/v1/object/public/posters/${J.id}.jpg?t=${ho}`}));console.log("Fallback movies set:",A.length),s(A)}else console.warn("No fallback movies data returned"),s([])}st("recommended")}}catch(j){console.error(`Error fetching ${x} movies:`,j),y(`Failed to load ${x} movies: ${j.message||"Unknown error"}`),s([])}finally{h(!1),console.log("=== FETCH MOVIES END ===")}},Kt=async x=>{if(!o||o.startsWith("local_")){console.log("Skipping database save - no valid session ID");return}try{console.log("Saving rating to database:",{session_id:o,movie_id:x.movieId,rating:x.rating,diversity_rating:x.diversity,novelty_rating:x.novelty,serendipity_rating:x.serendipity});const{data:j,error:R}=await _e.from("movie_ratings").select("id").eq("session_id",o).eq("movie_id",x.movieId).limit(1);if(R)throw R;const O={rating:x.rating>=0?x.rating:null,diversity_rating:x.diversity!==void 0&&x.diversity>=0?x.diversity:null,novelty_rating:x.novelty!==void 0&&x.novelty>=0?x.novelty:null,serendipity_rating:x.serendipity!==void 0&&x.serendipity>=0?x.serendipity:null};if(j&&j.length>0){const{error:I}=await _e.from("movie_ratings").update(O).eq("id",j[0].id);if(I)throw I;console.log("Rating updated successfully:",O)}else if(O.rating!==null||O.diversity_rating!==null||O.novelty_rating!==null||O.serendipity_rating!==null){const I={session_id:o,movie_id:x.movieId,...O,rating:O.rating!==null?O.rating:0},{error:A}=await _e.from("movie_ratings").insert(I);if(A)throw A;console.log("Rating inserted successfully:",I)}}catch(j){console.error("Error saving rating to database:",j),setTimeout(async()=>{try{await Kt(x)}catch(R){console.error("Retry failed for rating save:",R)}},1e3)}},ot=async x=>{if(!(!o||o.startsWith("local_")))try{await _e.from("user_sessions").update({phase:x}).eq("id",o),console.log("Session phase updated to:",x)}catch(j){console.error("Error updating session phase:",j)}},er=async()=>{if(!(!o||o.startsWith("local_")))try{await _e.from("user_sessions").update({end_time:new Date().toISOString(),phase:"complete"}).eq("id",o),console.log("Session ended")}catch(x){console.error("Error ending session:",x)}},lt=F.useCallback(async(x,j)=>{r(R=>{const O=R.findIndex(J=>J.movieId===x);let I;O>=0?(I=[...R],I[O]={...I[O],rating:j}):I=[...R,{movieId:x,rating:j}];const A=I.find(J=>J.movieId===x);if(A){const J=`${x}_main`;ye(at=>new Map(at).set(J,A))}return I})},[o]),kt=F.useCallback(async(x,j,R)=>{r(O=>{const I=O.findIndex(at=>at.movieId===x);let A;I>=0?(A=[...O],A[I]={...A[I],[j]:R}):A=[...O,{movieId:x,rating:-1,[j]:R}];const J=A.find(at=>at.movieId===x);if(J){const at=`${x}_${j}`;ye(Bh=>new Map(Bh).set(at,J))}return A})},[o]),Rs=x=>n.find(j=>j.movieId===x)||{movieId:x,rating:-1},tr=()=>n.filter(x=>x.rating>=0).length,Rh=()=>{if(t==="recommendation"){const x=i.map(j=>j.id);return n.filter(j=>j.rating>=0&&x.includes(j.movieId)).length}return tr()},Oh=()=>{if(t!=="recommendation")return[];const x=[];return i.forEach(j=>{const R=Rs(j.id),O=R.rating>=0,I=R.diversity!==void 0&&R.diversity>=0,A=R.novelty!==void 0&&R.novelty>=0,J=R.serendipity!==void 0&&R.serendipity>=0;(!O||!I||!A||!J)&&x.push(j.id)}),x},Ih=()=>tr()>=w,$h=()=>i.every(x=>{const j=Rs(x.id),R=j.rating>=0,O=j.diversity!==void 0&&j.diversity>=0,I=j.novelty!==void 0&&j.novelty>=0,A=j.serendipity!==void 0&&j.serendipity>=0;return R&&O&&I&&A}),Ah=()=>{console.log("Starting from intro, initializing app..."),e("initial"),!o&&!P&&(console.log("No session exists, initializing new session and loading movies"),pn())},Lh=async()=>{await N("choice","recommendation"),e("recommendation"),await ot("recommendation"),await q("recommended")},Mh=async()=>{e("initial"),await q("initial")},ma=()=>{if(t==="recommendation"){const x=Oh();if(x.length>0){b(x);return}}N(t,"questionnaire"),e("questionnaire")},zh=async x=>{if(await N("questionnaire","complete"),o&&!o.startsWith("local_"))try{await _e.from("questionnaire_responses").insert({session_id:o,movie_watching_frequency:x.movieWatchingFrequency,streaming_services:x.streamingServices,primary_streaming_service:x.primaryStreamingService,movie_genre_preferences:x.movieGenrePreferences,openness_to_experience:x.opennessToExperience,risk_aversion:x.riskAversion,movie_expertise:x.movieExpertise,serendipity_attitude:x.serendipityAttitude,novelty_attitude:x.noveltyAttitude,diversity_attitude:x.diversityAttitude,attention_check:x.attentionCheck,gender:x.gender,age_range:x.ageRange,nationality:x.nationality,occupation:x.occupation,additional_comments:x.additionalComments,email:x.email}),console.log("Questionnaire data saved")}catch(j){console.error("Error saving questionnaire data:",j)}e("complete"),await er(),cv()},Dh=()=>{const x=n.filter(j=>j.rating>=0);return x.length===0?0:x.reduce((j,R)=>j+R.rating,0)/x.length};F.useEffect(()=>{t==="recommendation"&&i.length>0&&$h()&&!k&&!p&&m(!0)},[n,t,i,k,p]);const Uh=()=>{m(!1),g(!0)},Fh=()=>{m(!1),ma()};return fn?c.jsx("div",{className:"min-h-screen bg-gray-950 flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx(Eu,{className:"animate-spin text-amber-500 mx-auto mb-4",size:48}),c.jsx("p",{className:"text-gray-400 text-lg",children:"Restoring your session..."})]})}):t==="intro"?c.jsx(Um,{onStart:Ah}):t==="choice"?c.jsx(zm,{ratingsCount:tr(),onGetRecommendations:Lh,onRateMore:Mh}):t==="questionnaire"?c.jsx(Bm,{onComplete:zh}):t==="complete"?c.jsx(Dm,{totalRatings:tr(),averageRating:Dh()}):c.jsxs("div",{className:"min-h-screen bg-gray-950",children:[c.jsx("header",{className:"bg-gray-900 border-b border-gray-800 sticky top-0 z-50",children:c.jsx("div",{className:"max-w-7xl mx-auto px-4 py-6",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(sh,{className:"text-amber-500",size:32}),c.jsx("h1",{className:"text-2xl font-bold text-white",children:"CineRate"})]}),c.jsx("div",{className:"text-amber-400 font-medium",children:t==="initial"?"Rate Movies":"Rate Recommendations"})]})})}),c.jsx("main",{className:"max-w-7xl mx-auto px-4 py-8",children:d?c.jsx("div",{className:"flex items-center justify-center min-h-96",children:c.jsxs("div",{className:"text-center",children:[c.jsx(Eu,{className:"animate-spin text-amber-500 mx-auto mb-4",size:48}),c.jsx("p",{className:"text-gray-400 text-lg",children:"Loading movies..."})]})}):f?c.jsx("div",{className:"flex items-center justify-center min-h-96",children:c.jsxs("div",{className:"text-center",children:[c.jsx(bu,{className:"text-red-500 mx-auto mb-4",size:48}),c.jsx("p",{className:"text-red-400 text-lg mb-4",children:f}),c.jsx("button",{onClick:()=>q(t==="recommendation"?"recommended":"initial"),className:"bg-amber-500 hover:bg-amber-600 text-black font-semibold py-2 px-4 rounded-lg transition-colors",children:"Retry"})]})}):i.length===0?!P&&!d&&c.jsx("div",{className:"flex items-center justify-center min-h-96",children:c.jsxs("div",{className:"text-center",children:[c.jsx(bu,{className:"text-yellow-500 mx-auto mb-4",size:48}),c.jsx("p",{className:"text-gray-400 text-lg mb-4",children:"No movies available"}),c.jsxs("p",{className:"text-gray-500 text-sm mb-4",children:["Phase: ",t,", Session ID: ",o||"None",", Loading: ",d?"Yes":"No"]}),c.jsx("button",{onClick:()=>{console.log("Retry button clicked, current state:",{phase:t,sessionId:o,loadingMovies:d}),t==="initial"&&!o?(console.log("No session, initializing app..."),pn()):q(t==="recommendation"?"recommended":"initial")},className:"bg-amber-500 hover:bg-amber-600 text-black font-semibold py-2 px-4 rounded-lg transition-colors",children:"Retry Loading Movies"})]})}):c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"mb-8",children:[c.jsx(Mm,{current:Rh(),total:i.length,minimum:t==="initial"?w:void 0,label:t==="initial"?"Initial Movie Ratings Progress":"Recommendation Ratings Progress"}),t==="initial"&&Ih()&&c.jsx("div",{className:"text-center mb-6",children:c.jsx("button",{onClick:()=>{N("initial","choice"),e("choice")},className:"bg-amber-500 hover:bg-amber-600 text-black font-semibold py-3 px-6 rounded-lg transition-all duration-300 transform hover:scale-105 shadow-lg",children:"Continue to Next Step"})}),t==="recommendation"&&c.jsxs("div",{className:"text-center mb-6",children:[c.jsx("button",{onClick:ma,className:"bg-green-500 hover:bg-green-600 text-white font-semibold py-3 px-6 rounded-lg transition-all duration-300 transform hover:scale-105 shadow-lg",children:"Finish Study"}),_.length>0&&c.jsxs("div",{className:"mt-4 p-4 bg-red-900 border border-red-500 rounded-lg",children:[c.jsx("p",{className:"text-red-400 font-semibold mb-2",children:"Please complete all ratings before finishing the study."}),c.jsxs("p",{className:"text-red-300 text-sm",children:["Missing ratings for ",_.length," movie(s). Movies with incomplete ratings are highlighted with red borders below."]})]})]})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:i.map(x=>{const j=Rs(x.id),R=_.includes(x.id);return c.jsx("div",{className:`${R?"ring-2 ring-red-500 rounded-xl":""}`,children:c.jsx(Lm,{movie:x,rating:j.rating,onRatingChange:O=>{lt(x.id,O),b(I=>I.filter(A=>A!==x.id))},showAdditionalQuestions:t==="recommendation",diversityRating:j.diversity||-1,noveltyRating:j.novelty||-1,serendipityRating:j.serendipity||-1,onDiversityChange:O=>{kt(x.id,"diversity",O),b(I=>I.filter(A=>A!==x.id))},onNoveltyChange:O=>{kt(x.id,"novelty",O),b(I=>I.filter(A=>A!==x.id))},onSerendipityChange:O=>{kt(x.id,"serendipity",O),b(I=>I.filter(A=>A!==x.id))},onTrailerStart:$,onTrailerEnd:M})},x.id)})}),t==="initial"&&c.jsxs("div",{className:"text-center mt-12",children:[c.jsxs("p",{className:"text-gray-400 text-lg mb-4",children:["Rate at least ",w," movies to get personalized recommendations"]}),c.jsxs("p",{className:"text-amber-400 text-sm",children:[tr(),"/",w," minimum ratings completed"]})]})]})}),c.jsx(Fm,{isOpen:k,onModifyRatings:Uh,onFinish:Fh})]})}nh(document.getElementById("root")).render(c.jsx(F.StrictMode,{children:c.jsx(dv,{})}));
